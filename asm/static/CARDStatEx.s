.include "macros.inc"

.section .text

.org 0x80092B24

.global __CARDGetStatusEx
__CARDGetStatusEx:
/* 80092B24 0008FA84  7C 08 02 A6 */	mflr r0
/* 80092B28 0008FA88  90 01 00 04 */	stw r0, 4(r1)
/* 80092B2C 0008FA8C  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 80092B30 0008FA90  93 E1 00 24 */	stw r31, 0x24(r1)
/* 80092B34 0008FA94  93 C1 00 20 */	stw r30, 0x20(r1)
/* 80092B38 0008FA98  7C 9E 23 79 */	or. r30, r4, r4
/* 80092B3C 0008FA9C  93 A1 00 1C */	stw r29, 0x1c(r1)
/* 80092B40 0008FAA0  3B A5 00 00 */	addi r29, r5, 0
/* 80092B44 0008FAA4  41 80 00 0C */	blt lbl_80092B50
/* 80092B48 0008FAA8  2C 1E 00 7F */	cmpwi r30, 0x7f
/* 80092B4C 0008FAAC  41 80 00 0C */	blt lbl_80092B58
lbl_80092B50:
/* 80092B50 0008FAB0  38 60 FF 80 */	li r3, -128
/* 80092B54 0008FAB4  48 00 00 70 */	b lbl_80092BC4
lbl_80092B58:
/* 80092B58 0008FAB8  38 81 00 14 */	addi r4, r1, 0x14
/* 80092B5C 0008FABC  4B FF B5 F1 */	bl __CARDGetControlBlock
/* 80092B60 0008FAC0  2C 03 00 00 */	cmpwi r3, 0
/* 80092B64 0008FAC4  40 80 00 08 */	bge lbl_80092B6C
/* 80092B68 0008FAC8  48 00 00 5C */	b lbl_80092BC4
lbl_80092B6C:
/* 80092B6C 0008FACC  80 61 00 14 */	lwz r3, 0x14(r1)
/* 80092B70 0008FAD0  4B FF C0 69 */	bl __CARDGetDirBlock
/* 80092B74 0008FAD4  57 C0 30 32 */	slwi r0, r30, 6
/* 80092B78 0008FAD8  7F C3 02 14 */	add r30, r3, r0
/* 80092B7C 0008FADC  80 61 00 14 */	lwz r3, 0x14(r1)
/* 80092B80 0008FAE0  7F C4 F3 78 */	mr r4, r30
/* 80092B84 0008FAE4  4B FF E5 A9 */	bl __CARDAccess
/* 80092B88 0008FAE8  3B E3 00 00 */	addi r31, r3, 0
/* 80092B8C 0008FAEC  2C 1F FF F6 */	cmpwi r31, -10
/* 80092B90 0008FAF0  40 82 00 10 */	bne lbl_80092BA0
/* 80092B94 0008FAF4  7F C3 F3 78 */	mr r3, r30
/* 80092B98 0008FAF8  4B FF E6 2D */	bl __CARDIsPublic
/* 80092B9C 0008FAFC  7C 7F 1B 78 */	mr r31, r3
lbl_80092BA0:
/* 80092BA0 0008FB00  2C 1F 00 00 */	cmpwi r31, 0
/* 80092BA4 0008FB04  41 80 00 14 */	blt lbl_80092BB8
/* 80092BA8 0008FB08  38 7D 00 00 */	addi r3, r29, 0
/* 80092BAC 0008FB0C  38 9E 00 00 */	addi r4, r30, 0
/* 80092BB0 0008FB10  38 A0 00 40 */	li r5, 0x40
/* 80092BB4 0008FB14  4B F7 08 DD */	bl memcpy
lbl_80092BB8:
/* 80092BB8 0008FB18  80 61 00 14 */	lwz r3, 0x14(r1)
/* 80092BBC 0008FB1C  7F E4 FB 78 */	mr r4, r31
/* 80092BC0 0008FB20  4B FF B6 45 */	bl __CARDPutControlBlock
lbl_80092BC4:
/* 80092BC4 0008FB24  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 80092BC8 0008FB28  83 E1 00 24 */	lwz r31, 0x24(r1)
/* 80092BCC 0008FB2C  83 C1 00 20 */	lwz r30, 0x20(r1)
/* 80092BD0 0008FB30  83 A1 00 1C */	lwz r29, 0x1c(r1)
/* 80092BD4 0008FB34  38 21 00 28 */	addi r1, r1, 0x28
/* 80092BD8 0008FB38  7C 08 03 A6 */	mtlr r0
/* 80092BDC 0008FB3C  4E 80 00 20 */	blr 

.global __CARDSetStatusExAsync
__CARDSetStatusExAsync:
/* 80092BE0 0008FB40  7C 08 02 A6 */	mflr r0
/* 80092BE4 0008FB44  90 01 00 04 */	stw r0, 4(r1)
/* 80092BE8 0008FB48  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 80092BEC 0008FB4C  BF 21 00 24 */	stmw r25, 0x24(r1)
/* 80092BF0 0008FB50  7C 9C 23 79 */	or. r28, r4, r4
/* 80092BF4 0008FB54  3B 63 00 00 */	addi r27, r3, 0
/* 80092BF8 0008FB58  3B A5 00 00 */	addi r29, r5, 0
/* 80092BFC 0008FB5C  3B C6 00 00 */	addi r30, r6, 0
/* 80092C00 0008FB60  41 80 00 20 */	blt lbl_80092C20
/* 80092C04 0008FB64  2C 1C 00 7F */	cmpwi r28, 0x7f
/* 80092C08 0008FB68  40 80 00 18 */	bge lbl_80092C20
/* 80092C0C 0008FB6C  88 1D 00 08 */	lbz r0, 8(r29)
/* 80092C10 0008FB70  28 00 00 FF */	cmplwi r0, 0xff
/* 80092C14 0008FB74  41 82 00 0C */	beq lbl_80092C20
/* 80092C18 0008FB78  28 00 00 00 */	cmplwi r0, 0
/* 80092C1C 0008FB7C  40 82 00 0C */	bne lbl_80092C28
lbl_80092C20:
/* 80092C20 0008FB80  38 60 FF 80 */	li r3, -128
/* 80092C24 0008FB84  48 00 01 FC */	b lbl_80092E20
lbl_80092C28:
/* 80092C28 0008FB88  38 7B 00 00 */	addi r3, r27, 0
/* 80092C2C 0008FB8C  38 81 00 18 */	addi r4, r1, 0x18
/* 80092C30 0008FB90  4B FF B5 1D */	bl __CARDGetControlBlock
/* 80092C34 0008FB94  2C 03 00 00 */	cmpwi r3, 0
/* 80092C38 0008FB98  40 80 00 08 */	bge lbl_80092C40
/* 80092C3C 0008FB9C  48 00 01 E4 */	b lbl_80092E20
lbl_80092C40:
/* 80092C40 0008FBA0  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80092C44 0008FBA4  4B FF BF 95 */	bl __CARDGetDirBlock
/* 80092C48 0008FBA8  7C 60 1B 78 */	mr r0, r3
/* 80092C4C 0008FBAC  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80092C50 0008FBB0  7C 1A 03 78 */	mr r26, r0
/* 80092C54 0008FBB4  57 80 30 32 */	slwi r0, r28, 6
/* 80092C58 0008FBB8  7F FA 02 14 */	add r31, r26, r0
/* 80092C5C 0008FBBC  38 9F 00 00 */	addi r4, r31, 0
/* 80092C60 0008FBC0  4B FF E4 CD */	bl __CARDAccess
/* 80092C64 0008FBC4  7C 64 1B 79 */	or. r4, r3, r3
/* 80092C68 0008FBC8  40 80 00 10 */	bge lbl_80092C78
/* 80092C6C 0008FBCC  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80092C70 0008FBD0  4B FF B5 95 */	bl __CARDPutControlBlock
/* 80092C74 0008FBD4  48 00 01 AC */	b lbl_80092E20
lbl_80092C78:
/* 80092C78 0008FBD8  38 9D 00 08 */	addi r4, r29, 8
/* 80092C7C 0008FBDC  38 7D 00 28 */	addi r3, r29, 0x28
/* 80092C80 0008FBE0  7C 04 18 50 */	subf r0, r4, r3
/* 80092C84 0008FBE4  7C 04 18 40 */	cmplw r4, r3
/* 80092C88 0008FBE8  7C 09 03 A6 */	mtctr r0
/* 80092C8C 0008FBEC  40 80 00 38 */	bge lbl_80092CC4
lbl_80092C90:
/* 80092C90 0008FBF0  88 04 00 00 */	lbz r0, 0(r4)
/* 80092C94 0008FBF4  28 00 00 00 */	cmplwi r0, 0
/* 80092C98 0008FBF8  40 82 00 24 */	bne lbl_80092CBC
/* 80092C9C 0008FBFC  38 1D 00 28 */	addi r0, r29, 0x28
/* 80092CA0 0008FC00  38 60 00 00 */	li r3, 0
/* 80092CA4 0008FC04  48 00 00 08 */	b lbl_80092CAC
lbl_80092CA8:
/* 80092CA8 0008FC08  98 64 00 00 */	stb r3, 0(r4)
lbl_80092CAC:
/* 80092CAC 0008FC0C  38 84 00 01 */	addi r4, r4, 1
/* 80092CB0 0008FC10  7C 04 00 40 */	cmplw r4, r0
/* 80092CB4 0008FC14  41 80 FF F4 */	blt lbl_80092CA8
/* 80092CB8 0008FC18  48 00 00 0C */	b lbl_80092CC4
lbl_80092CBC:
/* 80092CBC 0008FC1C  38 84 00 01 */	addi r4, r4, 1
/* 80092CC0 0008FC20  42 00 FF D0 */	bdnz lbl_80092C90
lbl_80092CC4:
/* 80092CC4 0008FC24  38 7F 00 08 */	addi r3, r31, 8
/* 80092CC8 0008FC28  38 9D 00 08 */	addi r4, r29, 8
/* 80092CCC 0008FC2C  38 A0 00 20 */	li r5, 0x20
/* 80092CD0 0008FC30  48 00 A3 25 */	bl memcmp
/* 80092CD4 0008FC34  2C 03 00 00 */	cmpwi r3, 0
/* 80092CD8 0008FC38  40 82 00 34 */	bne lbl_80092D0C
/* 80092CDC 0008FC3C  38 7F 00 00 */	addi r3, r31, 0
/* 80092CE0 0008FC40  38 9D 00 00 */	addi r4, r29, 0
/* 80092CE4 0008FC44  38 A0 00 04 */	li r5, 4
/* 80092CE8 0008FC48  48 00 A3 0D */	bl memcmp
/* 80092CEC 0008FC4C  2C 03 00 00 */	cmpwi r3, 0
/* 80092CF0 0008FC50  40 82 00 1C */	bne lbl_80092D0C
/* 80092CF4 0008FC54  38 7F 00 04 */	addi r3, r31, 4
/* 80092CF8 0008FC58  38 9D 00 04 */	addi r4, r29, 4
/* 80092CFC 0008FC5C  38 A0 00 02 */	li r5, 2
/* 80092D00 0008FC60  48 00 A2 F5 */	bl memcmp
/* 80092D04 0008FC64  2C 03 00 00 */	cmpwi r3, 0
/* 80092D08 0008FC68  41 82 00 B4 */	beq lbl_80092DBC
lbl_80092D0C:
/* 80092D0C 0008FC6C  3B 20 00 00 */	li r25, 0
lbl_80092D10:
/* 80092D10 0008FC70  7C 19 E0 00 */	cmpw r25, r28
/* 80092D14 0008FC74  41 82 00 68 */	beq lbl_80092D7C
/* 80092D18 0008FC78  88 1A 00 00 */	lbz r0, 0(r26)
/* 80092D1C 0008FC7C  28 00 00 FF */	cmplwi r0, 0xff
/* 80092D20 0008FC80  41 82 00 5C */	beq lbl_80092D7C
/* 80092D24 0008FC84  38 7A 00 00 */	addi r3, r26, 0
/* 80092D28 0008FC88  38 9D 00 00 */	addi r4, r29, 0
/* 80092D2C 0008FC8C  38 A0 00 04 */	li r5, 4
/* 80092D30 0008FC90  48 00 A2 C5 */	bl memcmp
/* 80092D34 0008FC94  2C 03 00 00 */	cmpwi r3, 0
/* 80092D38 0008FC98  40 82 00 44 */	bne lbl_80092D7C
/* 80092D3C 0008FC9C  38 7A 00 04 */	addi r3, r26, 4
/* 80092D40 0008FCA0  38 9D 00 04 */	addi r4, r29, 4
/* 80092D44 0008FCA4  38 A0 00 02 */	li r5, 2
/* 80092D48 0008FCA8  48 00 A2 AD */	bl memcmp
/* 80092D4C 0008FCAC  2C 03 00 00 */	cmpwi r3, 0
/* 80092D50 0008FCB0  40 82 00 2C */	bne lbl_80092D7C
/* 80092D54 0008FCB4  38 7A 00 08 */	addi r3, r26, 8
/* 80092D58 0008FCB8  38 9D 00 08 */	addi r4, r29, 8
/* 80092D5C 0008FCBC  38 A0 00 20 */	li r5, 0x20
/* 80092D60 0008FCC0  48 00 A2 95 */	bl memcmp
/* 80092D64 0008FCC4  2C 03 00 00 */	cmpwi r3, 0
/* 80092D68 0008FCC8  40 82 00 14 */	bne lbl_80092D7C
/* 80092D6C 0008FCCC  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80092D70 0008FCD0  38 80 FF F9 */	li r4, -7
/* 80092D74 0008FCD4  4B FF B4 91 */	bl __CARDPutControlBlock
/* 80092D78 0008FCD8  48 00 00 A8 */	b lbl_80092E20
lbl_80092D7C:
/* 80092D7C 0008FCDC  3B 39 00 01 */	addi r25, r25, 1
/* 80092D80 0008FCE0  2C 19 00 7F */	cmpwi r25, 0x7f
/* 80092D84 0008FCE4  3B 5A 00 40 */	addi r26, r26, 0x40
/* 80092D88 0008FCE8  41 80 FF 88 */	blt lbl_80092D10
/* 80092D8C 0008FCEC  38 7F 00 08 */	addi r3, r31, 8
/* 80092D90 0008FCF0  38 9D 00 08 */	addi r4, r29, 8
/* 80092D94 0008FCF4  38 A0 00 20 */	li r5, 0x20
/* 80092D98 0008FCF8  4B F7 06 F9 */	bl memcpy
/* 80092D9C 0008FCFC  38 7F 00 00 */	addi r3, r31, 0
/* 80092DA0 0008FD00  38 9D 00 00 */	addi r4, r29, 0
/* 80092DA4 0008FD04  38 A0 00 04 */	li r5, 4
/* 80092DA8 0008FD08  4B F7 06 E9 */	bl memcpy
/* 80092DAC 0008FD0C  38 7F 00 04 */	addi r3, r31, 4
/* 80092DB0 0008FD10  38 9D 00 04 */	addi r4, r29, 4
/* 80092DB4 0008FD14  38 A0 00 02 */	li r5, 2
/* 80092DB8 0008FD18  4B F7 06 D9 */	bl memcpy
lbl_80092DBC:
/* 80092DBC 0008FD1C  80 1D 00 28 */	lwz r0, 0x28(r29)
/* 80092DC0 0008FD20  38 7B 00 00 */	addi r3, r27, 0
/* 80092DC4 0008FD24  38 9E 00 00 */	addi r4, r30, 0
/* 80092DC8 0008FD28  90 1F 00 28 */	stw r0, 0x28(r31)
/* 80092DCC 0008FD2C  88 1D 00 07 */	lbz r0, 7(r29)
/* 80092DD0 0008FD30  98 1F 00 07 */	stb r0, 7(r31)
/* 80092DD4 0008FD34  80 1D 00 2C */	lwz r0, 0x2c(r29)
/* 80092DD8 0008FD38  90 1F 00 2C */	stw r0, 0x2c(r31)
/* 80092DDC 0008FD3C  A0 1D 00 30 */	lhz r0, 0x30(r29)
/* 80092DE0 0008FD40  B0 1F 00 30 */	sth r0, 0x30(r31)
/* 80092DE4 0008FD44  A0 1D 00 32 */	lhz r0, 0x32(r29)
/* 80092DE8 0008FD48  B0 1F 00 32 */	sth r0, 0x32(r31)
/* 80092DEC 0008FD4C  80 1D 00 3C */	lwz r0, 0x3c(r29)
/* 80092DF0 0008FD50  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80092DF4 0008FD54  88 1D 00 34 */	lbz r0, 0x34(r29)
/* 80092DF8 0008FD58  98 1F 00 34 */	stb r0, 0x34(r31)
/* 80092DFC 0008FD5C  88 1D 00 35 */	lbz r0, 0x35(r29)
/* 80092E00 0008FD60  98 1F 00 35 */	stb r0, 0x35(r31)
/* 80092E04 0008FD64  4B FF BF 75 */	bl __CARDUpdateDir
/* 80092E08 0008FD68  7C 7A 1B 79 */	or. r26, r3, r3
/* 80092E0C 0008FD6C  40 80 00 10 */	bge lbl_80092E1C
/* 80092E10 0008FD70  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80092E14 0008FD74  7F 44 D3 78 */	mr r4, r26
/* 80092E18 0008FD78  4B FF B3 ED */	bl __CARDPutControlBlock
lbl_80092E1C:
/* 80092E1C 0008FD7C  7F 43 D3 78 */	mr r3, r26
lbl_80092E20:
/* 80092E20 0008FD80  BB 21 00 24 */	lmw r25, 0x24(r1)
/* 80092E24 0008FD84  80 01 00 44 */	lwz r0, 0x44(r1)
/* 80092E28 0008FD88  38 21 00 40 */	addi r1, r1, 0x40
/* 80092E2C 0008FD8C  7C 08 03 A6 */	mtlr r0
/* 80092E30 0008FD90  4E 80 00 20 */	blr 

.global __CARDSetStatusEx
__CARDSetStatusEx:
/* 80092E34 0008FD94  7C 08 02 A6 */	mflr r0
/* 80092E38 0008FD98  3C C0 80 09 */	lis r6, __CARDSyncCallback@ha
/* 80092E3C 0008FD9C  90 01 00 04 */	stw r0, 4(r1)
/* 80092E40 0008FDA0  38 C6 D2 08 */	addi r6, r6, __CARDSyncCallback@l
/* 80092E44 0008FDA4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80092E48 0008FDA8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80092E4C 0008FDAC  3B E3 00 00 */	addi r31, r3, 0
/* 80092E50 0008FDB0  4B FF FD 91 */	bl __CARDSetStatusExAsync
/* 80092E54 0008FDB4  2C 03 00 00 */	cmpwi r3, 0
/* 80092E58 0008FDB8  40 80 00 08 */	bge lbl_80092E60
/* 80092E5C 0008FDBC  48 00 00 0C */	b lbl_80092E68
lbl_80092E60:
/* 80092E60 0008FDC0  7F E3 FB 78 */	mr r3, r31
/* 80092E64 0008FDC4  4B FF B6 09 */	bl __CARDSync
lbl_80092E68:
/* 80092E68 0008FDC8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80092E6C 0008FDCC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80092E70 0008FDD0  38 21 00 20 */	addi r1, r1, 0x20
/* 80092E74 0008FDD4  7C 08 03 A6 */	mtlr r0
/* 80092E78 0008FDD8  4E 80 00 20 */	blr 
