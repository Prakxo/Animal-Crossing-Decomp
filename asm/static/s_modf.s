.include "macros.inc"

.section .text

.org 0x800A1DE0

.global modf
modf:
/* 800A1DE0 0009ED40  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800A1DE4 0009ED44  D8 21 00 08 */	stfd f1, 8(r1)
/* 800A1DE8 0009ED48  80 A1 00 08 */	lwz r5, 8(r1)
/* 800A1DEC 0009ED4C  80 C1 00 0C */	lwz r6, 0xc(r1)
/* 800A1DF0 0009ED50  54 A4 65 7E */	rlwinm r4, r5, 0xc, 0x15, 0x1f
/* 800A1DF4 0009ED54  38 E4 FC 01 */	addi r7, r4, -1023
/* 800A1DF8 0009ED58  2C 07 00 14 */	cmpwi r7, 0x14
/* 800A1DFC 0009ED5C  40 80 00 70 */	bge lbl_800A1E6C
/* 800A1E00 0009ED60  2C 07 00 00 */	cmpwi r7, 0
/* 800A1E04 0009ED64  40 80 00 18 */	bge lbl_800A1E1C
/* 800A1E08 0009ED68  54 A4 00 00 */	rlwinm r4, r5, 0, 0, 0
/* 800A1E0C 0009ED6C  38 00 00 00 */	li r0, 0
/* 800A1E10 0009ED70  90 83 00 00 */	stw r4, 0(r3)
/* 800A1E14 0009ED74  90 03 00 04 */	stw r0, 4(r3)
/* 800A1E18 0009ED78  48 00 00 BC */	b lbl_800A1ED4
lbl_800A1E1C:
/* 800A1E1C 0009ED7C  3C 80 00 10 */	lis r4, 0x000FFFFF@ha
/* 800A1E20 0009ED80  38 04 FF FF */	addi r0, r4, 0x000FFFFF@l
/* 800A1E24 0009ED84  7C 04 3E 30 */	sraw r4, r0, r7
/* 800A1E28 0009ED88  7C A0 20 38 */	and r0, r5, r4
/* 800A1E2C 0009ED8C  7C C0 03 79 */	or. r0, r6, r0
/* 800A1E30 0009ED90  40 82 00 20 */	bne lbl_800A1E50
/* 800A1E34 0009ED94  54 A4 00 00 */	rlwinm r4, r5, 0, 0, 0
/* 800A1E38 0009ED98  38 00 00 00 */	li r0, 0
/* 800A1E3C 0009ED9C  90 81 00 08 */	stw r4, 8(r1)
/* 800A1E40 0009EDA0  90 01 00 0C */	stw r0, 0xc(r1)
/* 800A1E44 0009EDA4  D8 23 00 00 */	stfd f1, 0(r3)
/* 800A1E48 0009EDA8  C8 21 00 08 */	lfd f1, 8(r1)
/* 800A1E4C 0009EDAC  48 00 00 88 */	b lbl_800A1ED4
lbl_800A1E50:
/* 800A1E50 0009EDB0  7C A4 20 78 */	andc r4, r5, r4
/* 800A1E54 0009EDB4  38 00 00 00 */	li r0, 0
/* 800A1E58 0009EDB8  90 83 00 00 */	stw r4, 0(r3)
/* 800A1E5C 0009EDBC  90 03 00 04 */	stw r0, 4(r3)
/* 800A1E60 0009EDC0  C8 03 00 00 */	lfd f0, 0(r3)
/* 800A1E64 0009EDC4  FC 21 00 28 */	fsub f1, f1, f0
/* 800A1E68 0009EDC8  48 00 00 6C */	b lbl_800A1ED4
lbl_800A1E6C:
/* 800A1E6C 0009EDCC  2C 07 00 33 */	cmpwi r7, 0x33
/* 800A1E70 0009EDD0  40 81 00 20 */	ble lbl_800A1E90
/* 800A1E74 0009EDD4  54 A4 00 00 */	rlwinm r4, r5, 0, 0, 0
/* 800A1E78 0009EDD8  38 00 00 00 */	li r0, 0
/* 800A1E7C 0009EDDC  90 81 00 08 */	stw r4, 8(r1)
/* 800A1E80 0009EDE0  90 01 00 0C */	stw r0, 0xc(r1)
/* 800A1E84 0009EDE4  D8 23 00 00 */	stfd f1, 0(r3)
/* 800A1E88 0009EDE8  C8 21 00 08 */	lfd f1, 8(r1)
/* 800A1E8C 0009EDEC  48 00 00 48 */	b lbl_800A1ED4
lbl_800A1E90:
/* 800A1E90 0009EDF0  38 07 FF EC */	addi r0, r7, -20
/* 800A1E94 0009EDF4  38 80 FF FF */	li r4, -1
/* 800A1E98 0009EDF8  7C 84 04 30 */	srw r4, r4, r0
/* 800A1E9C 0009EDFC  7C C0 20 39 */	and. r0, r6, r4
/* 800A1EA0 0009EE00  40 82 00 20 */	bne lbl_800A1EC0
/* 800A1EA4 0009EE04  54 A4 00 00 */	rlwinm r4, r5, 0, 0, 0
/* 800A1EA8 0009EE08  38 00 00 00 */	li r0, 0
/* 800A1EAC 0009EE0C  90 81 00 08 */	stw r4, 8(r1)
/* 800A1EB0 0009EE10  90 01 00 0C */	stw r0, 0xc(r1)
/* 800A1EB4 0009EE14  D8 23 00 00 */	stfd f1, 0(r3)
/* 800A1EB8 0009EE18  C8 21 00 08 */	lfd f1, 8(r1)
/* 800A1EBC 0009EE1C  48 00 00 18 */	b lbl_800A1ED4
lbl_800A1EC0:
/* 800A1EC0 0009EE20  90 A3 00 00 */	stw r5, 0(r3)
/* 800A1EC4 0009EE24  7C C0 20 78 */	andc r0, r6, r4
/* 800A1EC8 0009EE28  90 03 00 04 */	stw r0, 4(r3)
/* 800A1ECC 0009EE2C  C8 03 00 00 */	lfd f0, 0(r3)
/* 800A1ED0 0009EE30  FC 21 00 28 */	fsub f1, f1, f0
lbl_800A1ED4:
/* 800A1ED4 0009EE34  38 21 00 10 */	addi r1, r1, 0x10
/* 800A1ED8 0009EE38  4E 80 00 20 */	blr 
