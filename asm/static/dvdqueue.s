.include "macros.inc"

.section .text

.org 0x800877C0

.global __DVDClearWaitingQueue
__DVDClearWaitingQueue:
/* 800877C0 00084720  3C 60 80 21 */	lis r3, WaitingQueue@ha
/* 800877C4 00084724  38 63 82 B8 */	addi r3, r3, WaitingQueue@l
/* 800877C8 00084728  90 63 00 00 */	stw r3, 0(r3)
/* 800877CC 0008472C  38 A3 00 08 */	addi r5, r3, 8
/* 800877D0 00084730  38 83 00 10 */	addi r4, r3, 0x10
/* 800877D4 00084734  90 63 00 04 */	stw r3, 4(r3)
/* 800877D8 00084738  38 63 00 18 */	addi r3, r3, 0x18
/* 800877DC 0008473C  90 A5 00 00 */	stw r5, 0(r5)
/* 800877E0 00084740  90 A5 00 04 */	stw r5, 4(r5)
/* 800877E4 00084744  90 84 00 00 */	stw r4, 0(r4)
/* 800877E8 00084748  90 84 00 04 */	stw r4, 4(r4)
/* 800877EC 0008474C  90 63 00 00 */	stw r3, 0(r3)
/* 800877F0 00084750  90 63 00 04 */	stw r3, 4(r3)
/* 800877F4 00084754  4E 80 00 20 */	blr 

.global __DVDPushWaitingQueue
__DVDPushWaitingQueue:
/* 800877F8 00084758  7C 08 02 A6 */	mflr r0
/* 800877FC 0008475C  90 01 00 04 */	stw r0, 4(r1)
/* 80087800 00084760  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80087804 00084764  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80087808 00084768  3B E4 00 00 */	addi r31, r4, 0
/* 8008780C 0008476C  93 C1 00 10 */	stw r30, 0x10(r1)
/* 80087810 00084770  3B C3 00 00 */	addi r30, r3, 0
/* 80087814 00084774  4B FF 34 11 */	bl OSDisableInterrupts
/* 80087818 00084778  3C 80 80 21 */	lis r4, WaitingQueue@ha
/* 8008781C 0008477C  57 C5 18 38 */	slwi r5, r30, 3
/* 80087820 00084780  38 04 82 B8 */	addi r0, r4, WaitingQueue@l
/* 80087824 00084784  7C A0 2A 14 */	add r5, r0, r5
/* 80087828 00084788  80 85 00 04 */	lwz r4, 4(r5)
/* 8008782C 0008478C  93 E4 00 00 */	stw r31, 0(r4)
/* 80087830 00084790  80 05 00 04 */	lwz r0, 4(r5)
/* 80087834 00084794  90 1F 00 04 */	stw r0, 4(r31)
/* 80087838 00084798  90 BF 00 00 */	stw r5, 0(r31)
/* 8008783C 0008479C  93 E5 00 04 */	stw r31, 4(r5)
/* 80087840 000847A0  4B FF 34 0D */	bl OSRestoreInterrupts
/* 80087844 000847A4  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 80087848 000847A8  38 60 00 01 */	li r3, 1
/* 8008784C 000847AC  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 80087850 000847B0  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 80087854 000847B4  38 21 00 18 */	addi r1, r1, 0x18
/* 80087858 000847B8  7C 08 03 A6 */	mtlr r0
/* 8008785C 000847BC  4E 80 00 20 */	blr 

.global __DVDPopWaitingQueue
__DVDPopWaitingQueue:
/* 80087860 000847C0  7C 08 02 A6 */	mflr r0
/* 80087864 000847C4  90 01 00 04 */	stw r0, 4(r1)
/* 80087868 000847C8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8008786C 000847CC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80087870 000847D0  4B FF 33 B5 */	bl OSDisableInterrupts
/* 80087874 000847D4  38 00 00 04 */	li r0, 4
/* 80087878 000847D8  3C 80 80 21 */	lis r4, WaitingQueue@ha
/* 8008787C 000847DC  7C 09 03 A6 */	mtctr r0
/* 80087880 000847E0  38 84 82 B8 */	addi r4, r4, WaitingQueue@l
/* 80087884 000847E4  3B E0 00 00 */	li r31, 0
lbl_80087888:
/* 80087888 000847E8  80 04 00 00 */	lwz r0, 0(r4)
/* 8008788C 000847EC  7C 00 20 40 */	cmplw r0, r4
/* 80087890 000847F0  41 82 00 48 */	beq lbl_800878D8
/* 80087894 000847F4  4B FF 33 B9 */	bl OSRestoreInterrupts
/* 80087898 000847F8  4B FF 33 8D */	bl OSDisableInterrupts
/* 8008789C 000847FC  3C 80 80 21 */	lis r4, WaitingQueue@ha
/* 800878A0 00084800  57 E5 18 38 */	slwi r5, r31, 3
/* 800878A4 00084804  38 04 82 B8 */	addi r0, r4, WaitingQueue@l
/* 800878A8 00084808  7C A0 2A 14 */	add r5, r0, r5
/* 800878AC 0008480C  83 E5 00 00 */	lwz r31, 0(r5)
/* 800878B0 00084810  80 1F 00 00 */	lwz r0, 0(r31)
/* 800878B4 00084814  90 05 00 00 */	stw r0, 0(r5)
/* 800878B8 00084818  80 9F 00 00 */	lwz r4, 0(r31)
/* 800878BC 0008481C  90 A4 00 04 */	stw r5, 4(r4)
/* 800878C0 00084820  4B FF 33 8D */	bl OSRestoreInterrupts
/* 800878C4 00084824  38 00 00 00 */	li r0, 0
/* 800878C8 00084828  90 1F 00 00 */	stw r0, 0(r31)
/* 800878CC 0008482C  7F E3 FB 78 */	mr r3, r31
/* 800878D0 00084830  90 1F 00 04 */	stw r0, 4(r31)
/* 800878D4 00084834  48 00 00 18 */	b lbl_800878EC
lbl_800878D8:
/* 800878D8 00084838  38 84 00 08 */	addi r4, r4, 8
/* 800878DC 0008483C  3B FF 00 01 */	addi r31, r31, 1
/* 800878E0 00084840  42 00 FF A8 */	bdnz lbl_80087888
/* 800878E4 00084844  4B FF 33 69 */	bl OSRestoreInterrupts
/* 800878E8 00084848  38 60 00 00 */	li r3, 0
lbl_800878EC:
/* 800878EC 0008484C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800878F0 00084850  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800878F4 00084854  38 21 00 10 */	addi r1, r1, 0x10
/* 800878F8 00084858  7C 08 03 A6 */	mtlr r0
/* 800878FC 0008485C  4E 80 00 20 */	blr 

.global __DVDCheckWaitingQueue
__DVDCheckWaitingQueue:
/* 80087900 00084860  7C 08 02 A6 */	mflr r0
/* 80087904 00084864  90 01 00 04 */	stw r0, 4(r1)
/* 80087908 00084868  94 21 FF F8 */	stwu r1, -8(r1)
/* 8008790C 0008486C  4B FF 33 19 */	bl OSDisableInterrupts
/* 80087910 00084870  38 00 00 04 */	li r0, 4
/* 80087914 00084874  3C 80 80 21 */	lis r4, WaitingQueue@ha
/* 80087918 00084878  7C 09 03 A6 */	mtctr r0
/* 8008791C 0008487C  38 84 82 B8 */	addi r4, r4, WaitingQueue@l
lbl_80087920:
/* 80087920 00084880  80 04 00 00 */	lwz r0, 0(r4)
/* 80087924 00084884  7C 00 20 40 */	cmplw r0, r4
/* 80087928 00084888  41 82 00 10 */	beq lbl_80087938
/* 8008792C 0008488C  4B FF 33 21 */	bl OSRestoreInterrupts
/* 80087930 00084890  38 60 00 01 */	li r3, 1
/* 80087934 00084894  48 00 00 14 */	b lbl_80087948
lbl_80087938:
/* 80087938 00084898  38 84 00 08 */	addi r4, r4, 8
/* 8008793C 0008489C  42 00 FF E4 */	bdnz lbl_80087920
/* 80087940 000848A0  4B FF 33 0D */	bl OSRestoreInterrupts
/* 80087944 000848A4  38 60 00 00 */	li r3, 0
lbl_80087948:
/* 80087948 000848A8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8008794C 000848AC  38 21 00 08 */	addi r1, r1, 8
/* 80087950 000848B0  7C 08 03 A6 */	mtlr r0
/* 80087954 000848B4  4E 80 00 20 */	blr 

.global __DVDDequeueWaitingQueue
__DVDDequeueWaitingQueue:
/* 80087958 000848B8  7C 08 02 A6 */	mflr r0
/* 8008795C 000848BC  90 01 00 04 */	stw r0, 4(r1)
/* 80087960 000848C0  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80087964 000848C4  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80087968 000848C8  7C 7F 1B 78 */	mr r31, r3
/* 8008796C 000848CC  4B FF 32 B9 */	bl OSDisableInterrupts
/* 80087970 000848D0  80 9F 00 04 */	lwz r4, 4(r31)
/* 80087974 000848D4  80 BF 00 00 */	lwz r5, 0(r31)
/* 80087978 000848D8  28 04 00 00 */	cmplwi r4, 0
/* 8008797C 000848DC  41 82 00 0C */	beq lbl_80087988
/* 80087980 000848E0  28 05 00 00 */	cmplwi r5, 0
/* 80087984 000848E4  40 82 00 10 */	bne lbl_80087994
lbl_80087988:
/* 80087988 000848E8  4B FF 32 C5 */	bl OSRestoreInterrupts
/* 8008798C 000848EC  38 60 00 00 */	li r3, 0
/* 80087990 000848F0  48 00 00 14 */	b lbl_800879A4
lbl_80087994:
/* 80087994 000848F4  90 A4 00 00 */	stw r5, 0(r4)
/* 80087998 000848F8  90 85 00 04 */	stw r4, 4(r5)
/* 8008799C 000848FC  4B FF 32 B1 */	bl OSRestoreInterrupts
/* 800879A0 00084900  38 60 00 01 */	li r3, 1
lbl_800879A4:
/* 800879A4 00084904  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 800879A8 00084908  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 800879AC 0008490C  38 21 00 18 */	addi r1, r1, 0x18
/* 800879B0 00084910  7C 08 03 A6 */	mtlr r0
/* 800879B4 00084914  4E 80 00 20 */	blr 
