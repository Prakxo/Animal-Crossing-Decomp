.include "macros.inc"

.section .text

.org 0x80089AFC

.global ClampStick
ClampStick:
/* 80089AFC 00086A5C  88 03 00 00 */	lbz r0, 0(r3)
/* 80089B00 00086A60  89 84 00 00 */	lbz r12, 0(r4)
/* 80089B04 00086A64  7C 00 07 75 */	extsb. r0, r0
/* 80089B08 00086A68  7D 8C 07 74 */	extsb r12, r12
/* 80089B0C 00086A6C  7C 0B 03 78 */	mr r11, r0
/* 80089B10 00086A70  41 80 00 0C */	blt lbl_80089B1C
/* 80089B14 00086A74  38 00 00 01 */	li r0, 1
/* 80089B18 00086A78  48 00 00 0C */	b lbl_80089B24
lbl_80089B1C:
/* 80089B1C 00086A7C  38 00 FF FF */	li r0, -1
/* 80089B20 00086A80  7D 6B 00 D0 */	neg r11, r11
lbl_80089B24:
/* 80089B24 00086A84  2C 0C 00 00 */	cmpwi r12, 0
/* 80089B28 00086A88  41 80 00 0C */	blt lbl_80089B34
/* 80089B2C 00086A8C  39 00 00 01 */	li r8, 1
/* 80089B30 00086A90  48 00 00 0C */	b lbl_80089B3C
lbl_80089B34:
/* 80089B34 00086A94  39 00 FF FF */	li r8, -1
/* 80089B38 00086A98  7D 8C 00 D0 */	neg r12, r12
lbl_80089B3C:
/* 80089B3C 00086A9C  7C E7 07 74 */	extsb r7, r7
/* 80089B40 00086AA0  7C 0B 38 00 */	cmpw r11, r7
/* 80089B44 00086AA4  41 81 00 0C */	bgt lbl_80089B50
/* 80089B48 00086AA8  39 60 00 00 */	li r11, 0
/* 80089B4C 00086AAC  48 00 00 08 */	b lbl_80089B54
lbl_80089B50:
/* 80089B50 00086AB0  7D 67 58 50 */	subf r11, r7, r11
lbl_80089B54:
/* 80089B54 00086AB4  7C 0C 38 00 */	cmpw r12, r7
/* 80089B58 00086AB8  41 81 00 0C */	bgt lbl_80089B64
/* 80089B5C 00086ABC  39 80 00 00 */	li r12, 0
/* 80089B60 00086AC0  48 00 00 08 */	b lbl_80089B68
lbl_80089B64:
/* 80089B64 00086AC4  7D 87 60 50 */	subf r12, r7, r12
lbl_80089B68:
/* 80089B68 00086AC8  2C 0B 00 00 */	cmpwi r11, 0
/* 80089B6C 00086ACC  40 82 00 1C */	bne lbl_80089B88
/* 80089B70 00086AD0  2C 0C 00 00 */	cmpwi r12, 0
/* 80089B74 00086AD4  40 82 00 14 */	bne lbl_80089B88
/* 80089B78 00086AD8  38 00 00 00 */	li r0, 0
/* 80089B7C 00086ADC  98 04 00 00 */	stb r0, 0(r4)
/* 80089B80 00086AE0  98 03 00 00 */	stb r0, 0(r3)
/* 80089B84 00086AE4  4E 80 00 20 */	blr 
lbl_80089B88:
/* 80089B88 00086AE8  7C C6 07 74 */	extsb r6, r6
/* 80089B8C 00086AEC  7D 26 61 D6 */	mullw r9, r6, r12
/* 80089B90 00086AF0  7C E6 59 D6 */	mullw r7, r6, r11
/* 80089B94 00086AF4  7C 09 38 00 */	cmpw r9, r7
/* 80089B98 00086AF8  41 81 00 44 */	bgt lbl_80089BDC
/* 80089B9C 00086AFC  7C A9 07 74 */	extsb r9, r5
/* 80089BA0 00086B00  7C A6 48 50 */	subf r5, r6, r9
/* 80089BA4 00086B04  7C AC 29 D6 */	mullw r5, r12, r5
/* 80089BA8 00086B08  7D 26 49 D6 */	mullw r9, r6, r9
/* 80089BAC 00086B0C  7C E7 2A 14 */	add r7, r7, r5
/* 80089BB0 00086B10  7C 09 38 00 */	cmpw r9, r7
/* 80089BB4 00086B14  40 80 00 64 */	bge lbl_80089C18
/* 80089BB8 00086B18  7C CB 49 D6 */	mullw r6, r11, r9
/* 80089BBC 00086B1C  7C AC 49 D6 */	mullw r5, r12, r9
/* 80089BC0 00086B20  7C C6 3B D6 */	divw r6, r6, r7
/* 80089BC4 00086B24  7C A5 3B D6 */	divw r5, r5, r7
/* 80089BC8 00086B28  7C C6 07 74 */	extsb r6, r6
/* 80089BCC 00086B2C  7C A5 07 74 */	extsb r5, r5
/* 80089BD0 00086B30  39 66 00 00 */	addi r11, r6, 0
/* 80089BD4 00086B34  39 85 00 00 */	addi r12, r5, 0
/* 80089BD8 00086B38  48 00 00 40 */	b lbl_80089C18
lbl_80089BDC:
/* 80089BDC 00086B3C  7C A7 07 74 */	extsb r7, r5
/* 80089BE0 00086B40  7C A6 38 50 */	subf r5, r6, r7
/* 80089BE4 00086B44  7C AB 29 D6 */	mullw r5, r11, r5
/* 80089BE8 00086B48  7D 46 39 D6 */	mullw r10, r6, r7
/* 80089BEC 00086B4C  7C E9 2A 14 */	add r7, r9, r5
/* 80089BF0 00086B50  7C 0A 38 00 */	cmpw r10, r7
/* 80089BF4 00086B54  40 80 00 24 */	bge lbl_80089C18
/* 80089BF8 00086B58  7C CB 51 D6 */	mullw r6, r11, r10
/* 80089BFC 00086B5C  7C AC 51 D6 */	mullw r5, r12, r10
/* 80089C00 00086B60  7C C6 3B D6 */	divw r6, r6, r7
/* 80089C04 00086B64  7C A5 3B D6 */	divw r5, r5, r7
/* 80089C08 00086B68  7C C6 07 74 */	extsb r6, r6
/* 80089C0C 00086B6C  7C A5 07 74 */	extsb r5, r5
/* 80089C10 00086B70  39 66 00 00 */	addi r11, r6, 0
/* 80089C14 00086B74  39 85 00 00 */	addi r12, r5, 0
lbl_80089C18:
/* 80089C18 00086B78  7C A0 59 D6 */	mullw r5, r0, r11
/* 80089C1C 00086B7C  7C 08 61 D6 */	mullw r0, r8, r12
/* 80089C20 00086B80  98 A3 00 00 */	stb r5, 0(r3)
/* 80089C24 00086B84  98 04 00 00 */	stb r0, 0(r4)
/* 80089C28 00086B88  4E 80 00 20 */	blr 

.global PADClamp
PADClamp:
/* 80089C2C 00086B8C  7C 08 02 A6 */	mflr r0
/* 80089C30 00086B90  90 01 00 04 */	stw r0, 4(r1)
/* 80089C34 00086B94  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80089C38 00086B98  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80089C3C 00086B9C  3B E0 00 00 */	li r31, 0
/* 80089C40 00086BA0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80089C44 00086BA4  3B C3 00 00 */	addi r30, r3, 0
/* 80089C48 00086BA8  93 A1 00 14 */	stw r29, 0x14(r1)
lbl_80089C4C:
/* 80089C4C 00086BAC  88 1E 00 0A */	lbz r0, 0xa(r30)
/* 80089C50 00086BB0  7C 00 07 75 */	extsb. r0, r0
/* 80089C54 00086BB4  40 82 00 B4 */	bne lbl_80089D08
/* 80089C58 00086BB8  3B AD 86 48 */	addi r29, r13, ClampRegion-_SDA_BASE_
/* 80089C5C 00086BBC  88 BD 00 03 */	lbz r5, 3(r29)
/* 80089C60 00086BC0  38 7E 00 02 */	addi r3, r30, 2
/* 80089C64 00086BC4  88 DD 00 04 */	lbz r6, 4(r29)
/* 80089C68 00086BC8  38 9E 00 03 */	addi r4, r30, 3
/* 80089C6C 00086BCC  88 FD 00 02 */	lbz r7, 2(r29)
/* 80089C70 00086BD0  4B FF FE 8D */	bl ClampStick
/* 80089C74 00086BD4  88 BD 00 06 */	lbz r5, 6(r29)
/* 80089C78 00086BD8  38 7E 00 04 */	addi r3, r30, 4
/* 80089C7C 00086BDC  88 DD 00 07 */	lbz r6, 7(r29)
/* 80089C80 00086BE0  38 9E 00 05 */	addi r4, r30, 5
/* 80089C84 00086BE4  88 FD 00 05 */	lbz r7, 5(r29)
/* 80089C88 00086BE8  4B FF FE 75 */	bl ClampStick
/* 80089C8C 00086BEC  88 7E 00 06 */	lbz r3, 6(r30)
/* 80089C90 00086BF0  88 0D 86 48 */	lbz r0, ClampRegion-_SDA_BASE_(r13)
/* 80089C94 00086BF4  7C 03 00 40 */	cmplw r3, r0
/* 80089C98 00086BF8  41 81 00 10 */	bgt lbl_80089CA8
/* 80089C9C 00086BFC  38 00 00 00 */	li r0, 0
/* 80089CA0 00086C00  98 1E 00 06 */	stb r0, 6(r30)
/* 80089CA4 00086C04  48 00 00 24 */	b lbl_80089CC8
lbl_80089CA8:
/* 80089CA8 00086C08  88 1D 00 01 */	lbz r0, 1(r29)
/* 80089CAC 00086C0C  7C 00 18 40 */	cmplw r0, r3
/* 80089CB0 00086C10  40 80 00 08 */	bge lbl_80089CB8
/* 80089CB4 00086C14  98 1E 00 06 */	stb r0, 6(r30)
lbl_80089CB8:
/* 80089CB8 00086C18  88 6D 86 48 */	lbz r3, ClampRegion-_SDA_BASE_(r13)
/* 80089CBC 00086C1C  88 1E 00 06 */	lbz r0, 6(r30)
/* 80089CC0 00086C20  7C 03 00 50 */	subf r0, r3, r0
/* 80089CC4 00086C24  98 1E 00 06 */	stb r0, 6(r30)
lbl_80089CC8:
/* 80089CC8 00086C28  88 9E 00 07 */	lbz r4, 7(r30)
/* 80089CCC 00086C2C  88 0D 86 48 */	lbz r0, ClampRegion-_SDA_BASE_(r13)
/* 80089CD0 00086C30  7C 04 00 40 */	cmplw r4, r0
/* 80089CD4 00086C34  41 81 00 10 */	bgt lbl_80089CE4
/* 80089CD8 00086C38  38 00 00 00 */	li r0, 0
/* 80089CDC 00086C3C  98 1E 00 07 */	stb r0, 7(r30)
/* 80089CE0 00086C40  48 00 00 28 */	b lbl_80089D08
lbl_80089CE4:
/* 80089CE4 00086C44  38 6D 86 48 */	addi r3, r13, ClampRegion-_SDA_BASE_
/* 80089CE8 00086C48  88 03 00 01 */	lbz r0, 1(r3)
/* 80089CEC 00086C4C  7C 00 20 40 */	cmplw r0, r4
/* 80089CF0 00086C50  40 80 00 08 */	bge lbl_80089CF8
/* 80089CF4 00086C54  98 1E 00 07 */	stb r0, 7(r30)
lbl_80089CF8:
/* 80089CF8 00086C58  88 6D 86 48 */	lbz r3, ClampRegion-_SDA_BASE_(r13)
/* 80089CFC 00086C5C  88 1E 00 07 */	lbz r0, 7(r30)
/* 80089D00 00086C60  7C 03 00 50 */	subf r0, r3, r0
/* 80089D04 00086C64  98 1E 00 07 */	stb r0, 7(r30)
lbl_80089D08:
/* 80089D08 00086C68  3B FF 00 01 */	addi r31, r31, 1
/* 80089D0C 00086C6C  2C 1F 00 04 */	cmpwi r31, 4
/* 80089D10 00086C70  3B DE 00 0C */	addi r30, r30, 0xc
/* 80089D14 00086C74  41 80 FF 38 */	blt lbl_80089C4C
/* 80089D18 00086C78  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80089D1C 00086C7C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80089D20 00086C80  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80089D24 00086C84  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80089D28 00086C88  38 21 00 20 */	addi r1, r1, 0x20
/* 80089D2C 00086C8C  7C 08 03 A6 */	mtlr r0
/* 80089D30 00086C90  4E 80 00 20 */	blr 
