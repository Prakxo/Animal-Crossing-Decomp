.include "macros.inc"

.section .text

.org 0x8009088C

.global FormatCallback
FormatCallback:
/* 8009088C 0008D7EC  7C 08 02 A6 */	mflr r0
/* 80090890 0008D7F0  90 01 00 04 */	stw r0, 4(r1)
/* 80090894 0008D7F4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80090898 0008D7F8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8009089C 0008D7FC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800908A0 0008D800  3B C3 00 00 */	addi r30, r3, 0
/* 800908A4 0008D804  3C 60 80 21 */	lis r3, __CARDBlock@ha
/* 800908A8 0008D808  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800908AC 0008D80C  1C BE 01 10 */	mulli r5, r30, 0x110
/* 800908B0 0008D810  93 81 00 10 */	stw r28, 0x10(r1)
/* 800908B4 0008D814  38 03 84 E0 */	addi r0, r3, __CARDBlock@l
/* 800908B8 0008D818  7C 9C 23 79 */	or. r28, r4, r4
/* 800908BC 0008D81C  7F E0 2A 14 */	add r31, r0, r5
/* 800908C0 0008D820  41 80 00 C4 */	blt lbl_80090984
/* 800908C4 0008D824  80 7F 00 28 */	lwz r3, 0x28(r31)
/* 800908C8 0008D828  38 03 00 01 */	addi r0, r3, 1
/* 800908CC 0008D82C  90 1F 00 28 */	stw r0, 0x28(r31)
/* 800908D0 0008D830  80 9F 00 28 */	lwz r4, 0x28(r31)
/* 800908D4 0008D834  2C 04 00 05 */	cmpwi r4, 5
/* 800908D8 0008D838  40 80 00 28 */	bge lbl_80090900
/* 800908DC 0008D83C  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 800908E0 0008D840  3C 60 80 09 */	lis r3, FormatCallback@ha
/* 800908E4 0008D844  38 A3 08 8C */	addi r5, r3, FormatCallback@l
/* 800908E8 0008D848  7C 80 21 D6 */	mullw r4, r0, r4
/* 800908EC 0008D84C  38 7E 00 00 */	addi r3, r30, 0
/* 800908F0 0008D850  4B FF D6 A9 */	bl __CARDEraseSector
/* 800908F4 0008D854  7C 7C 1B 79 */	or. r28, r3, r3
/* 800908F8 0008D858  41 80 00 8C */	blt lbl_80090984
/* 800908FC 0008D85C  48 00 00 B4 */	b lbl_800909B0
lbl_80090900:
/* 80090900 0008D860  2C 04 00 0A */	cmpwi r4, 0xa
/* 80090904 0008D864  40 80 00 3C */	bge lbl_80090940
/* 80090908 0008D868  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 8009090C 0008D86C  38 C4 FF FB */	addi r6, r4, -5
/* 80090910 0008D870  3C 60 80 09 */	lis r3, FormatCallback@ha
/* 80090914 0008D874  80 BF 00 80 */	lwz r5, 0x80(r31)
/* 80090918 0008D878  7C 80 31 D6 */	mullw r4, r0, r6
/* 8009091C 0008D87C  54 C0 68 24 */	slwi r0, r6, 0xd
/* 80090920 0008D880  38 E3 08 8C */	addi r7, r3, FormatCallback@l
/* 80090924 0008D884  7C C5 02 14 */	add r6, r5, r0
/* 80090928 0008D888  38 7E 00 00 */	addi r3, r30, 0
/* 8009092C 0008D88C  38 A0 20 00 */	li r5, 0x2000
/* 80090930 0008D890  4B FF DE 41 */	bl __CARDWrite
/* 80090934 0008D894  7C 7C 1B 79 */	or. r28, r3, r3
/* 80090938 0008D898  41 80 00 4C */	blt lbl_80090984
/* 8009093C 0008D89C  48 00 00 74 */	b lbl_800909B0
lbl_80090940:
/* 80090940 0008D8A0  80 7F 00 80 */	lwz r3, 0x80(r31)
/* 80090944 0008D8A4  38 A0 20 00 */	li r5, 0x2000
/* 80090948 0008D8A8  38 03 20 00 */	addi r0, r3, 0x2000
/* 8009094C 0008D8AC  90 1F 00 84 */	stw r0, 0x84(r31)
/* 80090950 0008D8B0  80 9F 00 80 */	lwz r4, 0x80(r31)
/* 80090954 0008D8B4  80 7F 00 84 */	lwz r3, 0x84(r31)
/* 80090958 0008D8B8  38 84 40 00 */	addi r4, r4, 0x4000
/* 8009095C 0008D8BC  4B F7 2B 35 */	bl memcpy
/* 80090960 0008D8C0  80 7F 00 80 */	lwz r3, 0x80(r31)
/* 80090964 0008D8C4  38 A0 20 00 */	li r5, 0x2000
/* 80090968 0008D8C8  38 03 60 00 */	addi r0, r3, 0x6000
/* 8009096C 0008D8CC  90 1F 00 88 */	stw r0, 0x88(r31)
/* 80090970 0008D8D0  80 9F 00 80 */	lwz r4, 0x80(r31)
/* 80090974 0008D8D4  80 7F 00 88 */	lwz r3, 0x88(r31)
/* 80090978 0008D8D8  3C 84 00 01 */	addis r4, r4, 1
/* 8009097C 0008D8DC  38 84 80 00 */	addi r4, r4, -32768
/* 80090980 0008D8E0  4B F7 2B 11 */	bl memcpy
lbl_80090984:
/* 80090984 0008D8E4  83 BF 00 D0 */	lwz r29, 0xd0(r31)
/* 80090988 0008D8E8  38 00 00 00 */	li r0, 0
/* 8009098C 0008D8EC  38 7F 00 00 */	addi r3, r31, 0
/* 80090990 0008D8F0  90 1F 00 D0 */	stw r0, 0xd0(r31)
/* 80090994 0008D8F4  7F 84 E3 78 */	mr r4, r28
/* 80090998 0008D8F8  4B FF D8 6D */	bl __CARDPutControlBlock
/* 8009099C 0008D8FC  39 9D 00 00 */	addi r12, r29, 0
/* 800909A0 0008D900  7D 88 03 A6 */	mtlr r12
/* 800909A4 0008D904  38 7E 00 00 */	addi r3, r30, 0
/* 800909A8 0008D908  38 9C 00 00 */	addi r4, r28, 0
/* 800909AC 0008D90C  4E 80 00 21 */	blrl 
lbl_800909B0:
/* 800909B0 0008D910  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800909B4 0008D914  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800909B8 0008D918  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800909BC 0008D91C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800909C0 0008D920  83 81 00 10 */	lwz r28, 0x10(r1)
/* 800909C4 0008D924  38 21 00 20 */	addi r1, r1, 0x20
/* 800909C8 0008D928  7C 08 03 A6 */	mtlr r0
/* 800909CC 0008D92C  4E 80 00 20 */	blr 

.global __CARDFormatRegionAsync
__CARDFormatRegionAsync:
/* 800909D0 0008D930  7C 08 02 A6 */	mflr r0
/* 800909D4 0008D934  90 01 00 04 */	stw r0, 4(r1)
/* 800909D8 0008D938  94 21 FF A8 */	stwu r1, -0x58(r1)
/* 800909DC 0008D93C  BE 41 00 20 */	stmw r18, 0x20(r1)
/* 800909E0 0008D940  3A 84 00 00 */	addi r20, r4, 0
/* 800909E4 0008D944  3A C3 00 00 */	addi r22, r3, 0
/* 800909E8 0008D948  3A 65 00 00 */	addi r19, r5, 0
/* 800909EC 0008D94C  38 81 00 18 */	addi r4, r1, 0x18
/* 800909F0 0008D950  4B FF D7 5D */	bl __CARDGetControlBlock
/* 800909F4 0008D954  2C 03 00 00 */	cmpwi r3, 0
/* 800909F8 0008D958  40 80 00 08 */	bge lbl_80090A00
/* 800909FC 0008D95C  48 00 06 18 */	b lbl_80091014
lbl_80090A00:
/* 80090A00 0008D960  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80090A04 0008D964  38 80 00 FF */	li r4, 0xff
/* 80090A08 0008D968  38 A0 20 00 */	li r5, 0x2000
/* 80090A0C 0008D96C  83 63 00 80 */	lwz r27, 0x80(r3)
/* 80090A10 0008D970  7F 63 DB 78 */	mr r3, r27
/* 80090A14 0008D974  4B F7 29 95 */	bl memset
/* 80090A18 0008D978  3C 60 CC 00 */	lis r3, 0xCC00206E@ha
/* 80090A1C 0008D97C  A2 43 20 6E */	lhz r18, 0xCC00206E@l(r3)
/* 80090A20 0008D980  B2 9B 00 24 */	sth r20, 0x24(r27)
/* 80090A24 0008D984  4B FE C8 D9 */	bl __OSLockSram
/* 80090A28 0008D988  80 03 00 0C */	lwz r0, 0xc(r3)
/* 80090A2C 0008D98C  90 1B 00 14 */	stw r0, 0x14(r27)
/* 80090A30 0008D990  88 03 00 12 */	lbz r0, 0x12(r3)
/* 80090A34 0008D994  38 60 00 00 */	li r3, 0
/* 80090A38 0008D998  90 1B 00 18 */	stw r0, 0x18(r27)
/* 80090A3C 0008D99C  4B FE CC 81 */	bl __OSUnlockSram
/* 80090A40 0008D9A0  4B FE EC B9 */	bl OSGetTime
/* 80090A44 0008D9A4  3A A4 00 00 */	addi r21, r4, 0
/* 80090A48 0008D9A8  3A 83 00 00 */	addi r20, r3, 0
/* 80090A4C 0008D9AC  3B 55 00 00 */	addi r26, r21, 0
/* 80090A50 0008D9B0  3B D4 00 00 */	addi r30, r20, 0
/* 80090A54 0008D9B4  4B FE C9 05 */	bl __OSLockSramEx
/* 80090A58 0008D9B8  1C 16 00 0C */	mulli r0, r22, 0xc
/* 80090A5C 0008D9BC  7F 23 02 14 */	add r25, r3, r0
/* 80090A60 0008D9C0  3C 60 41 C6 */	lis r3, 0x41C64E6D@ha
/* 80090A64 0008D9C4  3B 19 00 00 */	addi r24, r25, 0
/* 80090A68 0008D9C8  3B E3 4E 6D */	addi r31, r3, 0x41C64E6D@l
/* 80090A6C 0008D9CC  3B 80 00 00 */	li r28, 0
/* 80090A70 0008D9D0  3A E0 00 04 */	li r23, 4
/* 80090A74 0008D9D4  48 00 03 74 */	b lbl_80090DE8
lbl_80090A78:
/* 80090A78 0008D9D8  7C BE F9 D6 */	mullw r5, r30, r31
/* 80090A7C 0008D9DC  7C 7A F8 16 */	mulhwu r3, r26, r31
/* 80090A80 0008D9E0  3B C0 00 00 */	li r30, 0
/* 80090A84 0008D9E4  7C A5 1A 14 */	add r5, r5, r3
/* 80090A88 0008D9E8  7C 7A F1 D6 */	mullw r3, r26, r30
/* 80090A8C 0008D9EC  7C 1A F9 D6 */	mullw r0, r26, r31
/* 80090A90 0008D9F0  3B A0 30 39 */	li r29, 0x3039
/* 80090A94 0008D9F4  7C 80 E8 14 */	addc r4, r0, r29
/* 80090A98 0008D9F8  7C 05 1A 14 */	add r0, r5, r3
/* 80090A9C 0008D9FC  7C 60 F1 14 */	adde r3, r0, r30
/* 80090AA0 0008DA00  38 A0 00 10 */	li r5, 0x10
/* 80090AA4 0008DA04  48 00 A8 E9 */	bl __shr2i
/* 80090AA8 0008DA08  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80090AAC 0008DA0C  88 18 00 00 */	lbz r0, 0(r24)
/* 80090AB0 0008DA10  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80090AB4 0008DA14  7C C6 2A 14 */	add r6, r6, r5
/* 80090AB8 0008DA18  7D 04 00 14 */	addc r8, r4, r0
/* 80090ABC 0008DA1C  7F 87 07 34 */	extsh r7, r28
/* 80090AC0 0008DA20  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80090AC4 0008DA24  7D 1B 39 AE */	stbx r8, r27, r7
/* 80090AC8 0008DA28  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090ACC 0008DA2C  7C 80 E8 14 */	addc r4, r0, r29
/* 80090AD0 0008DA30  7C 06 2A 14 */	add r0, r6, r5
/* 80090AD4 0008DA34  7C 60 F1 14 */	adde r3, r0, r30
/* 80090AD8 0008DA38  38 A0 00 10 */	li r5, 0x10
/* 80090ADC 0008DA3C  48 00 A8 B1 */	bl __shr2i
/* 80090AE0 0008DA40  3B 40 7F FF */	li r26, 0x7fff
/* 80090AE4 0008DA44  7C 60 F0 38 */	and r0, r3, r30
/* 80090AE8 0008DA48  7C 84 D0 38 */	and r4, r4, r26
/* 80090AEC 0008DA4C  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80090AF0 0008DA50  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80090AF4 0008DA54  7C A5 1A 14 */	add r5, r5, r3
/* 80090AF8 0008DA58  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80090AFC 0008DA5C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090B00 0008DA60  7C 80 E8 14 */	addc r4, r0, r29
/* 80090B04 0008DA64  7C 05 1A 14 */	add r0, r5, r3
/* 80090B08 0008DA68  7C 60 F1 14 */	adde r3, r0, r30
/* 80090B0C 0008DA6C  38 A0 00 10 */	li r5, 0x10
/* 80090B10 0008DA70  48 00 A8 7D */	bl __shr2i
/* 80090B14 0008DA74  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80090B18 0008DA78  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80090B1C 0008DA7C  39 3C 00 01 */	addi r9, r28, 1
/* 80090B20 0008DA80  7D 29 07 34 */	extsh r9, r9
/* 80090B24 0008DA84  7C 19 48 AE */	lbzx r0, r25, r9
/* 80090B28 0008DA88  7C C6 2A 14 */	add r6, r6, r5
/* 80090B2C 0008DA8C  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80090B30 0008DA90  7C E4 00 14 */	addc r7, r4, r0
/* 80090B34 0008DA94  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090B38 0008DA98  7C FB 49 AE */	stbx r7, r27, r9
/* 80090B3C 0008DA9C  7C 80 E8 14 */	addc r4, r0, r29
/* 80090B40 0008DAA0  7C 06 2A 14 */	add r0, r6, r5
/* 80090B44 0008DAA4  7C 60 F1 14 */	adde r3, r0, r30
/* 80090B48 0008DAA8  38 A0 00 10 */	li r5, 0x10
/* 80090B4C 0008DAAC  48 00 A8 41 */	bl __shr2i
/* 80090B50 0008DAB0  7C 60 F0 38 */	and r0, r3, r30
/* 80090B54 0008DAB4  7C 84 D0 38 */	and r4, r4, r26
/* 80090B58 0008DAB8  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80090B5C 0008DABC  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80090B60 0008DAC0  7C A5 1A 14 */	add r5, r5, r3
/* 80090B64 0008DAC4  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80090B68 0008DAC8  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090B6C 0008DACC  7C 80 E8 14 */	addc r4, r0, r29
/* 80090B70 0008DAD0  7C 05 1A 14 */	add r0, r5, r3
/* 80090B74 0008DAD4  7C 60 F1 14 */	adde r3, r0, r30
/* 80090B78 0008DAD8  38 A0 00 10 */	li r5, 0x10
/* 80090B7C 0008DADC  48 00 A8 11 */	bl __shr2i
/* 80090B80 0008DAE0  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80090B84 0008DAE4  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80090B88 0008DAE8  39 3C 00 02 */	addi r9, r28, 2
/* 80090B8C 0008DAEC  7D 29 07 34 */	extsh r9, r9
/* 80090B90 0008DAF0  7C 19 48 AE */	lbzx r0, r25, r9
/* 80090B94 0008DAF4  7C C6 2A 14 */	add r6, r6, r5
/* 80090B98 0008DAF8  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80090B9C 0008DAFC  7C E4 00 14 */	addc r7, r4, r0
/* 80090BA0 0008DB00  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090BA4 0008DB04  7C FB 49 AE */	stbx r7, r27, r9
/* 80090BA8 0008DB08  7C 80 E8 14 */	addc r4, r0, r29
/* 80090BAC 0008DB0C  7C 06 2A 14 */	add r0, r6, r5
/* 80090BB0 0008DB10  7C 60 F1 14 */	adde r3, r0, r30
/* 80090BB4 0008DB14  38 A0 00 10 */	li r5, 0x10
/* 80090BB8 0008DB18  48 00 A7 D5 */	bl __shr2i
/* 80090BBC 0008DB1C  7C 60 F0 38 */	and r0, r3, r30
/* 80090BC0 0008DB20  7C 84 D0 38 */	and r4, r4, r26
/* 80090BC4 0008DB24  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80090BC8 0008DB28  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80090BCC 0008DB2C  7C A5 1A 14 */	add r5, r5, r3
/* 80090BD0 0008DB30  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80090BD4 0008DB34  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090BD8 0008DB38  7C 80 E8 14 */	addc r4, r0, r29
/* 80090BDC 0008DB3C  7C 05 1A 14 */	add r0, r5, r3
/* 80090BE0 0008DB40  7C 60 F1 14 */	adde r3, r0, r30
/* 80090BE4 0008DB44  38 A0 00 10 */	li r5, 0x10
/* 80090BE8 0008DB48  48 00 A7 A5 */	bl __shr2i
/* 80090BEC 0008DB4C  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80090BF0 0008DB50  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80090BF4 0008DB54  39 3C 00 03 */	addi r9, r28, 3
/* 80090BF8 0008DB58  7D 29 07 34 */	extsh r9, r9
/* 80090BFC 0008DB5C  7C 19 48 AE */	lbzx r0, r25, r9
/* 80090C00 0008DB60  7C C6 2A 14 */	add r6, r6, r5
/* 80090C04 0008DB64  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80090C08 0008DB68  7C E4 00 14 */	addc r7, r4, r0
/* 80090C0C 0008DB6C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090C10 0008DB70  7C FB 49 AE */	stbx r7, r27, r9
/* 80090C14 0008DB74  7C 80 E8 14 */	addc r4, r0, r29
/* 80090C18 0008DB78  7C 06 2A 14 */	add r0, r6, r5
/* 80090C1C 0008DB7C  7C 60 F1 14 */	adde r3, r0, r30
/* 80090C20 0008DB80  38 A0 00 10 */	li r5, 0x10
/* 80090C24 0008DB84  48 00 A7 69 */	bl __shr2i
/* 80090C28 0008DB88  7C 60 F0 38 */	and r0, r3, r30
/* 80090C2C 0008DB8C  7C 84 D0 38 */	and r4, r4, r26
/* 80090C30 0008DB90  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80090C34 0008DB94  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80090C38 0008DB98  7C A5 1A 14 */	add r5, r5, r3
/* 80090C3C 0008DB9C  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80090C40 0008DBA0  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090C44 0008DBA4  7C 80 E8 14 */	addc r4, r0, r29
/* 80090C48 0008DBA8  7C 05 1A 14 */	add r0, r5, r3
/* 80090C4C 0008DBAC  7C 60 F1 14 */	adde r3, r0, r30
/* 80090C50 0008DBB0  38 A0 00 10 */	li r5, 0x10
/* 80090C54 0008DBB4  48 00 A7 39 */	bl __shr2i
/* 80090C58 0008DBB8  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80090C5C 0008DBBC  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80090C60 0008DBC0  39 3C 00 04 */	addi r9, r28, 4
/* 80090C64 0008DBC4  7D 29 07 34 */	extsh r9, r9
/* 80090C68 0008DBC8  7C 19 48 AE */	lbzx r0, r25, r9
/* 80090C6C 0008DBCC  7C C6 2A 14 */	add r6, r6, r5
/* 80090C70 0008DBD0  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80090C74 0008DBD4  7C E4 00 14 */	addc r7, r4, r0
/* 80090C78 0008DBD8  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090C7C 0008DBDC  7C FB 49 AE */	stbx r7, r27, r9
/* 80090C80 0008DBE0  7C 80 E8 14 */	addc r4, r0, r29
/* 80090C84 0008DBE4  7C 06 2A 14 */	add r0, r6, r5
/* 80090C88 0008DBE8  7C 60 F1 14 */	adde r3, r0, r30
/* 80090C8C 0008DBEC  38 A0 00 10 */	li r5, 0x10
/* 80090C90 0008DBF0  48 00 A6 FD */	bl __shr2i
/* 80090C94 0008DBF4  7C 60 F0 38 */	and r0, r3, r30
/* 80090C98 0008DBF8  7C 84 D0 38 */	and r4, r4, r26
/* 80090C9C 0008DBFC  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80090CA0 0008DC00  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80090CA4 0008DC04  7C A5 1A 14 */	add r5, r5, r3
/* 80090CA8 0008DC08  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80090CAC 0008DC0C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090CB0 0008DC10  7C 80 E8 14 */	addc r4, r0, r29
/* 80090CB4 0008DC14  7C 05 1A 14 */	add r0, r5, r3
/* 80090CB8 0008DC18  7C 60 F1 14 */	adde r3, r0, r30
/* 80090CBC 0008DC1C  38 A0 00 10 */	li r5, 0x10
/* 80090CC0 0008DC20  48 00 A6 CD */	bl __shr2i
/* 80090CC4 0008DC24  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80090CC8 0008DC28  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80090CCC 0008DC2C  39 3C 00 05 */	addi r9, r28, 5
/* 80090CD0 0008DC30  7D 29 07 34 */	extsh r9, r9
/* 80090CD4 0008DC34  7C 19 48 AE */	lbzx r0, r25, r9
/* 80090CD8 0008DC38  7C C6 2A 14 */	add r6, r6, r5
/* 80090CDC 0008DC3C  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80090CE0 0008DC40  7C E4 00 14 */	addc r7, r4, r0
/* 80090CE4 0008DC44  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090CE8 0008DC48  7C FB 49 AE */	stbx r7, r27, r9
/* 80090CEC 0008DC4C  7C 80 E8 14 */	addc r4, r0, r29
/* 80090CF0 0008DC50  7C 06 2A 14 */	add r0, r6, r5
/* 80090CF4 0008DC54  7C 60 F1 14 */	adde r3, r0, r30
/* 80090CF8 0008DC58  38 A0 00 10 */	li r5, 0x10
/* 80090CFC 0008DC5C  48 00 A6 91 */	bl __shr2i
/* 80090D00 0008DC60  7C 60 F0 38 */	and r0, r3, r30
/* 80090D04 0008DC64  7C 84 D0 38 */	and r4, r4, r26
/* 80090D08 0008DC68  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80090D0C 0008DC6C  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80090D10 0008DC70  7C A5 1A 14 */	add r5, r5, r3
/* 80090D14 0008DC74  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80090D18 0008DC78  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090D1C 0008DC7C  7C 80 E8 14 */	addc r4, r0, r29
/* 80090D20 0008DC80  7C 05 1A 14 */	add r0, r5, r3
/* 80090D24 0008DC84  7C 60 F1 14 */	adde r3, r0, r30
/* 80090D28 0008DC88  38 A0 00 10 */	li r5, 0x10
/* 80090D2C 0008DC8C  48 00 A6 61 */	bl __shr2i
/* 80090D30 0008DC90  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80090D34 0008DC94  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80090D38 0008DC98  39 3C 00 06 */	addi r9, r28, 6
/* 80090D3C 0008DC9C  7D 29 07 34 */	extsh r9, r9
/* 80090D40 0008DCA0  7C 19 48 AE */	lbzx r0, r25, r9
/* 80090D44 0008DCA4  7C C6 2A 14 */	add r6, r6, r5
/* 80090D48 0008DCA8  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80090D4C 0008DCAC  7C E4 00 14 */	addc r7, r4, r0
/* 80090D50 0008DCB0  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090D54 0008DCB4  7C FB 49 AE */	stbx r7, r27, r9
/* 80090D58 0008DCB8  7C 80 E8 14 */	addc r4, r0, r29
/* 80090D5C 0008DCBC  7C 06 2A 14 */	add r0, r6, r5
/* 80090D60 0008DCC0  7C 60 F1 14 */	adde r3, r0, r30
/* 80090D64 0008DCC4  38 A0 00 10 */	li r5, 0x10
/* 80090D68 0008DCC8  48 00 A6 25 */	bl __shr2i
/* 80090D6C 0008DCCC  7C 60 F0 38 */	and r0, r3, r30
/* 80090D70 0008DCD0  7C 84 D0 38 */	and r4, r4, r26
/* 80090D74 0008DCD4  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80090D78 0008DCD8  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80090D7C 0008DCDC  7C A5 1A 14 */	add r5, r5, r3
/* 80090D80 0008DCE0  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80090D84 0008DCE4  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090D88 0008DCE8  7C 80 E8 14 */	addc r4, r0, r29
/* 80090D8C 0008DCEC  7C 05 1A 14 */	add r0, r5, r3
/* 80090D90 0008DCF0  7C 60 F1 14 */	adde r3, r0, r30
/* 80090D94 0008DCF4  38 A0 00 10 */	li r5, 0x10
/* 80090D98 0008DCF8  48 00 A5 F5 */	bl __shr2i
/* 80090D9C 0008DCFC  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80090DA0 0008DD00  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80090DA4 0008DD04  39 3C 00 07 */	addi r9, r28, 7
/* 80090DA8 0008DD08  7D 29 07 34 */	extsh r9, r9
/* 80090DAC 0008DD0C  7C 19 48 AE */	lbzx r0, r25, r9
/* 80090DB0 0008DD10  7C C6 2A 14 */	add r6, r6, r5
/* 80090DB4 0008DD14  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80090DB8 0008DD18  7C E4 00 14 */	addc r7, r4, r0
/* 80090DBC 0008DD1C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80090DC0 0008DD20  7C FB 49 AE */	stbx r7, r27, r9
/* 80090DC4 0008DD24  7C 80 E8 14 */	addc r4, r0, r29
/* 80090DC8 0008DD28  7C 06 2A 14 */	add r0, r6, r5
/* 80090DCC 0008DD2C  7C 60 F1 14 */	adde r3, r0, r30
/* 80090DD0 0008DD30  38 A0 00 10 */	li r5, 0x10
/* 80090DD4 0008DD34  48 00 A5 B9 */	bl __shr2i
/* 80090DD8 0008DD38  7C 9A D0 38 */	and r26, r4, r26
/* 80090DDC 0008DD3C  7C 7E F0 38 */	and r30, r3, r30
/* 80090DE0 0008DD40  3B 18 00 08 */	addi r24, r24, 8
/* 80090DE4 0008DD44  3B 9C 00 08 */	addi r28, r28, 8
lbl_80090DE8:
/* 80090DE8 0008DD48  7F 80 07 34 */	extsh r0, r28
/* 80090DEC 0008DD4C  7C 00 B8 00 */	cmpw r0, r23
/* 80090DF0 0008DD50  41 80 FC 88 */	blt lbl_80090A78
/* 80090DF4 0008DD54  48 00 02 18 */	b lbl_8009100C
lbl_80090DF8:
/* 80090DF8 0008DD58  3C 60 41 C6 */	lis r3, 0x41C64E6D@ha
/* 80090DFC 0008DD5C  3B 23 4E 6D */	addi r25, r3, 0x41C64E6D@l
/* 80090E00 0008DD60  48 00 00 80 */	b lbl_80090E80
lbl_80090E04:
/* 80090E04 0008DD64  7C BE C9 D6 */	mullw r5, r30, r25
/* 80090E08 0008DD68  7C 7A C8 16 */	mulhwu r3, r26, r25
/* 80090E0C 0008DD6C  3B 00 00 00 */	li r24, 0
/* 80090E10 0008DD70  7C A5 1A 14 */	add r5, r5, r3
/* 80090E14 0008DD74  7C 7A C1 D6 */	mullw r3, r26, r24
/* 80090E18 0008DD78  7C 1A C9 D6 */	mullw r0, r26, r25
/* 80090E1C 0008DD7C  3A E0 30 39 */	li r23, 0x3039
/* 80090E20 0008DD80  7C 80 B8 14 */	addc r4, r0, r23
/* 80090E24 0008DD84  7C 05 1A 14 */	add r0, r5, r3
/* 80090E28 0008DD88  7C 60 C1 14 */	adde r3, r0, r24
/* 80090E2C 0008DD8C  38 A0 00 10 */	li r5, 0x10
/* 80090E30 0008DD90  48 00 A5 5D */	bl __shr2i
/* 80090E34 0008DD94  7C C3 C9 D6 */	mullw r6, r3, r25
/* 80090E38 0008DD98  88 1D 00 00 */	lbz r0, 0(r29)
/* 80090E3C 0008DD9C  7C A4 C8 16 */	mulhwu r5, r4, r25
/* 80090E40 0008DDA0  7C C6 2A 14 */	add r6, r6, r5
/* 80090E44 0008DDA4  7D 04 00 14 */	addc r8, r4, r0
/* 80090E48 0008DDA8  7F 87 07 34 */	extsh r7, r28
/* 80090E4C 0008DDAC  7C A4 C1 D6 */	mullw r5, r4, r24
/* 80090E50 0008DDB0  7D 1B 39 AE */	stbx r8, r27, r7
/* 80090E54 0008DDB4  7C 04 C9 D6 */	mullw r0, r4, r25
/* 80090E58 0008DDB8  7C 80 B8 14 */	addc r4, r0, r23
/* 80090E5C 0008DDBC  7C 06 2A 14 */	add r0, r6, r5
/* 80090E60 0008DDC0  7C 60 C1 14 */	adde r3, r0, r24
/* 80090E64 0008DDC4  38 A0 00 10 */	li r5, 0x10
/* 80090E68 0008DDC8  48 00 A5 25 */	bl __shr2i
/* 80090E6C 0008DDCC  38 00 7F FF */	li r0, 0x7fff
/* 80090E70 0008DDD0  7C 9A 00 38 */	and r26, r4, r0
/* 80090E74 0008DDD4  7C 7E C0 38 */	and r30, r3, r24
/* 80090E78 0008DDD8  3B BD 00 01 */	addi r29, r29, 1
/* 80090E7C 0008DDDC  3B 9C 00 01 */	addi r28, r28, 1
lbl_80090E80:
/* 80090E80 0008DDE0  7F 80 07 34 */	extsh r0, r28
/* 80090E84 0008DDE4  2C 00 00 0C */	cmpwi r0, 0xc
/* 80090E88 0008DDE8  41 80 FF 7C */	blt lbl_80090E04
/* 80090E8C 0008DDEC  38 60 00 00 */	li r3, 0
/* 80090E90 0008DDF0  4B FE C8 51 */	bl __OSUnlockSramEx
/* 80090E94 0008DDF4  92 5B 00 1C */	stw r18, 0x1c(r27)
/* 80090E98 0008DDF8  3A 40 00 00 */	li r18, 0
/* 80090E9C 0008DDFC  38 7B 00 00 */	addi r3, r27, 0
/* 80090EA0 0008DE00  92 BB 00 10 */	stw r21, 0x10(r27)
/* 80090EA4 0008DE04  38 BB 01 FC */	addi r5, r27, 0x1fc
/* 80090EA8 0008DE08  38 DB 01 FE */	addi r6, r27, 0x1fe
/* 80090EAC 0008DE0C  92 9B 00 0C */	stw r20, 0xc(r27)
/* 80090EB0 0008DE10  38 80 01 FC */	li r4, 0x1fc
/* 80090EB4 0008DE14  B2 5B 00 20 */	sth r18, 0x20(r27)
/* 80090EB8 0008DE18  80 E1 00 18 */	lwz r7, 0x18(r1)
/* 80090EBC 0008DE1C  A0 07 00 08 */	lhz r0, 8(r7)
/* 80090EC0 0008DE20  B0 1B 00 22 */	sth r0, 0x22(r27)
/* 80090EC4 0008DE24  4B FF DF 79 */	bl __CARDCheckSum
/* 80090EC8 0008DE28  48 00 00 4C */	b lbl_80090F14
lbl_80090ECC:
/* 80090ECC 0008DE2C  80 81 00 18 */	lwz r4, 0x18(r1)
/* 80090ED0 0008DE30  7E 43 07 34 */	extsh r3, r18
/* 80090ED4 0008DE34  38 03 00 01 */	addi r0, r3, 1
/* 80090ED8 0008DE38  80 64 00 80 */	lwz r3, 0x80(r4)
/* 80090EDC 0008DE3C  54 00 68 24 */	slwi r0, r0, 0xd
/* 80090EE0 0008DE40  38 80 00 FF */	li r4, 0xff
/* 80090EE4 0008DE44  7E 83 02 14 */	add r20, r3, r0
/* 80090EE8 0008DE48  38 74 00 00 */	addi r3, r20, 0
/* 80090EEC 0008DE4C  38 A0 20 00 */	li r5, 0x2000
/* 80090EF0 0008DE50  4B F7 24 B9 */	bl memset
/* 80090EF4 0008DE54  38 94 1F C0 */	addi r4, r20, 0x1fc0
/* 80090EF8 0008DE58  B2 54 1F FA */	sth r18, 0x1ffa(r20)
/* 80090EFC 0008DE5C  38 74 00 00 */	addi r3, r20, 0
/* 80090F00 0008DE60  38 A4 00 3C */	addi r5, r4, 0x3c
/* 80090F04 0008DE64  38 C4 00 3E */	addi r6, r4, 0x3e
/* 80090F08 0008DE68  38 80 1F FC */	li r4, 0x1ffc
/* 80090F0C 0008DE6C  4B FF DF 31 */	bl __CARDCheckSum
/* 80090F10 0008DE70  3A 52 00 01 */	addi r18, r18, 1
lbl_80090F14:
/* 80090F14 0008DE74  7E 40 07 34 */	extsh r0, r18
/* 80090F18 0008DE78  2C 00 00 02 */	cmpwi r0, 2
/* 80090F1C 0008DE7C  41 80 FF B0 */	blt lbl_80090ECC
/* 80090F20 0008DE80  3A 40 00 00 */	li r18, 0
/* 80090F24 0008DE84  48 00 00 60 */	b lbl_80090F84
lbl_80090F28:
/* 80090F28 0008DE88  80 81 00 18 */	lwz r4, 0x18(r1)
/* 80090F2C 0008DE8C  7E 43 07 34 */	extsh r3, r18
/* 80090F30 0008DE90  38 03 00 03 */	addi r0, r3, 3
/* 80090F34 0008DE94  80 64 00 80 */	lwz r3, 0x80(r4)
/* 80090F38 0008DE98  54 00 68 24 */	slwi r0, r0, 0xd
/* 80090F3C 0008DE9C  38 80 00 00 */	li r4, 0
/* 80090F40 0008DEA0  7E 83 02 14 */	add r20, r3, r0
/* 80090F44 0008DEA4  38 74 00 00 */	addi r3, r20, 0
/* 80090F48 0008DEA8  38 A0 20 00 */	li r5, 0x2000
/* 80090F4C 0008DEAC  4B F7 24 5D */	bl memset
/* 80090F50 0008DEB0  B2 54 00 04 */	sth r18, 4(r20)
/* 80090F54 0008DEB4  38 00 00 04 */	li r0, 4
/* 80090F58 0008DEB8  38 B4 00 00 */	addi r5, r20, 0
/* 80090F5C 0008DEBC  80 81 00 18 */	lwz r4, 0x18(r1)
/* 80090F60 0008DEC0  38 74 00 04 */	addi r3, r20, 4
/* 80090F64 0008DEC4  38 D4 00 02 */	addi r6, r20, 2
/* 80090F68 0008DEC8  A0 E4 00 10 */	lhz r7, 0x10(r4)
/* 80090F6C 0008DECC  38 80 1F FC */	li r4, 0x1ffc
/* 80090F70 0008DED0  38 E7 FF FB */	addi r7, r7, -5
/* 80090F74 0008DED4  B0 F4 00 06 */	sth r7, 6(r20)
/* 80090F78 0008DED8  B0 14 00 08 */	sth r0, 8(r20)
/* 80090F7C 0008DEDC  4B FF DE C1 */	bl __CARDCheckSum
/* 80090F80 0008DEE0  3A 52 00 01 */	addi r18, r18, 1
lbl_80090F84:
/* 80090F84 0008DEE4  7E 40 07 34 */	extsh r0, r18
/* 80090F88 0008DEE8  2C 00 00 02 */	cmpwi r0, 2
/* 80090F8C 0008DEEC  41 80 FF 9C */	blt lbl_80090F28
/* 80090F90 0008DEF0  28 13 00 00 */	cmplwi r19, 0
/* 80090F94 0008DEF4  41 82 00 0C */	beq lbl_80090FA0
/* 80090F98 0008DEF8  7E 60 9B 78 */	mr r0, r19
/* 80090F9C 0008DEFC  48 00 00 0C */	b lbl_80090FA8
lbl_80090FA0:
/* 80090FA0 0008DF00  3C 60 80 09 */	lis r3, __CARDDefaultApiCallback@ha
/* 80090FA4 0008DF04  38 03 D2 04 */	addi r0, r3, __CARDDefaultApiCallback@l
lbl_80090FA8:
/* 80090FA8 0008DF08  80 A1 00 18 */	lwz r5, 0x18(r1)
/* 80090FAC 0008DF0C  3C 60 00 01 */	lis r3, 0x0000A000@ha
/* 80090FB0 0008DF10  38 83 A0 00 */	addi r4, r3, 0x0000A000@l
/* 80090FB4 0008DF14  90 05 00 D0 */	stw r0, 0xd0(r5)
/* 80090FB8 0008DF18  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80090FBC 0008DF1C  80 63 00 80 */	lwz r3, 0x80(r3)
/* 80090FC0 0008DF20  4B FE 8B F9 */	bl DCStoreRange
/* 80090FC4 0008DF24  80 81 00 18 */	lwz r4, 0x18(r1)
/* 80090FC8 0008DF28  38 00 00 00 */	li r0, 0
/* 80090FCC 0008DF2C  3C 60 80 09 */	lis r3, FormatCallback@ha
/* 80090FD0 0008DF30  90 04 00 28 */	stw r0, 0x28(r4)
/* 80090FD4 0008DF34  38 A3 08 8C */	addi r5, r3, FormatCallback@l
/* 80090FD8 0008DF38  38 76 00 00 */	addi r3, r22, 0
/* 80090FDC 0008DF3C  80 C1 00 18 */	lwz r6, 0x18(r1)
/* 80090FE0 0008DF40  80 86 00 0C */	lwz r4, 0xc(r6)
/* 80090FE4 0008DF44  80 06 00 28 */	lwz r0, 0x28(r6)
/* 80090FE8 0008DF48  7C 84 01 D6 */	mullw r4, r4, r0
/* 80090FEC 0008DF4C  4B FF CF AD */	bl __CARDEraseSector
/* 80090FF0 0008DF50  7C 72 1B 79 */	or. r18, r3, r3
/* 80090FF4 0008DF54  40 80 00 10 */	bge lbl_80091004
/* 80090FF8 0008DF58  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80090FFC 0008DF5C  7E 44 93 78 */	mr r4, r18
/* 80091000 0008DF60  4B FF D2 05 */	bl __CARDPutControlBlock
lbl_80091004:
/* 80091004 0008DF64  7E 43 93 78 */	mr r3, r18
/* 80091008 0008DF68  48 00 00 0C */	b lbl_80091014
lbl_8009100C:
/* 8009100C 0008DF6C  7F B9 02 14 */	add r29, r25, r0
/* 80091010 0008DF70  4B FF FD E8 */	b lbl_80090DF8
lbl_80091014:
/* 80091014 0008DF74  BA 41 00 20 */	lmw r18, 0x20(r1)
/* 80091018 0008DF78  80 01 00 5C */	lwz r0, 0x5c(r1)
/* 8009101C 0008DF7C  38 21 00 58 */	addi r1, r1, 0x58
/* 80091020 0008DF80  7C 08 03 A6 */	mtlr r0
/* 80091024 0008DF84  4E 80 00 20 */	blr 

.global CARDFormatAsync
CARDFormatAsync:
/* 80091028 0008DF88  7C 08 02 A6 */	mflr r0
/* 8009102C 0008DF8C  90 01 00 04 */	stw r0, 4(r1)
/* 80091030 0008DF90  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80091034 0008DF94  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80091038 0008DF98  3B E4 00 00 */	addi r31, r4, 0
/* 8009103C 0008DF9C  93 C1 00 10 */	stw r30, 0x10(r1)
/* 80091040 0008DFA0  3B C3 00 00 */	addi r30, r3, 0
/* 80091044 0008DFA4  4B FE 9B 89 */	bl OSGetFontEncode
/* 80091048 0008DFA8  38 83 00 00 */	addi r4, r3, 0
/* 8009104C 0008DFAC  38 7E 00 00 */	addi r3, r30, 0
/* 80091050 0008DFB0  38 BF 00 00 */	addi r5, r31, 0
/* 80091054 0008DFB4  4B FF F9 7D */	bl __CARDFormatRegionAsync
/* 80091058 0008DFB8  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8009105C 0008DFBC  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 80091060 0008DFC0  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 80091064 0008DFC4  38 21 00 18 */	addi r1, r1, 0x18
/* 80091068 0008DFC8  7C 08 03 A6 */	mtlr r0
/* 8009106C 0008DFCC  4E 80 00 20 */	blr 

.global CARDFormat
CARDFormat:
/* 80091070 0008DFD0  7C 08 02 A6 */	mflr r0
/* 80091074 0008DFD4  90 01 00 04 */	stw r0, 4(r1)
/* 80091078 0008DFD8  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8009107C 0008DFDC  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80091080 0008DFE0  7C 7F 1B 78 */	mr r31, r3
/* 80091084 0008DFE4  4B FE 9B 49 */	bl OSGetFontEncode
/* 80091088 0008DFE8  3C A0 80 09 */	lis r5, __CARDSyncCallback@ha
/* 8009108C 0008DFEC  38 83 00 00 */	addi r4, r3, 0
/* 80091090 0008DFF0  38 A5 D2 08 */	addi r5, r5, __CARDSyncCallback@l
/* 80091094 0008DFF4  38 7F 00 00 */	addi r3, r31, 0
/* 80091098 0008DFF8  4B FF F9 39 */	bl __CARDFormatRegionAsync
/* 8009109C 0008DFFC  2C 03 00 00 */	cmpwi r3, 0
/* 800910A0 0008E000  40 80 00 08 */	bge lbl_800910A8
/* 800910A4 0008E004  48 00 00 0C */	b lbl_800910B0
lbl_800910A8:
/* 800910A8 0008E008  7F E3 FB 78 */	mr r3, r31
/* 800910AC 0008E00C  4B FF D3 C1 */	bl __CARDSync
lbl_800910B0:
/* 800910B0 0008E010  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 800910B4 0008E014  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 800910B8 0008E018  38 21 00 18 */	addi r1, r1, 0x18
/* 800910BC 0008E01C  7C 08 03 A6 */	mtlr r0
/* 800910C0 0008E020  4E 80 00 20 */	blr 
