.include "macros.inc"

.section .text

.org 0x8007B490

.global OSNotifyLink
OSNotifyLink:
/* 8007B490 000783F0  4E 80 00 20 */	blr 

.global OSNotifyUnlink
OSNotifyUnlink:
/* 8007B494 000783F4  4E 80 00 20 */	blr 

.global OSSetStringTable
OSSetStringTable:
/* 8007B498 000783F8  3C 80 80 00 */	lis r4, 0x800030D0@ha
/* 8007B49C 000783FC  90 64 30 D0 */	stw r3, 0x800030D0@l(r4)
/* 8007B4A0 00078400  4E 80 00 20 */	blr 

.global Relocate
Relocate:
/* 8007B4A4 00078404  7C 08 02 A6 */	mflr r0
/* 8007B4A8 00078408  90 01 00 04 */	stw r0, 4(r1)
/* 8007B4AC 0007840C  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 8007B4B0 00078410  BE E1 00 1C */	stmw r23, 0x1c(r1)
/* 8007B4B4 00078414  7C 7A 1B 79 */	or. r26, r3, r3
/* 8007B4B8 00078418  3B 64 00 00 */	addi r27, r4, 0
/* 8007B4BC 0007841C  41 82 00 0C */	beq lbl_8007B4C8
/* 8007B4C0 00078420  83 FA 00 00 */	lwz r31, 0(r26)
/* 8007B4C4 00078424  48 00 00 08 */	b lbl_8007B4CC
lbl_8007B4C8:
/* 8007B4C8 00078428  3B E0 00 00 */	li r31, 0
lbl_8007B4CC:
/* 8007B4CC 0007842C  80 7B 00 28 */	lwz r3, 0x28(r27)
/* 8007B4D0 00078430  80 1B 00 2C */	lwz r0, 0x2c(r27)
/* 8007B4D4 00078434  38 83 00 00 */	addi r4, r3, 0
/* 8007B4D8 00078438  7C 63 02 14 */	add r3, r3, r0
/* 8007B4DC 0007843C  38 03 00 07 */	addi r0, r3, 7
/* 8007B4E0 00078440  7C 04 00 50 */	subf r0, r4, r0
/* 8007B4E4 00078444  54 00 E8 FE */	srwi r0, r0, 3
/* 8007B4E8 00078448  7C 04 18 40 */	cmplw r4, r3
/* 8007B4EC 0007844C  7C 09 03 A6 */	mtctr r0
/* 8007B4F0 00078450  40 80 00 18 */	bge lbl_8007B508
lbl_8007B4F4:
/* 8007B4F4 00078454  80 04 00 00 */	lwz r0, 0(r4)
/* 8007B4F8 00078458  7C 00 F8 40 */	cmplw r0, r31
/* 8007B4FC 0007845C  41 82 00 14 */	beq lbl_8007B510
/* 8007B500 00078460  38 84 00 08 */	addi r4, r4, 8
/* 8007B504 00078464  42 00 FF F0 */	bdnz lbl_8007B4F4
lbl_8007B508:
/* 8007B508 00078468  38 60 00 00 */	li r3, 0
/* 8007B50C 0007846C  48 00 01 F8 */	b lbl_8007B704
lbl_8007B510:
/* 8007B510 00078470  3C 60 80 0E */	lis r3, @54@ha
/* 8007B514 00078474  83 C4 00 04 */	lwz r30, 4(r4)
/* 8007B518 00078478  3B 23 01 58 */	addi r25, r3, @54@l
/* 8007B51C 0007847C  3B A0 00 00 */	li r29, 0
/* 8007B520 00078480  48 00 01 AC */	b lbl_8007B6CC
lbl_8007B524:
/* 8007B524 00078484  A0 1E 00 00 */	lhz r0, 0(r30)
/* 8007B528 00078488  28 1F 00 00 */	cmplwi r31, 0
/* 8007B52C 0007848C  7F 9C 02 14 */	add r28, r28, r0
/* 8007B530 00078490  41 82 00 1C */	beq lbl_8007B54C
/* 8007B534 00078494  88 1E 00 03 */	lbz r0, 3(r30)
/* 8007B538 00078498  80 7A 00 10 */	lwz r3, 0x10(r26)
/* 8007B53C 0007849C  54 00 18 38 */	slwi r0, r0, 3
/* 8007B540 000784A0  7C 03 00 2E */	lwzx r0, r3, r0
/* 8007B544 000784A4  54 05 00 3C */	rlwinm r5, r0, 0, 0, 0x1e
/* 8007B548 000784A8  48 00 00 08 */	b lbl_8007B550
lbl_8007B54C:
/* 8007B54C 000784AC  38 A0 00 00 */	li r5, 0
lbl_8007B550:
/* 8007B550 000784B0  2C 04 00 06 */	cmpwi r4, 6
/* 8007B554 000784B4  41 82 00 B8 */	beq lbl_8007B60C
/* 8007B558 000784B8  40 80 00 30 */	bge lbl_8007B588
/* 8007B55C 000784BC  2C 04 00 02 */	cmpwi r4, 2
/* 8007B560 000784C0  41 82 00 5C */	beq lbl_8007B5BC
/* 8007B564 000784C4  40 80 00 14 */	bge lbl_8007B578
/* 8007B568 000784C8  2C 04 00 00 */	cmpwi r4, 0
/* 8007B56C 000784CC  41 82 01 5C */	beq lbl_8007B6C8
/* 8007B570 000784D0  40 80 00 3C */	bge lbl_8007B5AC
/* 8007B574 000784D4  48 00 01 48 */	b lbl_8007B6BC
lbl_8007B578:
/* 8007B578 000784D8  2C 04 00 04 */	cmpwi r4, 4
/* 8007B57C 000784DC  41 82 00 6C */	beq lbl_8007B5E8
/* 8007B580 000784E0  40 80 00 78 */	bge lbl_8007B5F8
/* 8007B584 000784E4  48 00 00 54 */	b lbl_8007B5D8
lbl_8007B588:
/* 8007B588 000784E8  2C 04 00 C9 */	cmpwi r4, 0xc9
/* 8007B58C 000784EC  41 82 01 3C */	beq lbl_8007B6C8
/* 8007B590 000784F0  40 80 00 10 */	bge lbl_8007B5A0
/* 8007B594 000784F4  2C 04 00 0A */	cmpwi r4, 0xa
/* 8007B598 000784F8  41 82 00 A0 */	beq lbl_8007B638
/* 8007B59C 000784FC  48 00 01 20 */	b lbl_8007B6BC
lbl_8007B5A0:
/* 8007B5A0 00078500  2C 04 00 CB */	cmpwi r4, 0xcb
/* 8007B5A4 00078504  40 80 01 18 */	bge lbl_8007B6BC
/* 8007B5A8 00078508  48 00 00 B0 */	b lbl_8007B658
lbl_8007B5AC:
/* 8007B5AC 0007850C  80 1E 00 04 */	lwz r0, 4(r30)
/* 8007B5B0 00078510  7C 05 02 14 */	add r0, r5, r0
/* 8007B5B4 00078514  90 1C 00 00 */	stw r0, 0(r28)
/* 8007B5B8 00078518  48 00 01 10 */	b lbl_8007B6C8
lbl_8007B5BC:
/* 8007B5BC 0007851C  80 1E 00 04 */	lwz r0, 4(r30)
/* 8007B5C0 00078520  80 7C 00 00 */	lwz r3, 0(r28)
/* 8007B5C4 00078524  7C 05 02 14 */	add r0, r5, r0
/* 8007B5C8 00078528  54 63 07 8A */	rlwinm r3, r3, 0, 0x1e, 5
/* 8007B5CC 0007852C  50 03 01 BA */	rlwimi r3, r0, 0, 6, 0x1d
/* 8007B5D0 00078530  90 7C 00 00 */	stw r3, 0(r28)
/* 8007B5D4 00078534  48 00 00 F4 */	b lbl_8007B6C8
lbl_8007B5D8:
/* 8007B5D8 00078538  80 1E 00 04 */	lwz r0, 4(r30)
/* 8007B5DC 0007853C  7C 05 02 14 */	add r0, r5, r0
/* 8007B5E0 00078540  B0 1C 00 00 */	sth r0, 0(r28)
/* 8007B5E4 00078544  48 00 00 E4 */	b lbl_8007B6C8
lbl_8007B5E8:
/* 8007B5E8 00078548  80 1E 00 04 */	lwz r0, 4(r30)
/* 8007B5EC 0007854C  7C 05 02 14 */	add r0, r5, r0
/* 8007B5F0 00078550  B0 1C 00 00 */	sth r0, 0(r28)
/* 8007B5F4 00078554  48 00 00 D4 */	b lbl_8007B6C8
lbl_8007B5F8:
/* 8007B5F8 00078558  80 1E 00 04 */	lwz r0, 4(r30)
/* 8007B5FC 0007855C  7C 05 02 14 */	add r0, r5, r0
/* 8007B600 00078560  54 00 84 3E */	srwi r0, r0, 0x10
/* 8007B604 00078564  B0 1C 00 00 */	sth r0, 0(r28)
/* 8007B608 00078568  48 00 00 C0 */	b lbl_8007B6C8
lbl_8007B60C:
/* 8007B60C 0007856C  80 1E 00 04 */	lwz r0, 4(r30)
/* 8007B610 00078570  7C 85 02 14 */	add r4, r5, r0
/* 8007B614 00078574  54 80 04 21 */	rlwinm. r0, r4, 0, 0x10, 0x10
/* 8007B618 00078578  41 82 00 0C */	beq lbl_8007B624
/* 8007B61C 0007857C  38 60 00 01 */	li r3, 1
/* 8007B620 00078580  48 00 00 08 */	b lbl_8007B628
lbl_8007B624:
/* 8007B624 00078584  38 60 00 00 */	li r3, 0
lbl_8007B628:
/* 8007B628 00078588  54 80 84 3E */	srwi r0, r4, 0x10
/* 8007B62C 0007858C  7C 00 1A 14 */	add r0, r0, r3
/* 8007B630 00078590  B0 1C 00 00 */	sth r0, 0(r28)
/* 8007B634 00078594  48 00 00 94 */	b lbl_8007B6C8
lbl_8007B638:
/* 8007B638 00078598  80 1E 00 04 */	lwz r0, 4(r30)
/* 8007B63C 0007859C  80 7C 00 00 */	lwz r3, 0(r28)
/* 8007B640 000785A0  7C 05 02 14 */	add r0, r5, r0
/* 8007B644 000785A4  7C 1C 00 50 */	subf r0, r28, r0
/* 8007B648 000785A8  54 63 07 8A */	rlwinm r3, r3, 0, 0x1e, 5
/* 8007B64C 000785AC  50 03 01 BA */	rlwimi r3, r0, 0, 6, 0x1d
/* 8007B650 000785B0  90 7C 00 00 */	stw r3, 0(r28)
/* 8007B654 000785B4  48 00 00 74 */	b lbl_8007B6C8
lbl_8007B658:
/* 8007B658 000785B8  88 1E 00 03 */	lbz r0, 3(r30)
/* 8007B65C 000785BC  28 1D 00 00 */	cmplwi r29, 0
/* 8007B660 000785C0  80 7B 00 10 */	lwz r3, 0x10(r27)
/* 8007B664 000785C4  54 00 18 38 */	slwi r0, r0, 3
/* 8007B668 000785C8  7C 63 02 14 */	add r3, r3, r0
/* 8007B66C 000785CC  80 03 00 00 */	lwz r0, 0(r3)
/* 8007B670 000785D0  3A E3 00 00 */	addi r23, r3, 0
/* 8007B674 000785D4  54 1C 00 3C */	rlwinm r28, r0, 0, 0, 0x1e
/* 8007B678 000785D8  41 82 00 24 */	beq lbl_8007B69C
/* 8007B67C 000785DC  80 1D 00 00 */	lwz r0, 0(r29)
/* 8007B680 000785E0  80 9D 00 04 */	lwz r4, 4(r29)
/* 8007B684 000785E4  54 18 00 3C */	rlwinm r24, r0, 0, 0, 0x1e
/* 8007B688 000785E8  38 78 00 00 */	addi r3, r24, 0
/* 8007B68C 000785EC  4B FF E4 F9 */	bl DCFlushRange
/* 8007B690 000785F0  7F 03 C3 78 */	mr r3, r24
/* 8007B694 000785F4  80 9D 00 04 */	lwz r4, 4(r29)
/* 8007B698 000785F8  4B FF E6 15 */	bl ICInvalidateRange
lbl_8007B69C:
/* 8007B69C 000785FC  80 17 00 00 */	lwz r0, 0(r23)
/* 8007B6A0 00078600  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 8007B6A4 00078604  41 82 00 0C */	beq lbl_8007B6B0
/* 8007B6A8 00078608  7E E0 BB 78 */	mr r0, r23
/* 8007B6AC 0007860C  48 00 00 08 */	b lbl_8007B6B4
lbl_8007B6B0:
/* 8007B6B0 00078610  38 00 00 00 */	li r0, 0
lbl_8007B6B4:
/* 8007B6B4 00078614  7C 1D 03 78 */	mr r29, r0
/* 8007B6B8 00078618  48 00 00 10 */	b lbl_8007B6C8
lbl_8007B6BC:
/* 8007B6BC 0007861C  38 79 00 00 */	addi r3, r25, 0
/* 8007B6C0 00078620  4C C6 31 82 */	crclr 6
/* 8007B6C4 00078624  4B FD F0 8D */	bl OSReport
lbl_8007B6C8:
/* 8007B6C8 00078628  3B DE 00 08 */	addi r30, r30, 8
lbl_8007B6CC:
/* 8007B6CC 0007862C  88 9E 00 02 */	lbz r4, 2(r30)
/* 8007B6D0 00078630  28 04 00 CB */	cmplwi r4, 0xcb
/* 8007B6D4 00078634  40 82 FE 50 */	bne lbl_8007B524
/* 8007B6D8 00078638  28 1D 00 00 */	cmplwi r29, 0
/* 8007B6DC 0007863C  41 82 00 24 */	beq lbl_8007B700
/* 8007B6E0 00078640  80 1D 00 00 */	lwz r0, 0(r29)
/* 8007B6E4 00078644  80 9D 00 04 */	lwz r4, 4(r29)
/* 8007B6E8 00078648  54 19 00 3C */	rlwinm r25, r0, 0, 0, 0x1e
/* 8007B6EC 0007864C  38 79 00 00 */	addi r3, r25, 0
/* 8007B6F0 00078650  4B FF E4 95 */	bl DCFlushRange
/* 8007B6F4 00078654  7F 23 CB 78 */	mr r3, r25
/* 8007B6F8 00078658  80 9D 00 04 */	lwz r4, 4(r29)
/* 8007B6FC 0007865C  4B FF E5 B1 */	bl ICInvalidateRange
lbl_8007B700:
/* 8007B700 00078660  38 60 00 01 */	li r3, 1
lbl_8007B704:
/* 8007B704 00078664  BA E1 00 1C */	lmw r23, 0x1c(r1)
/* 8007B708 00078668  80 01 00 44 */	lwz r0, 0x44(r1)
/* 8007B70C 0007866C  38 21 00 40 */	addi r1, r1, 0x40
/* 8007B710 00078670  7C 08 03 A6 */	mtlr r0
/* 8007B714 00078674  4E 80 00 20 */	blr 

.global OSLink
OSLink:
/* 8007B718 00078678  7C 08 02 A6 */	mflr r0
/* 8007B71C 0007867C  90 01 00 04 */	stw r0, 4(r1)
/* 8007B720 00078680  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8007B724 00078684  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8007B728 00078688  7C 7F 1B 78 */	mr r31, r3
/* 8007B72C 0007868C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8007B730 00078690  3B C4 00 00 */	addi r30, r4, 0
/* 8007B734 00078694  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8007B738 00078698  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 8007B73C 0007869C  28 00 00 02 */	cmplwi r0, 2
/* 8007B740 000786A0  41 81 00 40 */	bgt lbl_8007B780
/* 8007B744 000786A4  41 80 00 44 */	blt lbl_8007B788
/* 8007B748 000786A8  80 7F 00 40 */	lwz r3, 0x40(r31)
/* 8007B74C 000786AC  28 03 00 00 */	cmplwi r3, 0
/* 8007B750 000786B0  41 82 00 14 */	beq lbl_8007B764
/* 8007B754 000786B4  7C 1F 1B 96 */	divwu r0, r31, r3
/* 8007B758 000786B8  7C 00 19 D6 */	mullw r0, r0, r3
/* 8007B75C 000786BC  7C 00 F8 51 */	subf. r0, r0, r31
/* 8007B760 000786C0  40 82 00 20 */	bne lbl_8007B780
lbl_8007B764:
/* 8007B764 000786C4  80 7F 00 44 */	lwz r3, 0x44(r31)
/* 8007B768 000786C8  28 03 00 00 */	cmplwi r3, 0
/* 8007B76C 000786CC  41 82 00 1C */	beq lbl_8007B788
/* 8007B770 000786D0  7C 1E 1B 96 */	divwu r0, r30, r3
/* 8007B774 000786D4  7C 00 19 D6 */	mullw r0, r0, r3
/* 8007B778 000786D8  7C 00 F0 51 */	subf. r0, r0, r30
/* 8007B77C 000786DC  41 82 00 0C */	beq lbl_8007B788
lbl_8007B780:
/* 8007B780 000786E0  38 60 00 00 */	li r3, 0
/* 8007B784 000786E4  48 00 01 C8 */	b lbl_8007B94C
lbl_8007B788:
/* 8007B788 000786E8  3C 60 80 00 */	lis r3, 0x800030C8@ha
/* 8007B78C 000786EC  38 A3 30 C8 */	addi r5, r3, 0x800030C8@l
/* 8007B790 000786F0  84 85 00 04 */	lwzu r4, 4(r5)
/* 8007B794 000786F4  28 04 00 00 */	cmplwi r4, 0
/* 8007B798 000786F8  40 82 00 0C */	bne lbl_8007B7A4
/* 8007B79C 000786FC  93 E3 30 C8 */	stw r31, 0x30c8(r3)
/* 8007B7A0 00078700  48 00 00 08 */	b lbl_8007B7A8
lbl_8007B7A4:
/* 8007B7A4 00078704  93 E4 00 04 */	stw r31, 4(r4)
lbl_8007B7A8:
/* 8007B7A8 00078708  90 9F 00 08 */	stw r4, 8(r31)
/* 8007B7AC 0007870C  3B A0 00 00 */	li r29, 0
/* 8007B7B0 00078710  38 7E 00 00 */	addi r3, r30, 0
/* 8007B7B4 00078714  93 BF 00 04 */	stw r29, 4(r31)
/* 8007B7B8 00078718  38 80 00 00 */	li r4, 0
/* 8007B7BC 0007871C  93 E5 00 00 */	stw r31, 0(r5)
/* 8007B7C0 00078720  80 BF 00 20 */	lwz r5, 0x20(r31)
/* 8007B7C4 00078724  4B F8 7B E5 */	bl memset
/* 8007B7C8 00078728  80 1F 00 10 */	lwz r0, 0x10(r31)
/* 8007B7CC 0007872C  38 80 00 00 */	li r4, 0
/* 8007B7D0 00078730  7C 00 FA 14 */	add r0, r0, r31
/* 8007B7D4 00078734  90 1F 00 10 */	stw r0, 0x10(r31)
/* 8007B7D8 00078738  80 1F 00 24 */	lwz r0, 0x24(r31)
/* 8007B7DC 0007873C  7C 00 FA 14 */	add r0, r0, r31
/* 8007B7E0 00078740  90 1F 00 24 */	stw r0, 0x24(r31)
/* 8007B7E4 00078744  80 1F 00 28 */	lwz r0, 0x28(r31)
/* 8007B7E8 00078748  7C 00 FA 14 */	add r0, r0, r31
/* 8007B7EC 0007874C  90 1F 00 28 */	stw r0, 0x28(r31)
/* 8007B7F0 00078750  48 00 00 44 */	b lbl_8007B834
lbl_8007B7F4:
/* 8007B7F4 00078754  80 1F 00 10 */	lwz r0, 0x10(r31)
/* 8007B7F8 00078758  7C 60 EA 14 */	add r3, r0, r29
/* 8007B7FC 0007875C  80 03 00 00 */	lwz r0, 0(r3)
/* 8007B800 00078760  28 00 00 00 */	cmplwi r0, 0
/* 8007B804 00078764  41 82 00 10 */	beq lbl_8007B814
/* 8007B808 00078768  7C 00 FA 14 */	add r0, r0, r31
/* 8007B80C 0007876C  90 03 00 00 */	stw r0, 0(r3)
/* 8007B810 00078770  48 00 00 1C */	b lbl_8007B82C
lbl_8007B814:
/* 8007B814 00078774  80 03 00 04 */	lwz r0, 4(r3)
/* 8007B818 00078778  28 00 00 00 */	cmplwi r0, 0
/* 8007B81C 0007877C  41 82 00 10 */	beq lbl_8007B82C
/* 8007B820 00078780  93 C3 00 00 */	stw r30, 0(r3)
/* 8007B824 00078784  80 03 00 04 */	lwz r0, 4(r3)
/* 8007B828 00078788  7F DE 02 14 */	add r30, r30, r0
lbl_8007B82C:
/* 8007B82C 0007878C  3B BD 00 08 */	addi r29, r29, 8
/* 8007B830 00078790  38 84 00 01 */	addi r4, r4, 1
lbl_8007B834:
/* 8007B834 00078794  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 8007B838 00078798  7C 04 00 40 */	cmplw r4, r0
/* 8007B83C 0007879C  41 80 FF B8 */	blt lbl_8007B7F4
/* 8007B840 000787A0  80 9F 00 28 */	lwz r4, 0x28(r31)
/* 8007B844 000787A4  48 00 00 14 */	b lbl_8007B858
lbl_8007B848:
/* 8007B848 000787A8  80 04 00 04 */	lwz r0, 4(r4)
/* 8007B84C 000787AC  7C 00 FA 14 */	add r0, r0, r31
/* 8007B850 000787B0  90 04 00 04 */	stw r0, 4(r4)
/* 8007B854 000787B4  38 84 00 08 */	addi r4, r4, 8
lbl_8007B858:
/* 8007B858 000787B8  80 7F 00 28 */	lwz r3, 0x28(r31)
/* 8007B85C 000787BC  80 1F 00 2C */	lwz r0, 0x2c(r31)
/* 8007B860 000787C0  7C 03 02 14 */	add r0, r3, r0
/* 8007B864 000787C4  7C 04 00 40 */	cmplw r4, r0
/* 8007B868 000787C8  41 80 FF E0 */	blt lbl_8007B848
/* 8007B86C 000787CC  88 1F 00 30 */	lbz r0, 0x30(r31)
/* 8007B870 000787D0  28 00 00 00 */	cmplwi r0, 0
/* 8007B874 000787D4  41 82 00 20 */	beq lbl_8007B894
/* 8007B878 000787D8  80 7F 00 10 */	lwz r3, 0x10(r31)
/* 8007B87C 000787DC  54 00 18 38 */	slwi r0, r0, 3
/* 8007B880 000787E0  80 9F 00 34 */	lwz r4, 0x34(r31)
/* 8007B884 000787E4  7C 03 00 2E */	lwzx r0, r3, r0
/* 8007B888 000787E8  54 00 00 3C */	rlwinm r0, r0, 0, 0, 0x1e
/* 8007B88C 000787EC  7C 04 02 14 */	add r0, r4, r0
/* 8007B890 000787F0  90 1F 00 34 */	stw r0, 0x34(r31)
lbl_8007B894:
/* 8007B894 000787F4  88 1F 00 31 */	lbz r0, 0x31(r31)
/* 8007B898 000787F8  28 00 00 00 */	cmplwi r0, 0
/* 8007B89C 000787FC  41 82 00 20 */	beq lbl_8007B8BC
/* 8007B8A0 00078800  80 7F 00 10 */	lwz r3, 0x10(r31)
/* 8007B8A4 00078804  54 00 18 38 */	slwi r0, r0, 3
/* 8007B8A8 00078808  80 9F 00 38 */	lwz r4, 0x38(r31)
/* 8007B8AC 0007880C  7C 03 00 2E */	lwzx r0, r3, r0
/* 8007B8B0 00078810  54 00 00 3C */	rlwinm r0, r0, 0, 0, 0x1e
/* 8007B8B4 00078814  7C 04 02 14 */	add r0, r4, r0
/* 8007B8B8 00078818  90 1F 00 38 */	stw r0, 0x38(r31)
lbl_8007B8BC:
/* 8007B8BC 0007881C  88 1F 00 32 */	lbz r0, 0x32(r31)
/* 8007B8C0 00078820  28 00 00 00 */	cmplwi r0, 0
/* 8007B8C4 00078824  41 82 00 20 */	beq lbl_8007B8E4
/* 8007B8C8 00078828  80 7F 00 10 */	lwz r3, 0x10(r31)
/* 8007B8CC 0007882C  54 00 18 38 */	slwi r0, r0, 3
/* 8007B8D0 00078830  80 9F 00 3C */	lwz r4, 0x3c(r31)
/* 8007B8D4 00078834  7C 03 00 2E */	lwzx r0, r3, r0
/* 8007B8D8 00078838  54 00 00 3C */	rlwinm r0, r0, 0, 0, 0x1e
/* 8007B8DC 0007883C  7C 04 02 14 */	add r0, r4, r0
/* 8007B8E0 00078840  90 1F 00 3C */	stw r0, 0x3c(r31)
lbl_8007B8E4:
/* 8007B8E4 00078844  3C 60 80 00 */	lis r3, 0x800030D0@ha
/* 8007B8E8 00078848  80 63 30 D0 */	lwz r3, 0x800030D0@l(r3)
/* 8007B8EC 0007884C  28 03 00 00 */	cmplwi r3, 0
/* 8007B8F0 00078850  41 82 00 10 */	beq lbl_8007B900
/* 8007B8F4 00078854  80 1F 00 14 */	lwz r0, 0x14(r31)
/* 8007B8F8 00078858  7C 00 1A 14 */	add r0, r0, r3
/* 8007B8FC 0007885C  90 1F 00 14 */	stw r0, 0x14(r31)
lbl_8007B900:
/* 8007B900 00078860  38 60 00 00 */	li r3, 0
/* 8007B904 00078864  38 9F 00 00 */	addi r4, r31, 0
/* 8007B908 00078868  4B FF FB 9D */	bl Relocate
/* 8007B90C 0007886C  3C 60 80 00 */	lis r3, 0x800030C8@ha
/* 8007B910 00078870  83 A3 30 C8 */	lwz r29, 0x800030C8@l(r3)
/* 8007B914 00078874  48 00 00 28 */	b lbl_8007B93C
lbl_8007B918:
/* 8007B918 00078878  38 7F 00 00 */	addi r3, r31, 0
/* 8007B91C 0007887C  38 9D 00 00 */	addi r4, r29, 0
/* 8007B920 00078880  4B FF FB 85 */	bl Relocate
/* 8007B924 00078884  7C 1D F8 40 */	cmplw r29, r31
/* 8007B928 00078888  41 82 00 10 */	beq lbl_8007B938
/* 8007B92C 0007888C  38 7D 00 00 */	addi r3, r29, 0
/* 8007B930 00078890  38 9F 00 00 */	addi r4, r31, 0
/* 8007B934 00078894  4B FF FB 71 */	bl Relocate
lbl_8007B938:
/* 8007B938 00078898  83 BD 00 04 */	lwz r29, 4(r29)
lbl_8007B93C:
/* 8007B93C 0007889C  28 1D 00 00 */	cmplwi r29, 0
/* 8007B940 000788A0  40 82 FF D8 */	bne lbl_8007B918
/* 8007B944 000788A4  4B FF FB 4D */	bl OSNotifyLink
/* 8007B948 000788A8  38 60 00 01 */	li r3, 1
lbl_8007B94C:
/* 8007B94C 000788AC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8007B950 000788B0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8007B954 000788B4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8007B958 000788B8  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8007B95C 000788BC  38 21 00 20 */	addi r1, r1, 0x20
/* 8007B960 000788C0  7C 08 03 A6 */	mtlr r0
/* 8007B964 000788C4  4E 80 00 20 */	blr 

.global Undo
Undo:
/* 8007B968 000788C8  7C 08 02 A6 */	mflr r0
/* 8007B96C 000788CC  90 01 00 04 */	stw r0, 4(r1)
/* 8007B970 000788D0  94 21 FF C8 */	stwu r1, -0x38(r1)
/* 8007B974 000788D4  BF 21 00 1C */	stmw r25, 0x1c(r1)
/* 8007B978 000788D8  7C 9C 23 78 */	mr r28, r4
/* 8007B97C 000788DC  80 83 00 00 */	lwz r4, 0(r3)
/* 8007B980 000788E0  80 7C 00 28 */	lwz r3, 0x28(r28)
/* 8007B984 000788E4  80 1C 00 2C */	lwz r0, 0x2c(r28)
/* 8007B988 000788E8  38 A3 00 00 */	addi r5, r3, 0
/* 8007B98C 000788EC  7C 63 02 14 */	add r3, r3, r0
/* 8007B990 000788F0  38 03 00 07 */	addi r0, r3, 7
/* 8007B994 000788F4  7C 05 00 50 */	subf r0, r5, r0
/* 8007B998 000788F8  54 00 E8 FE */	srwi r0, r0, 3
/* 8007B99C 000788FC  7C 05 18 40 */	cmplw r5, r3
/* 8007B9A0 00078900  7C 09 03 A6 */	mtctr r0
/* 8007B9A4 00078904  40 80 00 18 */	bge lbl_8007B9BC
lbl_8007B9A8:
/* 8007B9A8 00078908  80 05 00 00 */	lwz r0, 0(r5)
/* 8007B9AC 0007890C  7C 00 20 40 */	cmplw r0, r4
/* 8007B9B0 00078910  41 82 00 14 */	beq lbl_8007B9C4
/* 8007B9B4 00078914  38 A5 00 08 */	addi r5, r5, 8
/* 8007B9B8 00078918  42 00 FF F0 */	bdnz lbl_8007B9A8
lbl_8007B9BC:
/* 8007B9BC 0007891C  38 60 00 00 */	li r3, 0
/* 8007B9C0 00078920  48 00 01 A0 */	b lbl_8007BB60
lbl_8007B9C4:
/* 8007B9C4 00078924  3C 60 80 0E */	lis r3, @153@ha
/* 8007B9C8 00078928  83 E5 00 04 */	lwz r31, 4(r5)
/* 8007B9CC 0007892C  3B 63 01 80 */	addi r27, r3, @153@l
/* 8007B9D0 00078930  3B C0 00 00 */	li r30, 0
/* 8007B9D4 00078934  48 00 01 54 */	b lbl_8007BB28
lbl_8007B9D8:
/* 8007B9D8 00078938  A0 1F 00 00 */	lhz r0, 0(r31)
/* 8007B9DC 0007893C  2C 04 00 06 */	cmpwi r4, 6
/* 8007B9E0 00078940  38 60 00 00 */	li r3, 0
/* 8007B9E4 00078944  7F BD 02 14 */	add r29, r29, r0
/* 8007B9E8 00078948  41 82 00 98 */	beq lbl_8007BA80
/* 8007B9EC 0007894C  40 80 00 30 */	bge lbl_8007BA1C
/* 8007B9F0 00078950  2C 04 00 02 */	cmpwi r4, 2
/* 8007B9F4 00078954  41 82 00 58 */	beq lbl_8007BA4C
/* 8007B9F8 00078958  40 80 00 14 */	bge lbl_8007BA0C
/* 8007B9FC 0007895C  2C 04 00 00 */	cmpwi r4, 0
/* 8007BA00 00078960  41 82 01 24 */	beq lbl_8007BB24
/* 8007BA04 00078964  40 80 00 3C */	bge lbl_8007BA40
/* 8007BA08 00078968  48 00 01 10 */	b lbl_8007BB18
lbl_8007BA0C:
/* 8007BA0C 0007896C  2C 04 00 04 */	cmpwi r4, 4
/* 8007BA10 00078970  41 82 00 58 */	beq lbl_8007BA68
/* 8007BA14 00078974  40 80 00 60 */	bge lbl_8007BA74
/* 8007BA18 00078978  48 00 00 44 */	b lbl_8007BA5C
lbl_8007BA1C:
/* 8007BA1C 0007897C  2C 04 00 C9 */	cmpwi r4, 0xc9
/* 8007BA20 00078980  41 82 01 04 */	beq lbl_8007BB24
/* 8007BA24 00078984  40 80 00 10 */	bge lbl_8007BA34
/* 8007BA28 00078988  2C 04 00 0A */	cmpwi r4, 0xa
/* 8007BA2C 0007898C  41 82 00 60 */	beq lbl_8007BA8C
/* 8007BA30 00078990  48 00 00 E8 */	b lbl_8007BB18
lbl_8007BA34:
/* 8007BA34 00078994  2C 04 00 CB */	cmpwi r4, 0xcb
/* 8007BA38 00078998  40 80 00 E0 */	bge lbl_8007BB18
/* 8007BA3C 0007899C  48 00 00 78 */	b lbl_8007BAB4
lbl_8007BA40:
/* 8007BA40 000789A0  38 00 00 00 */	li r0, 0
/* 8007BA44 000789A4  90 1D 00 00 */	stw r0, 0(r29)
/* 8007BA48 000789A8  48 00 00 DC */	b lbl_8007BB24
lbl_8007BA4C:
/* 8007BA4C 000789AC  80 1D 00 00 */	lwz r0, 0(r29)
/* 8007BA50 000789B0  54 00 07 8A */	rlwinm r0, r0, 0, 0x1e, 5
/* 8007BA54 000789B4  90 1D 00 00 */	stw r0, 0(r29)
/* 8007BA58 000789B8  48 00 00 CC */	b lbl_8007BB24
lbl_8007BA5C:
/* 8007BA5C 000789BC  38 00 00 00 */	li r0, 0
/* 8007BA60 000789C0  B0 1D 00 00 */	sth r0, 0(r29)
/* 8007BA64 000789C4  48 00 00 C0 */	b lbl_8007BB24
lbl_8007BA68:
/* 8007BA68 000789C8  38 00 00 00 */	li r0, 0
/* 8007BA6C 000789CC  B0 1D 00 00 */	sth r0, 0(r29)
/* 8007BA70 000789D0  48 00 00 B4 */	b lbl_8007BB24
lbl_8007BA74:
/* 8007BA74 000789D4  38 00 00 00 */	li r0, 0
/* 8007BA78 000789D8  B0 1D 00 00 */	sth r0, 0(r29)
/* 8007BA7C 000789DC  48 00 00 A8 */	b lbl_8007BB24
lbl_8007BA80:
/* 8007BA80 000789E0  38 00 00 00 */	li r0, 0
/* 8007BA84 000789E4  B0 1D 00 00 */	sth r0, 0(r29)
/* 8007BA88 000789E8  48 00 00 9C */	b lbl_8007BB24
lbl_8007BA8C:
/* 8007BA8C 000789EC  88 1C 00 32 */	lbz r0, 0x32(r28)
/* 8007BA90 000789F0  28 00 00 00 */	cmplwi r0, 0
/* 8007BA94 000789F4  41 82 00 0C */	beq lbl_8007BAA0
/* 8007BA98 000789F8  80 1C 00 3C */	lwz r0, 0x3c(r28)
/* 8007BA9C 000789FC  7C 7D 00 50 */	subf r3, r29, r0
lbl_8007BAA0:
/* 8007BAA0 00078A00  80 1D 00 00 */	lwz r0, 0(r29)
/* 8007BAA4 00078A04  54 00 07 8A */	rlwinm r0, r0, 0, 0x1e, 5
/* 8007BAA8 00078A08  50 60 01 BA */	rlwimi r0, r3, 0, 6, 0x1d
/* 8007BAAC 00078A0C  90 1D 00 00 */	stw r0, 0(r29)
/* 8007BAB0 00078A10  48 00 00 74 */	b lbl_8007BB24
lbl_8007BAB4:
/* 8007BAB4 00078A14  88 1F 00 03 */	lbz r0, 3(r31)
/* 8007BAB8 00078A18  28 1E 00 00 */	cmplwi r30, 0
/* 8007BABC 00078A1C  80 7C 00 10 */	lwz r3, 0x10(r28)
/* 8007BAC0 00078A20  54 00 18 38 */	slwi r0, r0, 3
/* 8007BAC4 00078A24  7C 63 02 14 */	add r3, r3, r0
/* 8007BAC8 00078A28  80 03 00 00 */	lwz r0, 0(r3)
/* 8007BACC 00078A2C  3B 43 00 00 */	addi r26, r3, 0
/* 8007BAD0 00078A30  54 1D 00 3C */	rlwinm r29, r0, 0, 0, 0x1e
/* 8007BAD4 00078A34  41 82 00 24 */	beq lbl_8007BAF8
/* 8007BAD8 00078A38  80 1E 00 00 */	lwz r0, 0(r30)
/* 8007BADC 00078A3C  80 9E 00 04 */	lwz r4, 4(r30)
/* 8007BAE0 00078A40  54 19 00 3C */	rlwinm r25, r0, 0, 0, 0x1e
/* 8007BAE4 00078A44  38 79 00 00 */	addi r3, r25, 0
/* 8007BAE8 00078A48  4B FF E0 9D */	bl DCFlushRange
/* 8007BAEC 00078A4C  7F 23 CB 78 */	mr r3, r25
/* 8007BAF0 00078A50  80 9E 00 04 */	lwz r4, 4(r30)
/* 8007BAF4 00078A54  4B FF E1 B9 */	bl ICInvalidateRange
lbl_8007BAF8:
/* 8007BAF8 00078A58  80 1A 00 00 */	lwz r0, 0(r26)
/* 8007BAFC 00078A5C  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 8007BB00 00078A60  41 82 00 0C */	beq lbl_8007BB0C
/* 8007BB04 00078A64  7F 40 D3 78 */	mr r0, r26
/* 8007BB08 00078A68  48 00 00 08 */	b lbl_8007BB10
lbl_8007BB0C:
/* 8007BB0C 00078A6C  38 00 00 00 */	li r0, 0
lbl_8007BB10:
/* 8007BB10 00078A70  7C 1E 03 78 */	mr r30, r0
/* 8007BB14 00078A74  48 00 00 10 */	b lbl_8007BB24
lbl_8007BB18:
/* 8007BB18 00078A78  38 7B 00 00 */	addi r3, r27, 0
/* 8007BB1C 00078A7C  4C C6 31 82 */	crclr 6
/* 8007BB20 00078A80  4B FD EC 31 */	bl OSReport
lbl_8007BB24:
/* 8007BB24 00078A84  3B FF 00 08 */	addi r31, r31, 8
lbl_8007BB28:
/* 8007BB28 00078A88  88 9F 00 02 */	lbz r4, 2(r31)
/* 8007BB2C 00078A8C  28 04 00 CB */	cmplwi r4, 0xcb
/* 8007BB30 00078A90  40 82 FE A8 */	bne lbl_8007B9D8
/* 8007BB34 00078A94  28 1E 00 00 */	cmplwi r30, 0
/* 8007BB38 00078A98  41 82 00 24 */	beq lbl_8007BB5C
/* 8007BB3C 00078A9C  80 1E 00 00 */	lwz r0, 0(r30)
/* 8007BB40 00078AA0  80 9E 00 04 */	lwz r4, 4(r30)
/* 8007BB44 00078AA4  54 1B 00 3C */	rlwinm r27, r0, 0, 0, 0x1e
/* 8007BB48 00078AA8  38 7B 00 00 */	addi r3, r27, 0
/* 8007BB4C 00078AAC  4B FF E0 39 */	bl DCFlushRange
/* 8007BB50 00078AB0  7F 63 DB 78 */	mr r3, r27
/* 8007BB54 00078AB4  80 9E 00 04 */	lwz r4, 4(r30)
/* 8007BB58 00078AB8  4B FF E1 55 */	bl ICInvalidateRange
lbl_8007BB5C:
/* 8007BB5C 00078ABC  38 60 00 01 */	li r3, 1
lbl_8007BB60:
/* 8007BB60 00078AC0  BB 21 00 1C */	lmw r25, 0x1c(r1)
/* 8007BB64 00078AC4  80 01 00 3C */	lwz r0, 0x3c(r1)
/* 8007BB68 00078AC8  38 21 00 38 */	addi r1, r1, 0x38
/* 8007BB6C 00078ACC  7C 08 03 A6 */	mtlr r0
/* 8007BB70 00078AD0  4E 80 00 20 */	blr 

.global OSUnlink
OSUnlink:
/* 8007BB74 00078AD4  7C 08 02 A6 */	mflr r0
/* 8007BB78 00078AD8  90 01 00 04 */	stw r0, 4(r1)
/* 8007BB7C 00078ADC  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8007BB80 00078AE0  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8007BB84 00078AE4  7C 7F 1B 78 */	mr r31, r3
/* 8007BB88 00078AE8  93 C1 00 10 */	stw r30, 0x10(r1)
/* 8007BB8C 00078AEC  80 83 00 04 */	lwz r4, 4(r3)
/* 8007BB90 00078AF0  80 A3 00 08 */	lwz r5, 8(r3)
/* 8007BB94 00078AF4  28 04 00 00 */	cmplwi r4, 0
/* 8007BB98 00078AF8  40 82 00 10 */	bne lbl_8007BBA8
/* 8007BB9C 00078AFC  3C 60 80 00 */	lis r3, 0x800030CC@ha
/* 8007BBA0 00078B00  90 A3 30 CC */	stw r5, 0x800030CC@l(r3)
/* 8007BBA4 00078B04  48 00 00 08 */	b lbl_8007BBAC
lbl_8007BBA8:
/* 8007BBA8 00078B08  90 A4 00 08 */	stw r5, 8(r4)
lbl_8007BBAC:
/* 8007BBAC 00078B0C  28 05 00 00 */	cmplwi r5, 0
/* 8007BBB0 00078B10  40 82 00 10 */	bne lbl_8007BBC0
/* 8007BBB4 00078B14  3C 60 80 00 */	lis r3, 0x800030C8@ha
/* 8007BBB8 00078B18  90 83 30 C8 */	stw r4, 0x800030C8@l(r3)
/* 8007BBBC 00078B1C  48 00 00 08 */	b lbl_8007BBC4
lbl_8007BBC0:
/* 8007BBC0 00078B20  90 85 00 04 */	stw r4, 4(r5)
lbl_8007BBC4:
/* 8007BBC4 00078B24  3C 60 80 00 */	lis r3, 0x800030C8@ha
/* 8007BBC8 00078B28  83 C3 30 C8 */	lwz r30, 0x800030C8@l(r3)
/* 8007BBCC 00078B2C  48 00 00 14 */	b lbl_8007BBE0
lbl_8007BBD0:
/* 8007BBD0 00078B30  38 7F 00 00 */	addi r3, r31, 0
/* 8007BBD4 00078B34  38 9E 00 00 */	addi r4, r30, 0
/* 8007BBD8 00078B38  4B FF FD 91 */	bl Undo
/* 8007BBDC 00078B3C  83 DE 00 04 */	lwz r30, 4(r30)
lbl_8007BBE0:
/* 8007BBE0 00078B40  28 1E 00 00 */	cmplwi r30, 0
/* 8007BBE4 00078B44  40 82 FF EC */	bne lbl_8007BBD0
/* 8007BBE8 00078B48  4B FF F8 AD */	bl OSNotifyUnlink
/* 8007BBEC 00078B4C  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8007BBF0 00078B50  38 60 00 01 */	li r3, 1
/* 8007BBF4 00078B54  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 8007BBF8 00078B58  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 8007BBFC 00078B5C  38 21 00 18 */	addi r1, r1, 0x18
/* 8007BC00 00078B60  7C 08 03 A6 */	mtlr r0
/* 8007BC04 00078B64  4E 80 00 20 */	blr 

.global __OSModuleInit
__OSModuleInit:
/* 8007BC08 00078B68  3C 80 80 00 */	lis r4, 0x800030CC@ha
/* 8007BC0C 00078B6C  38 00 00 00 */	li r0, 0
/* 8007BC10 00078B70  90 04 30 CC */	stw r0, 0x800030CC@l(r4)
/* 8007BC14 00078B74  90 04 30 C8 */	stw r0, 0x30c8(r4)
/* 8007BC18 00078B78  90 04 30 D0 */	stw r0, 0x30d0(r4)
/* 8007BC1C 00078B7C  4E 80 00 20 */	blr 
