.include "macros.inc"

.section .text

.org 0x800A864C

.global TRKLoadContext
TRKLoadContext:
/* 800A864C 000A55AC  80 03 00 00 */	lwz r0, 0(r3)
/* 800A8650 000A55B0  80 23 00 04 */	lwz r1, 4(r3)
/* 800A8654 000A55B4  80 43 00 08 */	lwz r2, 8(r3)
/* 800A8658 000A55B8  A0 A3 01 A2 */	lhz r5, 0x1a2(r3)
/* 800A865C 000A55BC  54 A6 07 BD */	rlwinm. r6, r5, 0, 0x1e, 0x1e
/* 800A8660 000A55C0  41 82 00 14 */	beq lbl_800A8674
/* 800A8664 000A55C4  54 A5 07 FA */	rlwinm r5, r5, 0, 0x1f, 0x1d
/* 800A8668 000A55C8  B0 A3 01 A2 */	sth r5, 0x1a2(r3)
/* 800A866C 000A55CC  B8 A3 00 14 */	lmw r5, 0x14(r3)
/* 800A8670 000A55D0  48 00 00 08 */	b lbl_800A8678
lbl_800A8674:
/* 800A8674 000A55D4  B9 A3 00 34 */	lmw r13, 0x34(r3)
lbl_800A8678:
/* 800A8678 000A55D8  7C 7F 1B 78 */	mr r31, r3
/* 800A867C 000A55DC  7C 83 23 78 */	mr r3, r4
/* 800A8680 000A55E0  80 9F 00 80 */	lwz r4, 0x80(r31)
/* 800A8684 000A55E4  7C 8F F1 20 */	mtcrf 0xff, r4
/* 800A8688 000A55E8  80 9F 00 84 */	lwz r4, 0x84(r31)
/* 800A868C 000A55EC  7C 88 03 A6 */	mtlr r4
/* 800A8690 000A55F0  80 9F 00 88 */	lwz r4, 0x88(r31)
/* 800A8694 000A55F4  7C 89 03 A6 */	mtctr r4
/* 800A8698 000A55F8  80 9F 00 8C */	lwz r4, 0x8c(r31)
/* 800A869C 000A55FC  7C 81 03 A6 */	mtxer r4
/* 800A86A0 000A5600  7C 80 00 A6 */	mfmsr r4
/* 800A86A4 000A5604  54 84 04 5E */	rlwinm r4, r4, 0, 0x11, 0xf
/* 800A86A8 000A5608  54 84 07 FA */	rlwinm r4, r4, 0, 0x1f, 0x1d
/* 800A86AC 000A560C  7C 80 01 24 */	mtmsr r4
/* 800A86B0 000A5610  7C 51 43 A6 */	mtspr 0x111, r2
/* 800A86B4 000A5614  80 9F 00 0C */	lwz r4, 0xc(r31)
/* 800A86B8 000A5618  7C 92 43 A6 */	mtspr 0x112, r4
/* 800A86BC 000A561C  80 9F 00 10 */	lwz r4, 0x10(r31)
/* 800A86C0 000A5620  7C 93 43 A6 */	mtspr 0x113, r4
/* 800A86C4 000A5624  80 5F 01 98 */	lwz r2, 0x198(r31)
/* 800A86C8 000A5628  80 9F 01 9C */	lwz r4, 0x19c(r31)
/* 800A86CC 000A562C  83 FF 00 7C */	lwz r31, 0x7c(r31)
/* 800A86D0 000A5630  4B FF E2 10 */	b TRKInterruptHandler

.global TRKUARTInterruptHandler
TRKUARTInterruptHandler:
/* 800A86D4 000A5634  4E 80 00 20 */	blr 

.global TRK_board_display
TRK_board_display:
/* 800A86D8 000A5638  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800A86DC 000A563C  7C 08 02 A6 */	mflr r0
/* 800A86E0 000A5640  90 01 00 14 */	stw r0, 0x14(r1)
/* 800A86E4 000A5644  4C C6 31 82 */	crclr 6
/* 800A86E8 000A5648  4B FB 20 69 */	bl OSReport
/* 800A86EC 000A564C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800A86F0 000A5650  7C 08 03 A6 */	mtlr r0
/* 800A86F4 000A5654  38 21 00 10 */	addi r1, r1, 0x10
/* 800A86F8 000A5658  4E 80 00 20 */	blr 

.global UnreserveEXI2Port
UnreserveEXI2Port:
/* 800A86FC 000A565C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800A8700 000A5660  7C 08 02 A6 */	mflr r0
/* 800A8704 000A5664  3C 60 80 0E */	lis r3, gDBCommTable@ha
/* 800A8708 000A5668  90 01 00 14 */	stw r0, 0x14(r1)
/* 800A870C 000A566C  38 63 22 58 */	addi r3, r3, gDBCommTable@l
/* 800A8710 000A5670  81 83 00 18 */	lwz r12, 0x18(r3)
/* 800A8714 000A5674  7D 89 03 A6 */	mtctr r12
/* 800A8718 000A5678  4E 80 04 21 */	bctrl 
/* 800A871C 000A567C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800A8720 000A5680  7C 08 03 A6 */	mtlr r0
/* 800A8724 000A5684  38 21 00 10 */	addi r1, r1, 0x10
/* 800A8728 000A5688  4E 80 00 20 */	blr 

.global ReserveEXI2Port
ReserveEXI2Port:
/* 800A872C 000A568C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800A8730 000A5690  7C 08 02 A6 */	mflr r0
/* 800A8734 000A5694  3C 60 80 0E */	lis r3, gDBCommTable@ha
/* 800A8738 000A5698  90 01 00 14 */	stw r0, 0x14(r1)
/* 800A873C 000A569C  38 63 22 58 */	addi r3, r3, gDBCommTable@l
/* 800A8740 000A56A0  81 83 00 14 */	lwz r12, 0x14(r3)
/* 800A8744 000A56A4  7D 89 03 A6 */	mtctr r12
/* 800A8748 000A56A8  4E 80 04 21 */	bctrl 
/* 800A874C 000A56AC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800A8750 000A56B0  7C 08 03 A6 */	mtlr r0
/* 800A8754 000A56B4  38 21 00 10 */	addi r1, r1, 0x10
/* 800A8758 000A56B8  4E 80 00 20 */	blr 

.global TRKReadUARTPoll
TRKReadUARTPoll:
/* 800A875C 000A56BC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800A8760 000A56C0  7C 08 02 A6 */	mflr r0
/* 800A8764 000A56C4  3C 80 80 21 */	lis r4, gWritePos@ha
/* 800A8768 000A56C8  90 01 00 24 */	stw r0, 0x24(r1)
/* 800A876C 000A56CC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800A8770 000A56D0  7C 7F 1B 78 */	mr r31, r3
/* 800A8774 000A56D4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800A8778 000A56D8  3B C4 B5 60 */	addi r30, r4, gWritePos@l
/* 800A877C 000A56DC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800A8780 000A56E0  3B A0 00 04 */	li r29, 4
/* 800A8784 000A56E4  80 7E 00 04 */	lwz r3, 4(r30)
/* 800A8788 000A56E8  80 1E 00 08 */	lwz r0, 8(r30)
/* 800A878C 000A56EC  7C 03 00 00 */	cmpw r3, r0
/* 800A8790 000A56F0  41 80 00 74 */	blt lbl_800A8804
/* 800A8794 000A56F4  3C 60 80 0E */	lis r3, gDBCommTable@ha
/* 800A8798 000A56F8  38 00 00 00 */	li r0, 0
/* 800A879C 000A56FC  38 63 22 58 */	addi r3, r3, gDBCommTable@l
/* 800A87A0 000A5700  90 1E 00 04 */	stw r0, 4(r30)
/* 800A87A4 000A5704  81 83 00 08 */	lwz r12, 8(r3)
/* 800A87A8 000A5708  7D 89 03 A6 */	mtctr r12
/* 800A87AC 000A570C  4E 80 04 21 */	bctrl 
/* 800A87B0 000A5710  2C 03 00 00 */	cmpwi r3, 0
/* 800A87B4 000A5714  90 7E 00 08 */	stw r3, 8(r30)
/* 800A87B8 000A5718  40 81 00 4C */	ble lbl_800A8804
/* 800A87BC 000A571C  2C 03 11 0A */	cmpwi r3, 0x110a
/* 800A87C0 000A5720  40 81 00 0C */	ble lbl_800A87CC
/* 800A87C4 000A5724  38 00 11 0A */	li r0, 0x110a
/* 800A87C8 000A5728  90 1E 00 08 */	stw r0, 8(r30)
lbl_800A87CC:
/* 800A87CC 000A572C  3C 80 80 0E */	lis r4, gDBCommTable@ha
/* 800A87D0 000A5730  38 7E 00 10 */	addi r3, r30, 0x10
/* 800A87D4 000A5734  38 A4 22 58 */	addi r5, r4, gDBCommTable@l
/* 800A87D8 000A5738  80 9E 00 08 */	lwz r4, 8(r30)
/* 800A87DC 000A573C  81 85 00 0C */	lwz r12, 0xc(r5)
/* 800A87E0 000A5740  7D 89 03 A6 */	mtctr r12
/* 800A87E4 000A5744  4E 80 04 21 */	bctrl 
/* 800A87E8 000A5748  7C 03 00 D0 */	neg r0, r3
/* 800A87EC 000A574C  7C 00 1B 78 */	or r0, r0, r3
/* 800A87F0 000A5750  7C 00 FE 71 */	srawi. r0, r0, 0x1f
/* 800A87F4 000A5754  7C 1D 03 78 */	mr r29, r0
/* 800A87F8 000A5758  41 82 00 0C */	beq lbl_800A8804
/* 800A87FC 000A575C  38 00 00 00 */	li r0, 0
/* 800A8800 000A5760  90 1E 00 08 */	stw r0, 8(r30)
lbl_800A8804:
/* 800A8804 000A5764  80 7E 00 04 */	lwz r3, 4(r30)
/* 800A8808 000A5768  80 1E 00 08 */	lwz r0, 8(r30)
/* 800A880C 000A576C  7C 03 00 00 */	cmpw r3, r0
/* 800A8810 000A5770  40 80 00 1C */	bge lbl_800A882C
/* 800A8814 000A5774  38 03 00 01 */	addi r0, r3, 1
/* 800A8818 000A5778  7C 7E 1A 14 */	add r3, r30, r3
/* 800A881C 000A577C  90 1E 00 04 */	stw r0, 4(r30)
/* 800A8820 000A5780  3B A0 00 00 */	li r29, 0
/* 800A8824 000A5784  88 03 00 10 */	lbz r0, 0x10(r3)
/* 800A8828 000A5788  98 1F 00 00 */	stb r0, 0(r31)
lbl_800A882C:
/* 800A882C 000A578C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800A8830 000A5790  7F A3 EB 78 */	mr r3, r29
/* 800A8834 000A5794  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800A8838 000A5798  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800A883C 000A579C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800A8840 000A57A0  7C 08 03 A6 */	mtlr r0
/* 800A8844 000A57A4  38 21 00 20 */	addi r1, r1, 0x20
/* 800A8848 000A57A8  4E 80 00 20 */	blr 

.global WriteUART1
WriteUART1:
/* 800A884C 000A57AC  3C A0 80 21 */	lis r5, gWritePos@ha
/* 800A8850 000A57B0  3C 80 80 21 */	lis r4, gWriteBuf@ha
/* 800A8854 000A57B4  38 C5 B5 60 */	addi r6, r5, gWritePos@l
/* 800A8858 000A57B8  80 A6 00 00 */	lwz r5, 0(r6)
/* 800A885C 000A57BC  38 84 C6 7C */	addi r4, r4, gWriteBuf@l
/* 800A8860 000A57C0  38 05 00 01 */	addi r0, r5, 1
/* 800A8864 000A57C4  7C 64 29 AE */	stbx r3, r4, r5
/* 800A8868 000A57C8  38 60 00 00 */	li r3, 0
/* 800A886C 000A57CC  90 06 00 00 */	stw r0, 0(r6)
/* 800A8870 000A57D0  4E 80 00 20 */	blr 

.global WriteUARTFlush
WriteUARTFlush:
/* 800A8874 000A57D4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800A8878 000A57D8  7C 08 02 A6 */	mflr r0
/* 800A887C 000A57DC  3C 60 80 21 */	lis r3, gWritePos@ha
/* 800A8880 000A57E0  3C A0 80 21 */	lis r5, gWriteBuf@ha
/* 800A8884 000A57E4  90 01 00 14 */	stw r0, 0x14(r1)
/* 800A8888 000A57E8  38 83 B5 60 */	addi r4, r3, gWritePos@l
/* 800A888C 000A57EC  38 05 C6 7C */	addi r0, r5, gWriteBuf@l
/* 800A8890 000A57F0  38 60 00 00 */	li r3, 0
/* 800A8894 000A57F4  80 84 00 00 */	lwz r4, 0(r4)
/* 800A8898 000A57F8  38 E0 00 00 */	li r7, 0
/* 800A889C 000A57FC  2C 04 08 00 */	cmpwi r4, 0x800
/* 800A88A0 000A5800  7D 00 22 14 */	add r8, r0, r4
/* 800A88A4 000A5804  20 C4 08 00 */	subfic r6, r4, 0x800
/* 800A88A8 000A5808  40 80 00 58 */	bge lbl_800A8900
/* 800A88AC 000A580C  54 C5 E8 FF */	rlwinm. r5, r6, 0x1d, 3, 0x1f
/* 800A88B0 000A5810  7C C0 33 78 */	mr r0, r6
/* 800A88B4 000A5814  7C A9 03 A6 */	mtctr r5
/* 800A88B8 000A5818  41 82 00 34 */	beq lbl_800A88EC
lbl_800A88BC:
/* 800A88BC 000A581C  98 E8 00 00 */	stb r7, 0(r8)
/* 800A88C0 000A5820  98 E8 00 01 */	stb r7, 1(r8)
/* 800A88C4 000A5824  98 E8 00 02 */	stb r7, 2(r8)
/* 800A88C8 000A5828  98 E8 00 03 */	stb r7, 3(r8)
/* 800A88CC 000A582C  98 E8 00 04 */	stb r7, 4(r8)
/* 800A88D0 000A5830  98 E8 00 05 */	stb r7, 5(r8)
/* 800A88D4 000A5834  98 E8 00 06 */	stb r7, 6(r8)
/* 800A88D8 000A5838  98 E8 00 07 */	stb r7, 7(r8)
/* 800A88DC 000A583C  39 08 00 08 */	addi r8, r8, 8
/* 800A88E0 000A5840  42 00 FF DC */	bdnz lbl_800A88BC
/* 800A88E4 000A5844  70 C6 00 07 */	andi. r6, r6, 7
/* 800A88E8 000A5848  41 82 00 14 */	beq lbl_800A88FC
lbl_800A88EC:
/* 800A88EC 000A584C  7C C9 03 A6 */	mtctr r6
lbl_800A88F0:
/* 800A88F0 000A5850  98 E8 00 00 */	stb r7, 0(r8)
/* 800A88F4 000A5854  39 08 00 01 */	addi r8, r8, 1
/* 800A88F8 000A5858  42 00 FF F8 */	bdnz lbl_800A88F0
lbl_800A88FC:
/* 800A88FC 000A585C  7C 84 02 14 */	add r4, r4, r0
lbl_800A8900:
/* 800A8900 000A5860  3C A0 80 21 */	lis r5, gWritePos@ha
/* 800A8904 000A5864  2C 04 00 00 */	cmpwi r4, 0
/* 800A8908 000A5868  90 85 B5 60 */	stw r4, gWritePos@l(r5)
/* 800A890C 000A586C  41 82 00 38 */	beq lbl_800A8944
/* 800A8910 000A5870  3C 60 80 0E */	lis r3, gDBCommTable@ha
/* 800A8914 000A5874  3C A0 80 21 */	lis r5, gWriteBuf@ha
/* 800A8918 000A5878  38 63 22 58 */	addi r3, r3, gDBCommTable@l
/* 800A891C 000A587C  81 83 00 10 */	lwz r12, 0x10(r3)
/* 800A8920 000A5880  38 65 C6 7C */	addi r3, r5, gWriteBuf@l
/* 800A8924 000A5884  7D 89 03 A6 */	mtctr r12
/* 800A8928 000A5888  4E 80 04 21 */	bctrl 
/* 800A892C 000A588C  7C A3 00 D0 */	neg r5, r3
/* 800A8930 000A5890  3C 80 80 21 */	lis r4, gWritePos@ha
/* 800A8934 000A5894  38 00 00 00 */	li r0, 0
/* 800A8938 000A5898  7C A3 1B 78 */	or r3, r5, r3
/* 800A893C 000A589C  90 04 B5 60 */	stw r0, gWritePos@l(r4)
/* 800A8940 000A58A0  7C 63 FE 70 */	srawi r3, r3, 0x1f
lbl_800A8944:
/* 800A8944 000A58A4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800A8948 000A58A8  7C 08 03 A6 */	mtlr r0
/* 800A894C 000A58AC  38 21 00 10 */	addi r1, r1, 0x10
/* 800A8950 000A58B0  4E 80 00 20 */	blr 

.global EnableEXI2Interrupts
EnableEXI2Interrupts:
/* 800A8954 000A58B4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800A8958 000A58B8  7C 08 02 A6 */	mflr r0
/* 800A895C 000A58BC  3C 60 80 0E */	lis r3, gDBCommTable@ha
/* 800A8960 000A58C0  90 01 00 14 */	stw r0, 0x14(r1)
/* 800A8964 000A58C4  38 63 22 58 */	addi r3, r3, gDBCommTable@l
/* 800A8968 000A58C8  81 83 00 04 */	lwz r12, 4(r3)
/* 800A896C 000A58CC  7D 89 03 A6 */	mtctr r12
/* 800A8970 000A58D0  4E 80 04 21 */	bctrl 
/* 800A8974 000A58D4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800A8978 000A58D8  7C 08 03 A6 */	mtlr r0
/* 800A897C 000A58DC  38 21 00 10 */	addi r1, r1, 0x10
/* 800A8980 000A58E0  4E 80 00 20 */	blr 

.global TRKInitializeIntDrivenUART
TRKInitializeIntDrivenUART:
/* 800A8984 000A58E4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800A8988 000A58E8  7C 08 02 A6 */	mflr r0
/* 800A898C 000A58EC  3C 80 80 0B */	lis r4, TRKEXICallBack@ha
/* 800A8990 000A58F0  3C 60 80 0E */	lis r3, gDBCommTable@ha
/* 800A8994 000A58F4  90 01 00 14 */	stw r0, 0x14(r1)
/* 800A8998 000A58F8  38 84 8A C0 */	addi r4, r4, TRKEXICallBack@l
/* 800A899C 000A58FC  81 83 22 58 */	lwz r12, gDBCommTable@l(r3)
/* 800A89A0 000A5900  7C C3 33 78 */	mr r3, r6
/* 800A89A4 000A5904  7D 89 03 A6 */	mtctr r12
/* 800A89A8 000A5908  4E 80 04 21 */	bctrl 
/* 800A89AC 000A590C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800A89B0 000A5910  38 60 00 00 */	li r3, 0
/* 800A89B4 000A5914  7C 08 03 A6 */	mtlr r0
/* 800A89B8 000A5918  38 21 00 10 */	addi r1, r1, 0x10
/* 800A89BC 000A591C  4E 80 00 20 */	blr 

.global InitMetroTRKCommTable
InitMetroTRKCommTable:
/* 800A89C0 000A5920  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800A89C4 000A5924  7C 08 02 A6 */	mflr r0
/* 800A89C8 000A5928  2C 03 00 01 */	cmpwi r3, 1
/* 800A89CC 000A592C  90 01 00 14 */	stw r0, 0x14(r1)
/* 800A89D0 000A5930  40 82 00 74 */	bne lbl_800A8A44
/* 800A89D4 000A5934  3C 60 80 0B */	lis r3, @148@ha
/* 800A89D8 000A5938  38 63 F8 18 */	addi r3, r3, @148@l
/* 800A89DC 000A593C  4C C6 31 82 */	crclr 6
/* 800A89E0 000A5940  4B FB 1D 71 */	bl OSReport
/* 800A89E4 000A5944  48 00 0D 8D */	bl Hu_IsStub
/* 800A89E8 000A5948  3D 60 80 0B */	lis r11, DBInitComm@ha
/* 800A89EC 000A594C  3D 20 80 0B */	lis r9, DBInitInterrupts@ha
/* 800A89F0 000A5950  39 6B 90 D4 */	addi r11, r11, DBInitComm@l
/* 800A89F4 000A5954  3D 40 80 0E */	lis r10, gDBCommTable@ha
/* 800A89F8 000A5958  3D 00 80 0B */	lis r8, DBQueryData@ha
/* 800A89FC 000A595C  3C E0 80 0B */	lis r7, DBRead@ha
/* 800A8A00 000A5960  3C C0 80 0B */	lis r6, DBWrite@ha
/* 800A8A04 000A5964  3C A0 80 0B */	lis r5, DBOpen@ha
/* 800A8A08 000A5968  3C 80 80 0B */	lis r4, DBClose@ha
/* 800A8A0C 000A596C  95 6A 22 58 */	stwu r11, gDBCommTable@l(r10)
/* 800A8A10 000A5970  39 29 90 80 */	addi r9, r9, DBInitInterrupts@l
/* 800A8A14 000A5974  39 08 8F E4 */	addi r8, r8, DBQueryData@l
/* 800A8A18 000A5978  38 E7 8F 58 */	addi r7, r7, DBRead@l
/* 800A8A1C 000A597C  38 C6 8C F8 */	addi r6, r6, DBWrite@l
/* 800A8A20 000A5980  38 A5 8C F4 */	addi r5, r5, DBOpen@l
/* 800A8A24 000A5984  38 04 8C F0 */	addi r0, r4, DBClose@l
/* 800A8A28 000A5988  91 2A 00 04 */	stw r9, 4(r10)
/* 800A8A2C 000A598C  91 0A 00 08 */	stw r8, 8(r10)
/* 800A8A30 000A5990  90 EA 00 0C */	stw r7, 0xc(r10)
/* 800A8A34 000A5994  90 CA 00 10 */	stw r6, 0x10(r10)
/* 800A8A38 000A5998  90 AA 00 14 */	stw r5, 0x14(r10)
/* 800A8A3C 000A599C  90 0A 00 18 */	stw r0, 0x18(r10)
/* 800A8A40 000A59A0  48 00 00 70 */	b lbl_800A8AB0
lbl_800A8A44:
/* 800A8A44 000A59A4  3C 60 80 0B */	lis r3, @149@ha
/* 800A8A48 000A59A8  38 63 F8 3C */	addi r3, r3, @149@l
/* 800A8A4C 000A59AC  4C C6 31 82 */	crclr 6
/* 800A8A50 000A59B0  4B FB 1D 01 */	bl OSReport
/* 800A8A54 000A59B4  48 00 02 95 */	bl AMC_IsStub
/* 800A8A58 000A59B8  3D 60 80 0B */	lis r11, EXI2_Init@ha
/* 800A8A5C 000A59BC  3D 20 80 0B */	lis r9, EXI2_EnableInterrupts@ha
/* 800A8A60 000A59C0  39 6B 8C C0 */	addi r11, r11, EXI2_Init@l
/* 800A8A64 000A59C4  3D 40 80 0E */	lis r10, gDBCommTable@ha
/* 800A8A68 000A59C8  3D 00 80 0B */	lis r8, EXI2_Poll@ha
/* 800A8A6C 000A59CC  3C E0 80 0B */	lis r7, EXI2_ReadN@ha
/* 800A8A70 000A59D0  3C C0 80 0B */	lis r6, EXI2_WriteN@ha
/* 800A8A74 000A59D4  3C A0 80 0B */	lis r5, EXI2_Reserve@ha
/* 800A8A78 000A59D8  3C 80 80 0B */	lis r4, EXI2_Unreserve@ha
/* 800A8A7C 000A59DC  95 6A 22 58 */	stwu r11, gDBCommTable@l(r10)
/* 800A8A80 000A59E0  39 29 8C C4 */	addi r9, r9, EXI2_EnableInterrupts@l
/* 800A8A84 000A59E4  39 08 8C C8 */	addi r8, r8, EXI2_Poll@l
/* 800A8A88 000A59E8  38 E7 8C D0 */	addi r7, r7, EXI2_ReadN@l
/* 800A8A8C 000A59EC  38 C6 8C D8 */	addi r6, r6, EXI2_WriteN@l
/* 800A8A90 000A59F0  38 A5 8C E0 */	addi r5, r5, EXI2_Reserve@l
/* 800A8A94 000A59F4  38 04 8C E4 */	addi r0, r4, EXI2_Unreserve@l
/* 800A8A98 000A59F8  91 2A 00 04 */	stw r9, 4(r10)
/* 800A8A9C 000A59FC  91 0A 00 08 */	stw r8, 8(r10)
/* 800A8AA0 000A5A00  90 EA 00 0C */	stw r7, 0xc(r10)
/* 800A8AA4 000A5A04  90 CA 00 10 */	stw r6, 0x10(r10)
/* 800A8AA8 000A5A08  90 AA 00 14 */	stw r5, 0x14(r10)
/* 800A8AAC 000A5A0C  90 0A 00 18 */	stw r0, 0x18(r10)
lbl_800A8AB0:
/* 800A8AB0 000A5A10  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800A8AB4 000A5A14  7C 08 03 A6 */	mtlr r0
/* 800A8AB8 000A5A18  38 21 00 10 */	addi r1, r1, 0x10
/* 800A8ABC 000A5A1C  4E 80 00 20 */	blr 

.global TRKEXICallBack
TRKEXICallBack:
/* 800A8AC0 000A5A20  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800A8AC4 000A5A24  7C 08 02 A6 */	mflr r0
/* 800A8AC8 000A5A28  90 01 00 14 */	stw r0, 0x14(r1)
/* 800A8ACC 000A5A2C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800A8AD0 000A5A30  7C 9F 23 78 */	mr r31, r4
/* 800A8AD4 000A5A34  4B FD 52 89 */	bl OSEnableScheduler
/* 800A8AD8 000A5A38  7F E3 FB 78 */	mr r3, r31
/* 800A8ADC 000A5A3C  38 80 05 00 */	li r4, 0x500
/* 800A8AE0 000A5A40  4B FF FB 6D */	bl TRKLoadContext
/* 800A8AE4 000A5A44  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800A8AE8 000A5A48  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800A8AEC 000A5A4C  7C 08 03 A6 */	mtlr r0
/* 800A8AF0 000A5A50  38 21 00 10 */	addi r1, r1, 0x10
/* 800A8AF4 000A5A54  4E 80 00 20 */	blr 
