.include "macros.inc"

.section .text

.org 0x8005E654

.global guRotate
guRotate:
/* 8005E654 0005B5B4  94 21 FF 50 */	stwu r1, -0xb0(r1)
/* 8005E658 0005B5B8  7C 08 02 A6 */	mflr r0
/* 8005E65C 0005B5BC  90 01 00 B4 */	stw r0, 0xb4(r1)
/* 8005E660 0005B5C0  DB E1 00 A0 */	stfd f31, 0xa0(r1)
/* 8005E664 0005B5C4  F3 E1 00 A8 */	psq_st f31, 168(r1), 0, qr0
/* 8005E668 0005B5C8  DB C1 00 90 */	stfd f30, 0x90(r1)
/* 8005E66C 0005B5CC  F3 C1 00 98 */	psq_st f30, 152(r1), 0, qr0
/* 8005E670 0005B5D0  DB A1 00 80 */	stfd f29, 0x80(r1)
/* 8005E674 0005B5D4  F3 A1 00 88 */	psq_st f29, 136(r1), 0, qr0
/* 8005E678 0005B5D8  DB 81 00 70 */	stfd f28, 0x70(r1)
/* 8005E67C 0005B5DC  F3 81 00 78 */	psq_st f28, 120(r1), 0, qr0
/* 8005E680 0005B5E0  DB 61 00 60 */	stfd f27, 0x60(r1)
/* 8005E684 0005B5E4  F3 61 00 68 */	psq_st f27, 104(r1), 0, qr0
/* 8005E688 0005B5E8  93 E1 00 5C */	stw r31, 0x5c(r1)
/* 8005E68C 0005B5EC  FF 60 08 90 */	fmr f27, f1
/* 8005E690 0005B5F0  7C 7F 1B 78 */	mr r31, r3
/* 8005E694 0005B5F4  D0 81 00 08 */	stfs f4, 8(r1)
/* 8005E698 0005B5F8  38 61 00 10 */	addi r3, r1, 0x10
/* 8005E69C 0005B5FC  38 81 00 0C */	addi r4, r1, 0xc
/* 8005E6A0 0005B600  38 A1 00 08 */	addi r5, r1, 8
/* 8005E6A4 0005B604  D0 61 00 0C */	stfs f3, 0xc(r1)
/* 8005E6A8 0005B608  D0 41 00 10 */	stfs f2, 0x10(r1)
/* 8005E6AC 0005B60C  4B FF FA B1 */	bl guNormalize
/* 8005E6B0 0005B610  C0 0D 82 70 */	lfs f0, dtor$258-_SDA_BASE_(r13)
/* 8005E6B4 0005B614  EF BB 00 32 */	fmuls f29, f27, f0
/* 8005E6B8 0005B618  FC 20 E8 90 */	fmr f1, f29
/* 8005E6BC 0005B61C  48 04 38 21 */	bl sin
/* 8005E6C0 0005B620  FF 80 08 18 */	frsp f28, f1
/* 8005E6C4 0005B624  FC 20 E8 90 */	fmr f1, f29
/* 8005E6C8 0005B628  48 04 32 AD */	bl cos
/* 8005E6CC 0005B62C  FF 60 08 18 */	frsp f27, f1
/* 8005E6D0 0005B630  C0 02 86 20 */	lfs f0, @271-_SDA2_BASE_(r2)
/* 8005E6D4 0005B634  C0 81 00 10 */	lfs f4, 0x10(r1)
/* 8005E6D8 0005B638  38 61 00 14 */	addi r3, r1, 0x14
/* 8005E6DC 0005B63C  C0 21 00 0C */	lfs f1, 0xc(r1)
/* 8005E6E0 0005B640  C0 A1 00 08 */	lfs f5, 8(r1)
/* 8005E6E4 0005B644  EC 60 D8 28 */	fsubs f3, f0, f27
/* 8005E6E8 0005B648  EC 44 00 72 */	fmuls f2, f4, f1
/* 8005E6EC 0005B64C  EC 21 01 72 */	fmuls f1, f1, f5
/* 8005E6F0 0005B650  EC 05 01 32 */	fmuls f0, f5, f4
/* 8005E6F4 0005B654  EF E3 00 B2 */	fmuls f31, f3, f2
/* 8005E6F8 0005B658  EF A3 00 72 */	fmuls f29, f3, f1
/* 8005E6FC 0005B65C  EF C3 00 32 */	fmuls f30, f3, f0
/* 8005E700 0005B660  4B FF F8 A5 */	bl guMtxIdentF
/* 8005E704 0005B664  C0 61 00 10 */	lfs f3, 0x10(r1)
/* 8005E708 0005B668  7F E4 FB 78 */	mr r4, r31
/* 8005E70C 0005B66C  C0 A1 00 0C */	lfs f5, 0xc(r1)
/* 8005E710 0005B670  38 61 00 14 */	addi r3, r1, 0x14
/* 8005E714 0005B674  C0 C1 00 08 */	lfs f6, 8(r1)
/* 8005E718 0005B678  ED 63 00 F2 */	fmuls f11, f3, f3
/* 8005E71C 0005B67C  C0 02 86 20 */	lfs f0, @271-_SDA2_BASE_(r2)
/* 8005E720 0005B680  ED 45 01 72 */	fmuls f10, f5, f5
/* 8005E724 0005B684  ED 26 01 B2 */	fmuls f9, f6, f6
/* 8005E728 0005B688  EC 40 58 28 */	fsubs f2, f0, f11
/* 8005E72C 0005B68C  EC 20 50 28 */	fsubs f1, f0, f10
/* 8005E730 0005B690  EC 00 48 28 */	fsubs f0, f0, f9
/* 8005E734 0005B694  EC 83 07 32 */	fmuls f4, f3, f28
/* 8005E738 0005B698  EC E5 07 32 */	fmuls f7, f5, f28
/* 8005E73C 0005B69C  ED 06 07 32 */	fmuls f8, f6, f28
/* 8005E740 0005B6A0  EC 5B 00 B2 */	fmuls f2, f27, f2
/* 8005E744 0005B6A4  EC 3B 00 72 */	fmuls f1, f27, f1
/* 8005E748 0005B6A8  EC 1B 00 32 */	fmuls f0, f27, f0
/* 8005E74C 0005B6AC  EC 6B 10 2A */	fadds f3, f11, f2
/* 8005E750 0005B6B0  EC 5D 20 28 */	fsubs f2, f29, f4
/* 8005E754 0005B6B4  EC DD 20 2A */	fadds f6, f29, f4
/* 8005E758 0005B6B8  EC AA 08 2A */	fadds f5, f10, f1
/* 8005E75C 0005B6BC  D0 61 00 14 */	stfs f3, 0x14(r1)
/* 8005E760 0005B6C0  EC 9E 38 2A */	fadds f4, f30, f7
/* 8005E764 0005B6C4  EC 7E 38 28 */	fsubs f3, f30, f7
/* 8005E768 0005B6C8  D0 41 00 38 */	stfs f2, 0x38(r1)
/* 8005E76C 0005B6CC  EC 49 00 2A */	fadds f2, f9, f0
/* 8005E770 0005B6D0  EC 3F 40 28 */	fsubs f1, f31, f8
/* 8005E774 0005B6D4  D0 C1 00 2C */	stfs f6, 0x2c(r1)
/* 8005E778 0005B6D8  EC 1F 40 2A */	fadds f0, f31, f8
/* 8005E77C 0005B6DC  D0 A1 00 28 */	stfs f5, 0x28(r1)
/* 8005E780 0005B6E0  D0 81 00 34 */	stfs f4, 0x34(r1)
/* 8005E784 0005B6E4  D0 61 00 1C */	stfs f3, 0x1c(r1)
/* 8005E788 0005B6E8  D0 41 00 3C */	stfs f2, 0x3c(r1)
/* 8005E78C 0005B6EC  D0 21 00 24 */	stfs f1, 0x24(r1)
/* 8005E790 0005B6F0  D0 01 00 18 */	stfs f0, 0x18(r1)
/* 8005E794 0005B6F4  4B FF F7 65 */	bl guMtxF2L
/* 8005E798 0005B6F8  E3 E1 00 A8 */	psq_l f31, 168(r1), 0, qr0
/* 8005E79C 0005B6FC  CB E1 00 A0 */	lfd f31, 0xa0(r1)
/* 8005E7A0 0005B700  E3 C1 00 98 */	psq_l f30, 152(r1), 0, qr0
/* 8005E7A4 0005B704  CB C1 00 90 */	lfd f30, 0x90(r1)
/* 8005E7A8 0005B708  E3 A1 00 88 */	psq_l f29, 136(r1), 0, qr0
/* 8005E7AC 0005B70C  CB A1 00 80 */	lfd f29, 0x80(r1)
/* 8005E7B0 0005B710  E3 81 00 78 */	psq_l f28, 120(r1), 0, qr0
/* 8005E7B4 0005B714  CB 81 00 70 */	lfd f28, 0x70(r1)
/* 8005E7B8 0005B718  E3 61 00 68 */	psq_l f27, 104(r1), 0, qr0
/* 8005E7BC 0005B71C  CB 61 00 60 */	lfd f27, 0x60(r1)
/* 8005E7C0 0005B720  80 01 00 B4 */	lwz r0, 0xb4(r1)
/* 8005E7C4 0005B724  83 E1 00 5C */	lwz r31, 0x5c(r1)
/* 8005E7C8 0005B728  7C 08 03 A6 */	mtlr r0
/* 8005E7CC 0005B72C  38 21 00 B0 */	addi r1, r1, 0xb0
/* 8005E7D0 0005B730  4E 80 00 20 */	blr 
