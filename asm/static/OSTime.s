.include "macros.inc"

.section .text

.org 0x8007F6F8

.global OSGetTime
OSGetTime:
/* 8007F6F8 0007C658  7C 6D 42 E6 */	mftbu r3
/* 8007F6FC 0007C65C  7C 8C 42 E6 */	mftb r4, 0x10c
/* 8007F700 0007C660  7C AD 42 E6 */	mftbu r5
/* 8007F704 0007C664  7C 03 28 00 */	cmpw r3, r5
/* 8007F708 0007C668  40 82 FF F0 */	bne OSGetTime
/* 8007F70C 0007C66C  4E 80 00 20 */	blr 

.global OSGetTick
OSGetTick:
/* 8007F710 0007C670  7C 6C 42 E6 */	mftb r3, 0x10c
/* 8007F714 0007C674  4E 80 00 20 */	blr 

.global __OSGetSystemTime
__OSGetSystemTime:
/* 8007F718 0007C678  7C 08 02 A6 */	mflr r0
/* 8007F71C 0007C67C  90 01 00 04 */	stw r0, 4(r1)
/* 8007F720 0007C680  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8007F724 0007C684  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8007F728 0007C688  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8007F72C 0007C68C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8007F730 0007C690  4B FF B4 F5 */	bl OSDisableInterrupts
/* 8007F734 0007C694  7C 7F 1B 78 */	mr r31, r3
/* 8007F738 0007C698  4B FF FF C1 */	bl OSGetTime
/* 8007F73C 0007C69C  3C C0 80 00 */	lis r6, 0x800030DC@ha
/* 8007F740 0007C6A0  80 A6 30 DC */	lwz r5, 0x800030DC@l(r6)
/* 8007F744 0007C6A4  80 06 30 D8 */	lwz r0, 0x30d8(r6)
/* 8007F748 0007C6A8  7F A5 20 14 */	addc r29, r5, r4
/* 8007F74C 0007C6AC  7F C0 19 14 */	adde r30, r0, r3
/* 8007F750 0007C6B0  7F E3 FB 78 */	mr r3, r31
/* 8007F754 0007C6B4  4B FF B4 F9 */	bl OSRestoreInterrupts
/* 8007F758 0007C6B8  7F A4 EB 78 */	mr r4, r29
/* 8007F75C 0007C6BC  7F C3 F3 78 */	mr r3, r30
/* 8007F760 0007C6C0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8007F764 0007C6C4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8007F768 0007C6C8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8007F76C 0007C6CC  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8007F770 0007C6D0  38 21 00 20 */	addi r1, r1, 0x20
/* 8007F774 0007C6D4  7C 08 03 A6 */	mtlr r0
/* 8007F778 0007C6D8  4E 80 00 20 */	blr 

.global GetDates
GetDates:
/* 8007F77C 0007C6DC  3C A0 92 49 */	lis r5, 0x92492493@ha
/* 8007F780 0007C6E0  38 05 24 93 */	addi r0, r5, 0x92492493@l
/* 8007F784 0007C6E4  38 E3 00 06 */	addi r7, r3, 6
/* 8007F788 0007C6E8  7C C0 38 96 */	mulhw r6, r0, r7
/* 8007F78C 0007C6EC  3C A0 B3 8D */	lis r5, 0xB38CF9B1@ha
/* 8007F790 0007C6F0  38 05 F9 B1 */	addi r0, r5, 0xB38CF9B1@l
/* 8007F794 0007C6F4  7C 00 18 96 */	mulhw r0, r0, r3
/* 8007F798 0007C6F8  7C A6 3A 14 */	add r5, r6, r7
/* 8007F79C 0007C6FC  7C A5 16 70 */	srawi r5, r5, 2
/* 8007F7A0 0007C700  54 A6 0F FE */	srwi r6, r5, 0x1f
/* 8007F7A4 0007C704  7C A5 32 14 */	add r5, r5, r6
/* 8007F7A8 0007C708  7C 00 1A 14 */	add r0, r0, r3
/* 8007F7AC 0007C70C  1C C5 00 07 */	mulli r6, r5, 7
/* 8007F7B0 0007C710  7C 00 46 70 */	srawi r0, r0, 8
/* 8007F7B4 0007C714  54 05 0F FE */	srwi r5, r0, 0x1f
/* 8007F7B8 0007C718  7C A0 2A 14 */	add r5, r0, r5
/* 8007F7BC 0007C71C  7C 06 38 50 */	subf r0, r6, r7
/* 8007F7C0 0007C720  1D 65 01 6D */	mulli r11, r5, 0x16d
/* 8007F7C4 0007C724  90 04 00 18 */	stw r0, 0x18(r4)
/* 8007F7C8 0007C728  48 00 00 04 */	b lbl_8007F7CC
lbl_8007F7CC:
/* 8007F7CC 0007C72C  3C C0 51 EC */	lis r6, 0x51EB851F@ha
/* 8007F7D0 0007C730  39 46 85 1F */	addi r10, r6, 0x51EB851F@l
/* 8007F7D4 0007C734  48 00 00 04 */	b lbl_8007F7D8
lbl_8007F7D8:
/* 8007F7D8 0007C738  48 00 00 0C */	b lbl_8007F7E4
lbl_8007F7DC:
/* 8007F7DC 0007C73C  39 6B FE 93 */	addi r11, r11, -365
/* 8007F7E0 0007C740  38 A5 FF FF */	addi r5, r5, -1
lbl_8007F7E4:
/* 8007F7E4 0007C744  2C 05 00 01 */	cmpwi r5, 1
/* 8007F7E8 0007C748  40 80 00 0C */	bge lbl_8007F7F4
/* 8007F7EC 0007C74C  38 00 00 00 */	li r0, 0
/* 8007F7F0 0007C750  48 00 00 38 */	b lbl_8007F828
lbl_8007F7F4:
/* 8007F7F4 0007C754  38 05 FF FF */	addi r0, r5, -1
/* 8007F7F8 0007C758  7C 0A 00 96 */	mulhw r0, r10, r0
/* 8007F7FC 0007C75C  7C 08 3E 70 */	srawi r8, r0, 7
/* 8007F800 0007C760  7C 06 2E 70 */	srawi r6, r0, 5
/* 8007F804 0007C764  38 05 00 03 */	addi r0, r5, 3
/* 8007F808 0007C768  54 C7 0F FE */	srwi r7, r6, 0x1f
/* 8007F80C 0007C76C  7C 00 16 70 */	srawi r0, r0, 2
/* 8007F810 0007C770  55 09 0F FE */	srwi r9, r8, 0x1f
/* 8007F814 0007C774  7C C6 3A 14 */	add r6, r6, r7
/* 8007F818 0007C778  7C 00 01 94 */	addze r0, r0
/* 8007F81C 0007C77C  7C E8 4A 14 */	add r7, r8, r9
/* 8007F820 0007C780  7C 06 00 50 */	subf r0, r6, r0
/* 8007F824 0007C784  7C 07 02 14 */	add r0, r7, r0
lbl_8007F828:
/* 8007F828 0007C788  7C 0B 02 14 */	add r0, r11, r0
/* 8007F82C 0007C78C  7C 03 00 00 */	cmpw r3, r0
/* 8007F830 0007C790  41 80 FF AC */	blt lbl_8007F7DC
/* 8007F834 0007C794  7C A6 16 70 */	srawi r6, r5, 2
/* 8007F838 0007C798  90 A4 00 14 */	stw r5, 0x14(r4)
/* 8007F83C 0007C79C  7C C6 01 94 */	addze r6, r6
/* 8007F840 0007C7A0  54 C6 10 3A */	slwi r6, r6, 2
/* 8007F844 0007C7A4  7C C6 28 10 */	subfc r6, r6, r5
/* 8007F848 0007C7A8  7C 00 18 50 */	subf r0, r0, r3
/* 8007F84C 0007C7AC  2C 06 00 00 */	cmpwi r6, 0
/* 8007F850 0007C7B0  90 04 00 1C */	stw r0, 0x1c(r4)
/* 8007F854 0007C7B4  38 E0 00 01 */	li r7, 1
/* 8007F858 0007C7B8  39 00 00 00 */	li r8, 0
/* 8007F85C 0007C7BC  40 82 00 30 */	bne lbl_8007F88C
/* 8007F860 0007C7C0  3C 60 51 EC */	lis r3, 0x51EB851F@ha
/* 8007F864 0007C7C4  38 63 85 1F */	addi r3, r3, 0x51EB851F@l
/* 8007F868 0007C7C8  7C 63 28 96 */	mulhw r3, r3, r5
/* 8007F86C 0007C7CC  7C 63 2E 70 */	srawi r3, r3, 5
/* 8007F870 0007C7D0  54 66 0F FE */	srwi r6, r3, 0x1f
/* 8007F874 0007C7D4  7C 63 32 14 */	add r3, r3, r6
/* 8007F878 0007C7D8  1C 63 00 64 */	mulli r3, r3, 0x64
/* 8007F87C 0007C7DC  7C 63 28 50 */	subf r3, r3, r5
/* 8007F880 0007C7E0  2C 03 00 00 */	cmpwi r3, 0
/* 8007F884 0007C7E4  41 82 00 08 */	beq lbl_8007F88C
/* 8007F888 0007C7E8  7C E8 3B 78 */	mr r8, r7
lbl_8007F88C:
/* 8007F88C 0007C7EC  2C 08 00 00 */	cmpwi r8, 0
/* 8007F890 0007C7F0  40 82 00 30 */	bne lbl_8007F8C0
/* 8007F894 0007C7F4  3C 60 51 EC */	lis r3, 0x51EB851F@ha
/* 8007F898 0007C7F8  38 63 85 1F */	addi r3, r3, 0x51EB851F@l
/* 8007F89C 0007C7FC  7C 63 28 96 */	mulhw r3, r3, r5
/* 8007F8A0 0007C800  7C 63 3E 70 */	srawi r3, r3, 7
/* 8007F8A4 0007C804  54 66 0F FE */	srwi r6, r3, 0x1f
/* 8007F8A8 0007C808  7C 63 32 14 */	add r3, r3, r6
/* 8007F8AC 0007C80C  1C 63 01 90 */	mulli r3, r3, 0x190
/* 8007F8B0 0007C810  7C 63 28 50 */	subf r3, r3, r5
/* 8007F8B4 0007C814  2C 03 00 00 */	cmpwi r3, 0
/* 8007F8B8 0007C818  41 82 00 08 */	beq lbl_8007F8C0
/* 8007F8BC 0007C81C  38 E0 00 00 */	li r7, 0
lbl_8007F8C0:
/* 8007F8C0 0007C820  2C 07 00 00 */	cmpwi r7, 0
/* 8007F8C4 0007C824  41 82 00 10 */	beq lbl_8007F8D4
/* 8007F8C8 0007C828  3C 60 80 0E */	lis r3, LeapYearDays@ha
/* 8007F8CC 0007C82C  38 C3 09 F8 */	addi r6, r3, LeapYearDays@l
/* 8007F8D0 0007C830  48 00 00 0C */	b lbl_8007F8DC
lbl_8007F8D4:
/* 8007F8D4 0007C834  3C 60 80 0E */	lis r3, YearDays@ha
/* 8007F8D8 0007C838  38 C3 09 C8 */	addi r6, r3, YearDays@l
lbl_8007F8DC:
/* 8007F8DC 0007C83C  38 E0 00 0C */	li r7, 0xc
/* 8007F8E0 0007C840  38 60 00 30 */	li r3, 0x30
/* 8007F8E4 0007C844  48 00 00 04 */	b lbl_8007F8E8
lbl_8007F8E8:
/* 8007F8E8 0007C848  48 00 00 04 */	b lbl_8007F8EC
lbl_8007F8EC:
/* 8007F8EC 0007C84C  38 63 FF FC */	addi r3, r3, -4
/* 8007F8F0 0007C850  7C A6 18 2E */	lwzx r5, r6, r3
/* 8007F8F4 0007C854  38 E7 FF FF */	addi r7, r7, -1
/* 8007F8F8 0007C858  7C 00 28 00 */	cmpw r0, r5
/* 8007F8FC 0007C85C  41 80 FF F0 */	blt lbl_8007F8EC
/* 8007F900 0007C860  90 E4 00 10 */	stw r7, 0x10(r4)
/* 8007F904 0007C864  7C 66 18 2E */	lwzx r3, r6, r3
/* 8007F908 0007C868  7C 63 00 50 */	subf r3, r3, r0
/* 8007F90C 0007C86C  38 03 00 01 */	addi r0, r3, 1
/* 8007F910 0007C870  90 04 00 0C */	stw r0, 0xc(r4)
/* 8007F914 0007C874  4E 80 00 20 */	blr 

.global OSTicksToCalendarTime
OSTicksToCalendarTime:
/* 8007F918 0007C878  7C 08 02 A6 */	mflr r0
/* 8007F91C 0007C87C  90 01 00 04 */	stw r0, 4(r1)
/* 8007F920 0007C880  94 21 FF C8 */	stwu r1, -0x38(r1)
/* 8007F924 0007C884  BF 21 00 1C */	stmw r25, 0x1c(r1)
/* 8007F928 0007C888  7C 7D 1B 78 */	mr r29, r3
/* 8007F92C 0007C88C  7C 9E 23 78 */	mr r30, r4
/* 8007F930 0007C890  7C BF 2B 78 */	mr r31, r5
/* 8007F934 0007C894  3F 60 80 00 */	lis r27, 0x800000F8@ha
/* 8007F938 0007C898  80 1B 00 F8 */	lwz r0, 0x800000F8@l(r27)
/* 8007F93C 0007C89C  7F A3 EB 78 */	mr r3, r29
/* 8007F940 0007C8A0  7F C4 F3 78 */	mr r4, r30
/* 8007F944 0007C8A4  54 06 F0 BE */	srwi r6, r0, 2
/* 8007F948 0007C8A8  38 A0 00 00 */	li r5, 0
/* 8007F94C 0007C8AC  48 01 B8 ED */	bl __mod2i
/* 8007F950 0007C8B0  7C 7A 1B 78 */	mr r26, r3
/* 8007F954 0007C8B4  38 A0 00 00 */	li r5, 0
/* 8007F958 0007C8B8  7C 99 23 78 */	mr r25, r4
/* 8007F95C 0007C8BC  6F 44 80 00 */	xoris r4, r26, 0x8000
/* 8007F960 0007C8C0  6C A3 80 00 */	xoris r3, r5, 0x8000
/* 8007F964 0007C8C4  7C 05 C8 10 */	subfc r0, r5, r25
/* 8007F968 0007C8C8  7C 63 21 10 */	subfe r3, r3, r4
/* 8007F96C 0007C8CC  7C 64 21 10 */	subfe r3, r4, r4
/* 8007F970 0007C8D0  7C 63 00 D0 */	neg r3, r3
/* 8007F974 0007C8D4  2C 03 00 00 */	cmpwi r3, 0
/* 8007F978 0007C8D8  41 82 00 14 */	beq lbl_8007F98C
/* 8007F97C 0007C8DC  80 1B 00 F8 */	lwz r0, 0xf8(r27)
/* 8007F980 0007C8E0  54 00 F0 BE */	srwi r0, r0, 2
/* 8007F984 0007C8E4  7F 39 00 14 */	addc r25, r25, r0
/* 8007F988 0007C8E8  7F 5A 29 14 */	adde r26, r26, r5
lbl_8007F98C:
/* 8007F98C 0007C8EC  38 80 00 08 */	li r4, 8
/* 8007F990 0007C8F0  7C 7A 21 D6 */	mullw r3, r26, r4
/* 8007F994 0007C8F4  7C 19 20 16 */	mulhwu r0, r25, r4
/* 8007F998 0007C8F8  3F 60 80 00 */	lis r27, 0x800000F8@ha
/* 8007F99C 0007C8FC  80 DB 00 F8 */	lwz r6, 0x800000F8@l(r27)
/* 8007F9A0 0007C900  3C A0 43 1C */	lis r5, 0x431BDE83@ha
/* 8007F9A4 0007C904  38 A5 DE 83 */	addi r5, r5, 0x431BDE83@l
/* 8007F9A8 0007C908  54 C6 F0 BE */	srwi r6, r6, 2
/* 8007F9AC 0007C90C  7C A5 30 16 */	mulhwu r5, r5, r6
/* 8007F9B0 0007C910  54 A6 8B FE */	srwi r6, r5, 0xf
/* 8007F9B4 0007C914  3B 80 00 00 */	li r28, 0
/* 8007F9B8 0007C918  7C 63 02 14 */	add r3, r3, r0
/* 8007F9BC 0007C91C  7C 19 E1 D6 */	mullw r0, r25, r28
/* 8007F9C0 0007C920  7C 99 21 D6 */	mullw r4, r25, r4
/* 8007F9C4 0007C924  7C 63 02 14 */	add r3, r3, r0
/* 8007F9C8 0007C928  38 A0 00 00 */	li r5, 0
/* 8007F9CC 0007C92C  48 01 B6 51 */	bl __div2i
/* 8007F9D0 0007C930  38 A0 00 00 */	li r5, 0
/* 8007F9D4 0007C934  38 C0 03 E8 */	li r6, 0x3e8
/* 8007F9D8 0007C938  48 01 B8 61 */	bl __mod2i
/* 8007F9DC 0007C93C  90 9F 00 24 */	stw r4, 0x24(r31)
/* 8007F9E0 0007C940  3C 60 10 62 */	lis r3, 0x10624DD3@ha
/* 8007F9E4 0007C944  38 A3 4D D3 */	addi r5, r3, 0x10624DD3@l
/* 8007F9E8 0007C948  80 1B 00 F8 */	lwz r0, 0xf8(r27)
/* 8007F9EC 0007C94C  7F 43 D3 78 */	mr r3, r26
/* 8007F9F0 0007C950  7F 24 CB 78 */	mr r4, r25
/* 8007F9F4 0007C954  54 00 F0 BE */	srwi r0, r0, 2
/* 8007F9F8 0007C958  7C 05 00 16 */	mulhwu r0, r5, r0
/* 8007F9FC 0007C95C  54 06 D1 BE */	srwi r6, r0, 6
/* 8007FA00 0007C960  38 A0 00 00 */	li r5, 0
/* 8007FA04 0007C964  48 01 B6 19 */	bl __div2i
/* 8007FA08 0007C968  38 A0 00 00 */	li r5, 0
/* 8007FA0C 0007C96C  38 C0 03 E8 */	li r6, 0x3e8
/* 8007FA10 0007C970  48 01 B8 29 */	bl __mod2i
/* 8007FA14 0007C974  90 9F 00 20 */	stw r4, 0x20(r31)
/* 8007FA18 0007C978  7F D9 F0 10 */	subfc r30, r25, r30
/* 8007FA1C 0007C97C  7F BA E9 10 */	subfe r29, r26, r29
/* 8007FA20 0007C980  80 1B 00 F8 */	lwz r0, 0xf8(r27)
/* 8007FA24 0007C984  3C A0 00 01 */	lis r5, 0x00015180@ha
/* 8007FA28 0007C988  3B 25 51 80 */	addi r25, r5, 0x00015180@l
/* 8007FA2C 0007C98C  7F A3 EB 78 */	mr r3, r29
/* 8007FA30 0007C990  54 06 F0 BE */	srwi r6, r0, 2
/* 8007FA34 0007C994  7F C4 F3 78 */	mr r4, r30
/* 8007FA38 0007C998  38 A0 00 00 */	li r5, 0
/* 8007FA3C 0007C99C  48 01 B5 E1 */	bl __div2i
/* 8007FA40 0007C9A0  7F 26 CB 78 */	mr r6, r25
/* 8007FA44 0007C9A4  38 A0 00 00 */	li r5, 0
/* 8007FA48 0007C9A8  48 01 B5 D5 */	bl __div2i
/* 8007FA4C 0007C9AC  3C A0 00 0B */	lis r5, 0x000B2575@ha
/* 8007FA50 0007C9B0  80 1B 00 F8 */	lwz r0, 0xf8(r27)
/* 8007FA54 0007C9B4  38 A5 25 75 */	addi r5, r5, 0x000B2575@l
/* 8007FA58 0007C9B8  7F 44 28 14 */	addc r26, r4, r5
/* 8007FA5C 0007C9BC  54 06 F0 BE */	srwi r6, r0, 2
/* 8007FA60 0007C9C0  7C 03 E1 14 */	adde r0, r3, r28
/* 8007FA64 0007C9C4  7F A3 EB 78 */	mr r3, r29
/* 8007FA68 0007C9C8  7F C4 F3 78 */	mr r4, r30
/* 8007FA6C 0007C9CC  38 A0 00 00 */	li r5, 0
/* 8007FA70 0007C9D0  48 01 B5 AD */	bl __div2i
/* 8007FA74 0007C9D4  7F 26 CB 78 */	mr r6, r25
/* 8007FA78 0007C9D8  38 A0 00 00 */	li r5, 0
/* 8007FA7C 0007C9DC  48 01 B7 BD */	bl __mod2i
/* 8007FA80 0007C9E0  7C 9B 23 78 */	mr r27, r4
/* 8007FA84 0007C9E4  2C 1B 00 00 */	cmpwi r27, 0
/* 8007FA88 0007C9E8  40 80 00 10 */	bge lbl_8007FA98
/* 8007FA8C 0007C9EC  3F 7B 00 01 */	addis r27, r27, 1
/* 8007FA90 0007C9F0  3B 5A FF FF */	addi r26, r26, -1
/* 8007FA94 0007C9F4  3B 7B 51 80 */	addi r27, r27, 0x5180
lbl_8007FA98:
/* 8007FA98 0007C9F8  7F 43 D3 78 */	mr r3, r26
/* 8007FA9C 0007C9FC  7F E4 FB 78 */	mr r4, r31
/* 8007FAA0 0007CA00  4B FF FC DD */	bl GetDates
/* 8007FAA4 0007CA04  3C 60 88 89 */	lis r3, 0x88888889@ha
/* 8007FAA8 0007CA08  38 A3 88 89 */	addi r5, r3, 0x88888889@l
/* 8007FAAC 0007CA0C  7C 05 D8 96 */	mulhw r0, r5, r27
/* 8007FAB0 0007CA10  7C 80 DA 14 */	add r4, r0, r27
/* 8007FAB4 0007CA14  7C 80 2E 70 */	srawi r0, r4, 5
/* 8007FAB8 0007CA18  54 03 0F FE */	srwi r3, r0, 0x1f
/* 8007FABC 0007CA1C  7C E0 1A 14 */	add r7, r0, r3
/* 8007FAC0 0007CA20  7C 05 38 96 */	mulhw r0, r5, r7
/* 8007FAC4 0007CA24  7C 00 3A 14 */	add r0, r0, r7
/* 8007FAC8 0007CA28  7C 05 2E 70 */	srawi r5, r0, 5
/* 8007FACC 0007CA2C  7C 00 2E 70 */	srawi r0, r0, 5
/* 8007FAD0 0007CA30  54 03 0F FE */	srwi r3, r0, 0x1f
/* 8007FAD4 0007CA34  7C 60 1A 14 */	add r3, r0, r3
/* 8007FAD8 0007CA38  7C 80 2E 70 */	srawi r0, r4, 5
/* 8007FADC 0007CA3C  54 A6 0F FE */	srwi r6, r5, 0x1f
/* 8007FAE0 0007CA40  1C 83 00 3C */	mulli r4, r3, 0x3c
/* 8007FAE4 0007CA44  54 03 0F FE */	srwi r3, r0, 0x1f
/* 8007FAE8 0007CA48  7C A5 32 14 */	add r5, r5, r6
/* 8007FAEC 0007CA4C  7C 00 1A 14 */	add r0, r0, r3
/* 8007FAF0 0007CA50  90 BF 00 08 */	stw r5, 8(r31)
/* 8007FAF4 0007CA54  1C 00 00 3C */	mulli r0, r0, 0x3c
/* 8007FAF8 0007CA58  7C 64 38 50 */	subf r3, r4, r7
/* 8007FAFC 0007CA5C  90 7F 00 04 */	stw r3, 4(r31)
/* 8007FB00 0007CA60  7C 00 D8 50 */	subf r0, r0, r27
/* 8007FB04 0007CA64  90 1F 00 00 */	stw r0, 0(r31)
/* 8007FB08 0007CA68  BB 21 00 1C */	lmw r25, 0x1c(r1)
/* 8007FB0C 0007CA6C  80 01 00 3C */	lwz r0, 0x3c(r1)
/* 8007FB10 0007CA70  38 21 00 38 */	addi r1, r1, 0x38
/* 8007FB14 0007CA74  7C 08 03 A6 */	mtlr r0
/* 8007FB18 0007CA78  4E 80 00 20 */	blr 

.global OSCalendarTimeToTicks
OSCalendarTimeToTicks:
/* 8007FB1C 0007CA7C  7C 08 02 A6 */	mflr r0
/* 8007FB20 0007CA80  90 01 00 04 */	stw r0, 4(r1)
/* 8007FB24 0007CA84  94 21 FF A0 */	stwu r1, -0x60(r1)
/* 8007FB28 0007CA88  BE 41 00 28 */	stmw r18, 0x28(r1)
/* 8007FB2C 0007CA8C  7C 76 1B 78 */	mr r22, r3
/* 8007FB30 0007CA90  3C 60 2A AB */	lis r3, 0x2AAAAAAB@ha
/* 8007FB34 0007CA94  80 96 00 10 */	lwz r4, 0x10(r22)
/* 8007FB38 0007CA98  38 03 AA AB */	addi r0, r3, 0x2AAAAAAB@l
/* 8007FB3C 0007CA9C  7C 00 20 96 */	mulhw r0, r0, r4
/* 8007FB40 0007CAA0  7C 00 0E 70 */	srawi r0, r0, 1
/* 8007FB44 0007CAA4  54 03 0F FE */	srwi r3, r0, 0x1f
/* 8007FB48 0007CAA8  7C 60 1A 14 */	add r3, r0, r3
/* 8007FB4C 0007CAAC  1C 03 00 0C */	mulli r0, r3, 0xc
/* 8007FB50 0007CAB0  7C 00 20 50 */	subf r0, r0, r4
/* 8007FB54 0007CAB4  2C 00 00 00 */	cmpwi r0, 0
/* 8007FB58 0007CAB8  7C 1A 03 78 */	mr r26, r0
/* 8007FB5C 0007CABC  40 80 00 0C */	bge lbl_8007FB68
/* 8007FB60 0007CAC0  3B 5A 00 0C */	addi r26, r26, 0xc
/* 8007FB64 0007CAC4  38 63 FF FF */	addi r3, r3, -1
lbl_8007FB68:
/* 8007FB68 0007CAC8  80 16 00 14 */	lwz r0, 0x14(r22)
/* 8007FB6C 0007CACC  7F C0 1A 14 */	add r30, r0, r3
/* 8007FB70 0007CAD0  2C 1E 00 01 */	cmpwi r30, 1
/* 8007FB74 0007CAD4  40 80 00 0C */	bge lbl_8007FB80
/* 8007FB78 0007CAD8  3B 00 00 00 */	li r24, 0
/* 8007FB7C 0007CADC  48 00 00 40 */	b lbl_8007FBBC
lbl_8007FB80:
/* 8007FB80 0007CAE0  3C 60 51 EC */	lis r3, 0x51EB851F@ha
/* 8007FB84 0007CAE4  38 1E FF FF */	addi r0, r30, -1
/* 8007FB88 0007CAE8  38 63 85 1F */	addi r3, r3, 0x51EB851F@l
/* 8007FB8C 0007CAEC  7C 03 00 96 */	mulhw r0, r3, r0
/* 8007FB90 0007CAF0  7C 05 3E 70 */	srawi r5, r0, 7
/* 8007FB94 0007CAF4  7C 03 2E 70 */	srawi r3, r0, 5
/* 8007FB98 0007CAF8  38 1E 00 03 */	addi r0, r30, 3
/* 8007FB9C 0007CAFC  54 64 0F FE */	srwi r4, r3, 0x1f
/* 8007FBA0 0007CB00  7C 00 16 70 */	srawi r0, r0, 2
/* 8007FBA4 0007CB04  54 A6 0F FE */	srwi r6, r5, 0x1f
/* 8007FBA8 0007CB08  7C 63 22 14 */	add r3, r3, r4
/* 8007FBAC 0007CB0C  7C 00 01 94 */	addze r0, r0
/* 8007FBB0 0007CB10  7C 85 32 14 */	add r4, r5, r6
/* 8007FBB4 0007CB14  7C 03 00 50 */	subf r0, r3, r0
/* 8007FBB8 0007CB18  7F 04 02 14 */	add r24, r4, r0
lbl_8007FBBC:
/* 8007FBBC 0007CB1C  7F C0 16 70 */	srawi r0, r30, 2
/* 8007FBC0 0007CB20  7C 00 01 94 */	addze r0, r0
/* 8007FBC4 0007CB24  54 00 10 3A */	slwi r0, r0, 2
/* 8007FBC8 0007CB28  7C 00 F0 10 */	subfc r0, r0, r30
/* 8007FBCC 0007CB2C  2C 00 00 00 */	cmpwi r0, 0
/* 8007FBD0 0007CB30  38 80 00 01 */	li r4, 1
/* 8007FBD4 0007CB34  38 A0 00 00 */	li r5, 0
/* 8007FBD8 0007CB38  40 82 00 30 */	bne lbl_8007FC08
/* 8007FBDC 0007CB3C  3C 60 51 EC */	lis r3, 0x51EB851F@ha
/* 8007FBE0 0007CB40  38 03 85 1F */	addi r0, r3, 0x51EB851F@l
/* 8007FBE4 0007CB44  7C 00 F0 96 */	mulhw r0, r0, r30
/* 8007FBE8 0007CB48  7C 00 2E 70 */	srawi r0, r0, 5
/* 8007FBEC 0007CB4C  54 03 0F FE */	srwi r3, r0, 0x1f
/* 8007FBF0 0007CB50  7C 00 1A 14 */	add r0, r0, r3
/* 8007FBF4 0007CB54  1C 00 00 64 */	mulli r0, r0, 0x64
/* 8007FBF8 0007CB58  7C 00 F0 50 */	subf r0, r0, r30
/* 8007FBFC 0007CB5C  2C 00 00 00 */	cmpwi r0, 0
/* 8007FC00 0007CB60  41 82 00 08 */	beq lbl_8007FC08
/* 8007FC04 0007CB64  7C 85 23 78 */	mr r5, r4
lbl_8007FC08:
/* 8007FC08 0007CB68  2C 05 00 00 */	cmpwi r5, 0
/* 8007FC0C 0007CB6C  40 82 00 30 */	bne lbl_8007FC3C
/* 8007FC10 0007CB70  3C 60 51 EC */	lis r3, 0x51EB851F@ha
/* 8007FC14 0007CB74  38 03 85 1F */	addi r0, r3, 0x51EB851F@l
/* 8007FC18 0007CB78  7C 00 F0 96 */	mulhw r0, r0, r30
/* 8007FC1C 0007CB7C  7C 00 3E 70 */	srawi r0, r0, 7
/* 8007FC20 0007CB80  54 03 0F FE */	srwi r3, r0, 0x1f
/* 8007FC24 0007CB84  7C 00 1A 14 */	add r0, r0, r3
/* 8007FC28 0007CB88  1C 00 01 90 */	mulli r0, r0, 0x190
/* 8007FC2C 0007CB8C  7C 00 F0 50 */	subf r0, r0, r30
/* 8007FC30 0007CB90  2C 00 00 00 */	cmpwi r0, 0
/* 8007FC34 0007CB94  41 82 00 08 */	beq lbl_8007FC3C
/* 8007FC38 0007CB98  38 80 00 00 */	li r4, 0
lbl_8007FC3C:
/* 8007FC3C 0007CB9C  2C 04 00 00 */	cmpwi r4, 0
/* 8007FC40 0007CBA0  41 82 00 10 */	beq lbl_8007FC50
/* 8007FC44 0007CBA4  3C 60 80 0E */	lis r3, LeapYearDays@ha
/* 8007FC48 0007CBA8  3A E3 09 F8 */	addi r23, r3, LeapYearDays@l
/* 8007FC4C 0007CBAC  48 00 00 0C */	b lbl_8007FC58
lbl_8007FC50:
/* 8007FC50 0007CBB0  3C 60 80 0E */	lis r3, YearDays@ha
/* 8007FC54 0007CBB4  3A E3 09 C8 */	addi r23, r3, YearDays@l
lbl_8007FC58:
/* 8007FC58 0007CBB8  3F 20 80 00 */	lis r25, 0x800000F8@ha
/* 8007FC5C 0007CBBC  80 B6 00 24 */	lwz r5, 0x24(r22)
/* 8007FC60 0007CBC0  80 19 00 F8 */	lwz r0, 0x800000F8@l(r25)
/* 8007FC64 0007CBC4  3C 60 43 1C */	lis r3, 0x431BDE83@ha
/* 8007FC68 0007CBC8  38 63 DE 83 */	addi r3, r3, 0x431BDE83@l
/* 8007FC6C 0007CBCC  54 00 F0 BE */	srwi r0, r0, 2
/* 8007FC70 0007CBD0  7C 03 00 16 */	mulhwu r0, r3, r0
/* 8007FC74 0007CBD4  54 04 8B FE */	srwi r4, r0, 0xf
/* 8007FC78 0007CBD8  7C A0 FE 70 */	srawi r0, r5, 0x1f
/* 8007FC7C 0007CBDC  7C 60 21 D6 */	mullw r3, r0, r4
/* 8007FC80 0007CBE0  7C 05 20 16 */	mulhwu r0, r5, r4
/* 8007FC84 0007CBE4  3B E0 00 00 */	li r31, 0
/* 8007FC88 0007CBE8  7C 63 02 14 */	add r3, r3, r0
/* 8007FC8C 0007CBEC  7C 05 F9 D6 */	mullw r0, r5, r31
/* 8007FC90 0007CBF0  7C 85 21 D6 */	mullw r4, r5, r4
/* 8007FC94 0007CBF4  7C 63 02 14 */	add r3, r3, r0
/* 8007FC98 0007CBF8  38 A0 00 00 */	li r5, 0
/* 8007FC9C 0007CBFC  38 C0 00 08 */	li r6, 8
/* 8007FCA0 0007CC00  48 01 B3 7D */	bl __div2i
/* 8007FCA4 0007CC04  57 40 10 3A */	slwi r0, r26, 2
/* 8007FCA8 0007CC08  83 56 00 00 */	lwz r26, 0(r22)
/* 8007FCAC 0007CC0C  83 96 00 04 */	lwz r28, 4(r22)
/* 8007FCB0 0007CC10  3B A0 00 3C */	li r29, 0x3c
/* 8007FCB4 0007CC14  7F 5B FE 70 */	srawi r27, r26, 0x1f
/* 8007FCB8 0007CC18  80 B6 00 0C */	lwz r5, 0xc(r22)
/* 8007FCBC 0007CC1C  7C 17 00 2E */	lwzx r0, r23, r0
/* 8007FCC0 0007CC20  7F 8B FE 70 */	srawi r11, r28, 0x1f
/* 8007FCC4 0007CC24  81 56 00 08 */	lwz r10, 8(r22)
/* 8007FCC8 0007CC28  7C A0 2A 14 */	add r5, r0, r5
/* 8007FCCC 0007CC2C  83 39 00 F8 */	lwz r25, 0xf8(r25)
/* 8007FCD0 0007CC30  7D 47 FE 70 */	srawi r7, r10, 0x1f
/* 8007FCD4 0007CC34  82 F6 00 20 */	lwz r23, 0x20(r22)
/* 8007FCD8 0007CC38  38 05 FF FF */	addi r0, r5, -1
/* 8007FCDC 0007CC3C  39 20 0E 10 */	li r9, 0xe10
/* 8007FCE0 0007CC40  3C A0 01 E1 */	lis r5, 0x01E13380@ha
/* 8007FCE4 0007CC44  38 C5 33 80 */	addi r6, r5, 0x01E13380@l
/* 8007FCE8 0007CC48  7F CC FE 70 */	srawi r12, r30, 0x1f
/* 8007FCEC 0007CC4C  7E 58 02 14 */	add r18, r24, r0
/* 8007FCF0 0007CC50  3C A0 00 01 */	lis r5, 0x00015180@ha
/* 8007FCF4 0007CC54  3A 65 51 80 */	addi r19, r5, 0x00015180@l
/* 8007FCF8 0007CC58  7E 48 FE 70 */	srawi r8, r18, 0x1f
/* 8007FCFC 0007CC5C  7C AC 31 D6 */	mullw r5, r12, r6
/* 8007FD00 0007CC60  7C 1E 30 16 */	mulhwu r0, r30, r6
/* 8007FD04 0007CC64  7C A5 02 14 */	add r5, r5, r0
/* 8007FD08 0007CC68  7C 1E F9 D6 */	mullw r0, r30, r31
/* 8007FD0C 0007CC6C  3E C0 10 62 */	lis r22, 0x10624DD3@ha
/* 8007FD10 0007CC70  3F 00 4E 1E */	lis r24, 0x4E1E4080@ha
/* 8007FD14 0007CC74  7E 88 99 D6 */	mullw r20, r8, r19
/* 8007FD18 0007CC78  7E B2 98 16 */	mulhwu r21, r18, r19
/* 8007FD1C 0007CC7C  7E 94 AA 14 */	add r20, r20, r21
/* 8007FD20 0007CC80  7E B2 F9 D6 */	mullw r21, r18, r31
/* 8007FD24 0007CC84  7D 07 49 D6 */	mullw r8, r7, r9
/* 8007FD28 0007CC88  7C EA 48 16 */	mulhwu r7, r10, r9
/* 8007FD2C 0007CC8C  7D 08 3A 14 */	add r8, r8, r7
/* 8007FD30 0007CC90  7C EA F9 D6 */	mullw r7, r10, r31
/* 8007FD34 0007CC94  7D 8B E9 D6 */	mullw r12, r11, r29
/* 8007FD38 0007CC98  7D 7C E8 16 */	mulhwu r11, r28, r29
/* 8007FD3C 0007CC9C  7D 8C 5A 14 */	add r12, r12, r11
/* 8007FD40 0007CCA0  7D 7C F9 D6 */	mullw r11, r28, r31
/* 8007FD44 0007CCA4  7F DE 31 D6 */	mullw r30, r30, r6
/* 8007FD48 0007CCA8  7C D2 99 D6 */	mullw r6, r18, r19
/* 8007FD4C 0007CCAC  7D 4A 49 D6 */	mullw r10, r10, r9
/* 8007FD50 0007CCB0  7E 5C E9 D6 */	mullw r18, r28, r29
/* 8007FD54 0007CCB4  7D 25 02 14 */	add r9, r5, r0
/* 8007FD58 0007CCB8  7C B4 AA 14 */	add r5, r20, r21
/* 8007FD5C 0007CCBC  7C 1E 30 14 */	addc r0, r30, r6
/* 8007FD60 0007CCC0  7C A9 29 14 */	adde r5, r9, r5
/* 8007FD64 0007CCC4  7C C8 3A 14 */	add r6, r8, r7
/* 8007FD68 0007CCC8  7C 0A 00 14 */	addc r0, r10, r0
/* 8007FD6C 0007CCCC  7C A6 29 14 */	adde r5, r6, r5
/* 8007FD70 0007CCD0  7C CC 5A 14 */	add r6, r12, r11
/* 8007FD74 0007CCD4  7C 12 00 14 */	addc r0, r18, r0
/* 8007FD78 0007CCD8  7C C6 29 14 */	adde r6, r6, r5
/* 8007FD7C 0007CCDC  7C FA 00 14 */	addc r7, r26, r0
/* 8007FD80 0007CCE0  57 28 F0 BE */	srwi r8, r25, 2
/* 8007FD84 0007CCE4  38 16 4D D3 */	addi r0, r22, 0x10624DD3@l
/* 8007FD88 0007CCE8  7C 00 40 16 */	mulhwu r0, r0, r8
/* 8007FD8C 0007CCEC  54 05 D1 BE */	srwi r5, r0, 6
/* 8007FD90 0007CCF0  7C DB 31 14 */	adde r6, r27, r6
/* 8007FD94 0007CCF4  38 18 40 80 */	addi r0, r24, 0x4E1E4080@l
/* 8007FD98 0007CCF8  7D 47 00 14 */	addc r10, r7, r0
/* 8007FD9C 0007CCFC  38 00 FF F1 */	li r0, -15
/* 8007FDA0 0007CD00  7C C6 01 14 */	adde r6, r6, r0
/* 8007FDA4 0007CD04  7E E0 FE 70 */	srawi r0, r23, 0x1f
/* 8007FDA8 0007CD08  7D 26 41 D6 */	mullw r9, r6, r8
/* 8007FDAC 0007CD0C  7C EA 40 16 */	mulhwu r7, r10, r8
/* 8007FDB0 0007CD10  7D 29 3A 14 */	add r9, r9, r7
/* 8007FDB4 0007CD14  7C EA F9 D6 */	mullw r7, r10, r31
/* 8007FDB8 0007CD18  7C C0 29 D6 */	mullw r6, r0, r5
/* 8007FDBC 0007CD1C  7C 17 28 16 */	mulhwu r0, r23, r5
/* 8007FDC0 0007CD20  7C C6 02 14 */	add r6, r6, r0
/* 8007FDC4 0007CD24  7C 17 F9 D6 */	mullw r0, r23, r31
/* 8007FDC8 0007CD28  7D 0A 41 D6 */	mullw r8, r10, r8
/* 8007FDCC 0007CD2C  7C B7 29 D6 */	mullw r5, r23, r5
/* 8007FDD0 0007CD30  7C E9 3A 14 */	add r7, r9, r7
/* 8007FDD4 0007CD34  7C 06 02 14 */	add r0, r6, r0
/* 8007FDD8 0007CD38  7C A8 28 14 */	addc r5, r8, r5
/* 8007FDDC 0007CD3C  7C 07 01 14 */	adde r0, r7, r0
/* 8007FDE0 0007CD40  7C 84 28 14 */	addc r4, r4, r5
/* 8007FDE4 0007CD44  7C 63 01 14 */	adde r3, r3, r0
/* 8007FDE8 0007CD48  BA 41 00 28 */	lmw r18, 0x28(r1)
/* 8007FDEC 0007CD4C  80 01 00 64 */	lwz r0, 0x64(r1)
/* 8007FDF0 0007CD50  38 21 00 60 */	addi r1, r1, 0x60
/* 8007FDF4 0007CD54  7C 08 03 A6 */	mtlr r0
/* 8007FDF8 0007CD58  4E 80 00 20 */	blr 
