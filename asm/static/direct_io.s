.include "macros.inc"

.section .text

.org 0x8009C6C0

.global __fwrite
__fwrite:
/* 8009C6C0 00099620  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8009C6C4 00099624  7C 08 02 A6 */	mflr r0
/* 8009C6C8 00099628  90 01 00 34 */	stw r0, 0x34(r1)
/* 8009C6CC 0009962C  BF 21 00 14 */	stmw r25, 0x14(r1)
/* 8009C6D0 00099630  7C 99 23 78 */	mr r25, r4
/* 8009C6D4 00099634  7C DA 33 78 */	mr r26, r6
/* 8009C6D8 00099638  7C 7B 1B 78 */	mr r27, r3
/* 8009C6DC 0009963C  7C BC 2B 78 */	mr r28, r5
/* 8009C6E0 00099640  38 80 00 00 */	li r4, 0
/* 8009C6E4 00099644  7F 43 D3 78 */	mr r3, r26
/* 8009C6E8 00099648  48 00 36 B5 */	bl fwide
/* 8009C6EC 0009964C  2C 03 00 00 */	cmpwi r3, 0
/* 8009C6F0 00099650  40 82 00 10 */	bne lbl_8009C700
/* 8009C6F4 00099654  7F 43 D3 78 */	mr r3, r26
/* 8009C6F8 00099658  38 80 FF FF */	li r4, -1
/* 8009C6FC 0009965C  48 00 36 A1 */	bl fwide
lbl_8009C700:
/* 8009C700 00099660  7F B9 E1 D7 */	mullw. r29, r25, r28
/* 8009C704 00099664  41 82 00 1C */	beq lbl_8009C720
/* 8009C708 00099668  88 1A 00 0A */	lbz r0, 0xa(r26)
/* 8009C70C 0009966C  28 00 00 00 */	cmplwi r0, 0
/* 8009C710 00099670  40 82 00 10 */	bne lbl_8009C720
/* 8009C714 00099674  A0 1A 00 04 */	lhz r0, 4(r26)
/* 8009C718 00099678  54 00 D7 7F */	rlwinm. r0, r0, 0x1a, 0x1d, 0x1f
/* 8009C71C 0009967C  40 82 00 0C */	bne lbl_8009C728
lbl_8009C720:
/* 8009C720 00099680  38 60 00 00 */	li r3, 0
/* 8009C724 00099684  48 00 02 94 */	b lbl_8009C9B8
lbl_8009C728:
/* 8009C728 00099688  28 00 00 02 */	cmplwi r0, 2
/* 8009C72C 0009968C  40 82 00 08 */	bne lbl_8009C734
/* 8009C730 00099690  48 00 0D 15 */	bl __stdio_atexit
lbl_8009C734:
/* 8009C734 00099694  88 1A 00 05 */	lbz r0, 5(r26)
/* 8009C738 00099698  3B E0 00 01 */	li r31, 1
/* 8009C73C 0009969C  38 60 00 00 */	li r3, 0
/* 8009C740 000996A0  54 00 EF FF */	rlwinm. r0, r0, 0x1d, 0x1f, 0x1f
/* 8009C744 000996A4  41 82 00 14 */	beq lbl_8009C758
/* 8009C748 000996A8  88 1A 00 04 */	lbz r0, 4(r26)
/* 8009C74C 000996AC  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 8009C750 000996B0  28 00 00 02 */	cmplwi r0, 2
/* 8009C754 000996B4  40 82 00 08 */	bne lbl_8009C75C
lbl_8009C758:
/* 8009C758 000996B8  38 60 00 01 */	li r3, 1
lbl_8009C75C:
/* 8009C75C 000996BC  2C 03 00 00 */	cmpwi r3, 0
/* 8009C760 000996C0  40 82 00 18 */	bne lbl_8009C778
/* 8009C764 000996C4  88 1A 00 04 */	lbz r0, 4(r26)
/* 8009C768 000996C8  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 8009C76C 000996CC  28 00 00 01 */	cmplwi r0, 1
/* 8009C770 000996D0  41 82 00 08 */	beq lbl_8009C778
/* 8009C774 000996D4  3B E0 00 00 */	li r31, 0
lbl_8009C778:
/* 8009C778 000996D8  88 1A 00 08 */	lbz r0, 8(r26)
/* 8009C77C 000996DC  54 00 DF 7F */	rlwinm. r0, r0, 0x1b, 0x1d, 0x1f
/* 8009C780 000996E0  40 82 00 54 */	bne lbl_8009C7D4
/* 8009C784 000996E4  88 7A 00 04 */	lbz r3, 4(r26)
/* 8009C788 000996E8  54 60 EF BD */	rlwinm. r0, r3, 0x1d, 0x1e, 0x1e
/* 8009C78C 000996EC  54 63 EF 7E */	rlwinm r3, r3, 0x1d, 0x1d, 0x1f
/* 8009C790 000996F0  41 82 00 44 */	beq lbl_8009C7D4
/* 8009C794 000996F4  54 60 07 7B */	rlwinm. r0, r3, 0, 0x1d, 0x1d
/* 8009C798 000996F8  41 82 00 24 */	beq lbl_8009C7BC
/* 8009C79C 000996FC  7F 43 D3 78 */	mr r3, r26
/* 8009C7A0 00099700  38 80 00 00 */	li r4, 0
/* 8009C7A4 00099704  38 A0 00 02 */	li r5, 2
/* 8009C7A8 00099708  48 00 04 3D */	bl fseek
/* 8009C7AC 0009970C  2C 03 00 00 */	cmpwi r3, 0
/* 8009C7B0 00099710  41 82 00 0C */	beq lbl_8009C7BC
/* 8009C7B4 00099714  38 60 00 00 */	li r3, 0
/* 8009C7B8 00099718  48 00 02 00 */	b lbl_8009C9B8
lbl_8009C7BC:
/* 8009C7BC 0009971C  88 1A 00 08 */	lbz r0, 8(r26)
/* 8009C7C0 00099720  38 60 00 01 */	li r3, 1
/* 8009C7C4 00099724  50 60 2E 34 */	rlwimi r0, r3, 5, 0x18, 0x1a
/* 8009C7C8 00099728  7F 43 D3 78 */	mr r3, r26
/* 8009C7CC 0009972C  98 1A 00 08 */	stb r0, 8(r26)
/* 8009C7D0 00099730  4B FF FE 99 */	bl __prep_buffer
lbl_8009C7D4:
/* 8009C7D4 00099734  88 1A 00 08 */	lbz r0, 8(r26)
/* 8009C7D8 00099738  54 00 DF 7E */	rlwinm r0, r0, 0x1b, 0x1d, 0x1f
/* 8009C7DC 0009973C  28 00 00 01 */	cmplwi r0, 1
/* 8009C7E0 00099740  41 82 00 1C */	beq lbl_8009C7FC
/* 8009C7E4 00099744  38 60 00 01 */	li r3, 1
/* 8009C7E8 00099748  38 00 00 00 */	li r0, 0
/* 8009C7EC 0009974C  98 7A 00 0A */	stb r3, 0xa(r26)
/* 8009C7F0 00099750  38 60 00 00 */	li r3, 0
/* 8009C7F4 00099754  90 1A 00 28 */	stw r0, 0x28(r26)
/* 8009C7F8 00099758  48 00 01 C0 */	b lbl_8009C9B8
lbl_8009C7FC:
/* 8009C7FC 0009975C  28 1D 00 00 */	cmplwi r29, 0
/* 8009C800 00099760  7F 7E DB 78 */	mr r30, r27
/* 8009C804 00099764  3B 80 00 00 */	li r28, 0
/* 8009C808 00099768  41 82 01 20 */	beq lbl_8009C928
/* 8009C80C 0009976C  80 9A 00 24 */	lwz r4, 0x24(r26)
/* 8009C810 00099770  80 7A 00 1C */	lwz r3, 0x1c(r26)
/* 8009C814 00099774  7C 04 18 40 */	cmplw r4, r3
/* 8009C818 00099778  40 82 00 0C */	bne lbl_8009C824
/* 8009C81C 0009977C  2C 1F 00 00 */	cmpwi r31, 0
/* 8009C820 00099780  41 82 01 08 */	beq lbl_8009C928
lbl_8009C824:
/* 8009C824 00099784  80 1A 00 20 */	lwz r0, 0x20(r26)
/* 8009C828 00099788  7C 63 20 50 */	subf r3, r3, r4
/* 8009C82C 0009978C  7C 03 00 50 */	subf r0, r3, r0
/* 8009C830 00099790  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8009C834:
/* 8009C834 00099794  80 1A 00 28 */	lwz r0, 0x28(r26)
/* 8009C838 00099798  3B 60 00 00 */	li r27, 0
/* 8009C83C 0009979C  7C 00 E8 40 */	cmplw r0, r29
/* 8009C840 000997A0  90 01 00 08 */	stw r0, 8(r1)
/* 8009C844 000997A4  40 81 00 08 */	ble lbl_8009C84C
/* 8009C848 000997A8  93 A1 00 08 */	stw r29, 8(r1)
lbl_8009C84C:
/* 8009C84C 000997AC  88 1A 00 04 */	lbz r0, 4(r26)
/* 8009C850 000997B0  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 8009C854 000997B4  28 00 00 01 */	cmplwi r0, 1
/* 8009C858 000997B8  40 82 00 30 */	bne lbl_8009C888
/* 8009C85C 000997BC  80 A1 00 08 */	lwz r5, 8(r1)
/* 8009C860 000997C0  28 05 00 00 */	cmplwi r5, 0
/* 8009C864 000997C4  41 82 00 24 */	beq lbl_8009C888
/* 8009C868 000997C8  7F C3 F3 78 */	mr r3, r30
/* 8009C86C 000997CC  38 80 00 0A */	li r4, 0xa
/* 8009C870 000997D0  48 00 07 D1 */	bl __memrchr
/* 8009C874 000997D4  7C 7B 1B 79 */	or. r27, r3, r3
/* 8009C878 000997D8  41 82 00 10 */	beq lbl_8009C888
/* 8009C87C 000997DC  38 1B 00 01 */	addi r0, r27, 1
/* 8009C880 000997E0  7C 1E 00 50 */	subf r0, r30, r0
/* 8009C884 000997E4  90 01 00 08 */	stw r0, 8(r1)
lbl_8009C888:
/* 8009C888 000997E8  80 A1 00 08 */	lwz r5, 8(r1)
/* 8009C88C 000997EC  28 05 00 00 */	cmplwi r5, 0
/* 8009C890 000997F0  41 82 00 3C */	beq lbl_8009C8CC
/* 8009C894 000997F4  80 7A 00 24 */	lwz r3, 0x24(r26)
/* 8009C898 000997F8  7F C4 F3 78 */	mr r4, r30
/* 8009C89C 000997FC  4B F6 6B F5 */	bl memcpy
/* 8009C8A0 00099800  80 61 00 08 */	lwz r3, 8(r1)
/* 8009C8A4 00099804  80 1A 00 24 */	lwz r0, 0x24(r26)
/* 8009C8A8 00099808  7F DE 1A 14 */	add r30, r30, r3
/* 8009C8AC 0009980C  7F 9C 1A 14 */	add r28, r28, r3
/* 8009C8B0 00099810  7C 00 1A 14 */	add r0, r0, r3
/* 8009C8B4 00099814  7F A3 E8 50 */	subf r29, r3, r29
/* 8009C8B8 00099818  90 1A 00 24 */	stw r0, 0x24(r26)
/* 8009C8BC 0009981C  80 61 00 08 */	lwz r3, 8(r1)
/* 8009C8C0 00099820  80 1A 00 28 */	lwz r0, 0x28(r26)
/* 8009C8C4 00099824  7C 03 00 50 */	subf r0, r3, r0
/* 8009C8C8 00099828  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8009C8CC:
/* 8009C8CC 0009982C  80 1A 00 28 */	lwz r0, 0x28(r26)
/* 8009C8D0 00099830  28 00 00 00 */	cmplwi r0, 0
/* 8009C8D4 00099834  41 82 00 18 */	beq lbl_8009C8EC
/* 8009C8D8 00099838  28 1B 00 00 */	cmplwi r27, 0
/* 8009C8DC 0009983C  40 82 00 10 */	bne lbl_8009C8EC
/* 8009C8E0 00099840  88 1A 00 04 */	lbz r0, 4(r26)
/* 8009C8E4 00099844  54 00 FF BF */	rlwinm. r0, r0, 0x1f, 0x1e, 0x1f
/* 8009C8E8 00099848  40 82 00 30 */	bne lbl_8009C918
lbl_8009C8EC:
/* 8009C8EC 0009984C  7F 43 D3 78 */	mr r3, r26
/* 8009C8F0 00099850  38 80 00 00 */	li r4, 0
/* 8009C8F4 00099854  4B FF FC B1 */	bl __flush_buffer
/* 8009C8F8 00099858  2C 03 00 00 */	cmpwi r3, 0
/* 8009C8FC 0009985C  41 82 00 1C */	beq lbl_8009C918
/* 8009C900 00099860  38 60 00 01 */	li r3, 1
/* 8009C904 00099864  38 00 00 00 */	li r0, 0
/* 8009C908 00099868  98 7A 00 0A */	stb r3, 0xa(r26)
/* 8009C90C 0009986C  3B A0 00 00 */	li r29, 0
/* 8009C910 00099870  90 1A 00 28 */	stw r0, 0x28(r26)
/* 8009C914 00099874  48 00 00 14 */	b lbl_8009C928
lbl_8009C918:
/* 8009C918 00099878  28 1D 00 00 */	cmplwi r29, 0
/* 8009C91C 0009987C  41 82 00 0C */	beq lbl_8009C928
/* 8009C920 00099880  2C 1F 00 00 */	cmpwi r31, 0
/* 8009C924 00099884  40 82 FF 10 */	bne lbl_8009C834
lbl_8009C928:
/* 8009C928 00099888  28 1D 00 00 */	cmplwi r29, 0
/* 8009C92C 0009988C  41 82 00 68 */	beq lbl_8009C994
/* 8009C930 00099890  2C 1F 00 00 */	cmpwi r31, 0
/* 8009C934 00099894  40 82 00 60 */	bne lbl_8009C994
/* 8009C938 00099898  83 7A 00 1C */	lwz r27, 0x1c(r26)
/* 8009C93C 0009989C  7C 1E EA 14 */	add r0, r30, r29
/* 8009C940 000998A0  83 FA 00 20 */	lwz r31, 0x20(r26)
/* 8009C944 000998A4  7F 43 D3 78 */	mr r3, r26
/* 8009C948 000998A8  38 81 00 08 */	addi r4, r1, 8
/* 8009C94C 000998AC  93 DA 00 1C */	stw r30, 0x1c(r26)
/* 8009C950 000998B0  93 BA 00 20 */	stw r29, 0x20(r26)
/* 8009C954 000998B4  90 1A 00 24 */	stw r0, 0x24(r26)
/* 8009C958 000998B8  4B FF FC 4D */	bl __flush_buffer
/* 8009C95C 000998BC  2C 03 00 00 */	cmpwi r3, 0
/* 8009C960 000998C0  41 82 00 14 */	beq lbl_8009C974
/* 8009C964 000998C4  38 60 00 01 */	li r3, 1
/* 8009C968 000998C8  38 00 00 00 */	li r0, 0
/* 8009C96C 000998CC  98 7A 00 0A */	stb r3, 0xa(r26)
/* 8009C970 000998D0  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8009C974:
/* 8009C974 000998D4  80 01 00 08 */	lwz r0, 8(r1)
/* 8009C978 000998D8  7F 43 D3 78 */	mr r3, r26
/* 8009C97C 000998DC  93 7A 00 1C */	stw r27, 0x1c(r26)
/* 8009C980 000998E0  7F 9C 02 14 */	add r28, r28, r0
/* 8009C984 000998E4  93 FA 00 20 */	stw r31, 0x20(r26)
/* 8009C988 000998E8  4B FF FC E1 */	bl __prep_buffer
/* 8009C98C 000998EC  38 00 00 00 */	li r0, 0
/* 8009C990 000998F0  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8009C994:
/* 8009C994 000998F4  88 1A 00 04 */	lbz r0, 4(r26)
/* 8009C998 000998F8  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 8009C99C 000998FC  28 00 00 02 */	cmplwi r0, 2
/* 8009C9A0 00099900  41 82 00 0C */	beq lbl_8009C9AC
/* 8009C9A4 00099904  38 00 00 00 */	li r0, 0
/* 8009C9A8 00099908  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8009C9AC:
/* 8009C9AC 0009990C  38 19 FF FF */	addi r0, r25, -1
/* 8009C9B0 00099910  7C 1C 02 14 */	add r0, r28, r0
/* 8009C9B4 00099914  7C 60 CB 96 */	divwu r3, r0, r25
lbl_8009C9B8:
/* 8009C9B8 00099918  BB 21 00 14 */	lmw r25, 0x14(r1)
/* 8009C9BC 0009991C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8009C9C0 00099920  7C 08 03 A6 */	mtlr r0
/* 8009C9C4 00099924  38 21 00 30 */	addi r1, r1, 0x30
/* 8009C9C8 00099928  4E 80 00 20 */	blr 

.global fwrite
fwrite:
/* 8009C9CC 0009992C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8009C9D0 00099930  7C 08 02 A6 */	mflr r0
/* 8009C9D4 00099934  90 01 00 14 */	stw r0, 0x14(r1)
/* 8009C9D8 00099938  4B FF FC E9 */	bl __fwrite
/* 8009C9DC 0009993C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8009C9E0 00099940  7C 08 03 A6 */	mtlr r0
/* 8009C9E4 00099944  38 21 00 10 */	addi r1, r1, 0x10
/* 8009C9E8 00099948  4E 80 00 20 */	blr 
