.include "macros.inc"

.section .text

.org 0x80019380

.global StreamMain__Fv
StreamMain__Fv:
/* 80019380 000162E0  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80019384 000162E4  7C 08 02 A6 */	mflr r0
/* 80019388 000162E8  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 8001938C 000162EC  90 01 00 34 */	stw r0, 0x34(r1)
/* 80019390 000162F0  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 80019394 000162F4  3B E3 02 28 */	addi r31, r3, J_STREAM@l
/* 80019398 000162F8  93 C1 00 28 */	stw r30, 0x28(r1)
/* 8001939C 000162FC  80 1F 00 00 */	lwz r0, 0(r31)
/* 800193A0 00016300  28 00 00 07 */	cmplwi r0, 7
/* 800193A4 00016304  41 81 03 94 */	bgt lbl_80019738
/* 800193A8 00016308  3C 60 80 0D */	lis r3, @176@ha
/* 800193AC 0001630C  54 00 10 3A */	slwi r0, r0, 2
/* 800193B0 00016310  38 63 02 54 */	addi r3, r3, @176@l
/* 800193B4 00016314  7C 03 00 2E */	lwzx r0, r3, r0
/* 800193B8 00016318  7C 09 03 A6 */	mtctr r0
/* 800193BC 0001631C  4E 80 04 20 */	bctr 
/* 800193C0 00016320  80 DF 00 04 */	lwz r6, 4(r31)
/* 800193C4 00016324  38 00 FF FF */	li r0, -1
/* 800193C8 00016328  2C 06 FF FF */	cmpwi r6, -1
/* 800193CC 0001632C  90 DF 00 08 */	stw r6, 8(r31)
/* 800193D0 00016330  90 1F 00 04 */	stw r0, 4(r31)
/* 800193D4 00016334  40 82 00 10 */	bne lbl_800193E4
/* 800193D8 00016338  38 00 00 00 */	li r0, 0
/* 800193DC 0001633C  90 1F 00 00 */	stw r0, 0(r31)
/* 800193E0 00016340  48 00 03 58 */	b lbl_80019738
lbl_800193E4:
/* 800193E4 00016344  3C A0 80 0D */	lis r5, J_STREAMNAME@ha
/* 800193E8 00016348  3C 60 80 18 */	lis r3, finfo$116@ha
/* 800193EC 0001634C  38 83 64 40 */	addi r4, r3, finfo$116@l
/* 800193F0 00016350  54 C3 20 36 */	slwi r3, r6, 4
/* 800193F4 00016354  38 05 01 A8 */	addi r0, r5, J_STREAMNAME@l
/* 800193F8 00016358  7C 60 1A 14 */	add r3, r0, r3
/* 800193FC 0001635C  48 06 B6 A1 */	bl DVDOpen
/* 80019400 00016360  2C 03 00 00 */	cmpwi r3, 0
/* 80019404 00016364  40 82 00 1C */	bne lbl_80019420
/* 80019408 00016368  38 80 FF FF */	li r4, -1
/* 8001940C 0001636C  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 80019410 00016370  38 00 00 00 */	li r0, 0
/* 80019414 00016374  90 9F 00 08 */	stw r4, 8(r31)
/* 80019418 00016378  90 03 02 28 */	stw r0, J_STREAM@l(r3)
/* 8001941C 0001637C  48 00 03 1C */	b lbl_80019738
lbl_80019420:
/* 80019420 00016380  3C 60 80 18 */	lis r3, finfo$116@ha
/* 80019424 00016384  3C 80 80 0D */	lis r4, J_STREAM@ha
/* 80019428 00016388  38 A3 64 40 */	addi r5, r3, finfo$116@l
/* 8001942C 0001638C  38 60 00 01 */	li r3, 1
/* 80019430 00016390  80 A5 00 34 */	lwz r5, 0x34(r5)
/* 80019434 00016394  38 84 02 28 */	addi r4, r4, J_STREAM@l
/* 80019438 00016398  54 A0 C2 3E */	srwi r0, r5, 8
/* 8001943C 0001639C  90 A4 00 28 */	stw r5, 0x28(r4)
/* 80019440 000163A0  1C 00 00 E0 */	mulli r0, r0, 0xe0
/* 80019444 000163A4  90 04 00 28 */	stw r0, 0x28(r4)
/* 80019448 000163A8  48 07 27 D9 */	bl AISetStreamSampleRate
/* 8001944C 000163AC  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 80019450 000163B0  38 63 02 28 */	addi r3, r3, J_STREAM@l
/* 80019454 000163B4  80 03 00 10 */	lwz r0, 0x10(r3)
/* 80019458 000163B8  2C 00 00 00 */	cmpwi r0, 0
/* 8001945C 000163BC  40 82 00 10 */	bne lbl_8001946C
/* 80019460 000163C0  C0 03 00 0C */	lfs f0, 0xc(r3)
/* 80019464 000163C4  D0 03 00 24 */	stfs f0, 0x24(r3)
/* 80019468 000163C8  48 00 00 0C */	b lbl_80019474
lbl_8001946C:
/* 8001946C 000163CC  C0 02 81 E8 */	lfs f0, @175-_SDA2_BASE_(r2)
/* 80019470 000163D0  D0 03 00 24 */	stfs f0, 0x24(r3)
lbl_80019474:
/* 80019474 000163D4  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 80019478 000163D8  3B C3 02 28 */	addi r30, r3, J_STREAM@l
/* 8001947C 000163DC  C0 1E 00 24 */	lfs f0, 0x24(r30)
/* 80019480 000163E0  FC 00 00 1E */	fctiwz f0, f0
/* 80019484 000163E4  D8 01 00 08 */	stfd f0, 8(r1)
/* 80019488 000163E8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8001948C 000163EC  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 80019490 000163F0  48 07 28 9D */	bl AISetStreamVolLeft
/* 80019494 000163F4  C0 1E 00 24 */	lfs f0, 0x24(r30)
/* 80019498 000163F8  FC 00 00 1E */	fctiwz f0, f0
/* 8001949C 000163FC  D8 01 00 10 */	stfd f0, 0x10(r1)
/* 800194A0 00016400  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800194A4 00016404  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 800194A8 00016408  48 07 28 B1 */	bl AISetStreamVolRight
/* 800194AC 0001640C  3C 60 80 18 */	lis r3, finfo$116@ha
/* 800194B0 00016410  38 80 00 00 */	li r4, 0
/* 800194B4 00016414  38 63 64 40 */	addi r3, r3, finfo$116@l
/* 800194B8 00016418  38 A0 00 00 */	li r5, 0
/* 800194BC 0001641C  38 C0 00 00 */	li r6, 0
/* 800194C0 00016420  48 06 BB 19 */	bl DVDPrepareStreamAsync
/* 800194C4 00016424  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 800194C8 00016428  38 00 00 02 */	li r0, 2
/* 800194CC 0001642C  90 03 02 28 */	stw r0, J_STREAM@l(r3)
/* 800194D0 00016430  48 00 02 68 */	b lbl_80019738
/* 800194D4 00016434  48 06 DC E9 */	bl DVDGetDriveStatus
/* 800194D8 00016438  2C 03 00 00 */	cmpwi r3, 0
/* 800194DC 0001643C  40 82 02 5C */	bne lbl_80019738
/* 800194E0 00016440  48 07 25 3D */	bl AIResetStreamSampleCount
/* 800194E4 00016444  38 60 00 01 */	li r3, 1
/* 800194E8 00016448  48 07 25 5D */	bl AISetStreamPlayState
/* 800194EC 0001644C  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 800194F0 00016450  38 00 00 03 */	li r0, 3
/* 800194F4 00016454  90 03 02 28 */	stw r0, J_STREAM@l(r3)
/* 800194F8 00016458  48 00 02 40 */	b lbl_80019738
/* 800194FC 0001645C  48 07 25 11 */	bl AIGetStreamSampleCount
/* 80019500 00016460  7C 7F 1B 78 */	mr r31, r3
/* 80019504 00016464  48 07 25 31 */	bl AIGetStreamTrigger
/* 80019508 00016468  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 8001950C 0001646C  3B C3 02 28 */	addi r30, r3, J_STREAM@l
/* 80019510 00016470  80 9E 00 10 */	lwz r4, 0x10(r30)
/* 80019514 00016474  2C 04 00 00 */	cmpwi r4, 0
/* 80019518 00016478  41 82 00 6C */	beq lbl_80019584
/* 8001951C 0001647C  6C 80 80 00 */	xoris r0, r4, 0x8000
/* 80019520 00016480  3C 60 43 30 */	lis r3, 0x4330
/* 80019524 00016484  90 01 00 14 */	stw r0, 0x14(r1)
/* 80019528 00016488  38 04 FF FF */	addi r0, r4, -1
/* 8001952C 0001648C  C0 7E 00 0C */	lfs f3, 0xc(r30)
/* 80019530 00016490  90 61 00 10 */	stw r3, 0x10(r1)
/* 80019534 00016494  C0 5E 00 24 */	lfs f2, 0x24(r30)
/* 80019538 00016498  C8 22 81 E0 */	lfd f1, @97-_SDA2_BASE_(r2)
/* 8001953C 0001649C  C8 01 00 10 */	lfd f0, 0x10(r1)
/* 80019540 000164A0  EC 63 10 28 */	fsubs f3, f3, f2
/* 80019544 000164A4  90 1E 00 10 */	stw r0, 0x10(r30)
/* 80019548 000164A8  EC 00 08 28 */	fsubs f0, f0, f1
/* 8001954C 000164AC  EC 63 00 24 */	fdivs f3, f3, f0
/* 80019550 000164B0  EC 22 18 2A */	fadds f1, f2, f3
/* 80019554 000164B4  FC 00 08 1E */	fctiwz f0, f1
/* 80019558 000164B8  D0 3E 00 24 */	stfs f1, 0x24(r30)
/* 8001955C 000164BC  D8 01 00 08 */	stfd f0, 8(r1)
/* 80019560 000164C0  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80019564 000164C4  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 80019568 000164C8  48 07 27 C5 */	bl AISetStreamVolLeft
/* 8001956C 000164CC  C0 1E 00 24 */	lfs f0, 0x24(r30)
/* 80019570 000164D0  FC 00 00 1E */	fctiwz f0, f0
/* 80019574 000164D4  D8 01 00 18 */	stfd f0, 0x18(r1)
/* 80019578 000164D8  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8001957C 000164DC  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 80019580 000164E0  48 07 27 D9 */	bl AISetStreamVolRight
lbl_80019584:
/* 80019584 000164E4  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 80019588 000164E8  3B C3 02 28 */	addi r30, r3, J_STREAM@l
/* 8001958C 000164EC  80 9E 00 20 */	lwz r4, 0x20(r30)
/* 80019590 000164F0  2C 04 00 00 */	cmpwi r4, 0
/* 80019594 000164F4  41 82 00 6C */	beq lbl_80019600
/* 80019598 000164F8  6C 80 80 00 */	xoris r0, r4, 0x8000
/* 8001959C 000164FC  3C 60 43 30 */	lis r3, 0x4330
/* 800195A0 00016500  90 01 00 1C */	stw r0, 0x1c(r1)
/* 800195A4 00016504  38 04 FF FF */	addi r0, r4, -1
/* 800195A8 00016508  C0 7E 00 1C */	lfs f3, 0x1c(r30)
/* 800195AC 0001650C  90 61 00 18 */	stw r3, 0x18(r1)
/* 800195B0 00016510  C0 5E 00 24 */	lfs f2, 0x24(r30)
/* 800195B4 00016514  C8 22 81 E0 */	lfd f1, @97-_SDA2_BASE_(r2)
/* 800195B8 00016518  C8 01 00 18 */	lfd f0, 0x18(r1)
/* 800195BC 0001651C  EC 63 10 28 */	fsubs f3, f3, f2
/* 800195C0 00016520  90 1E 00 20 */	stw r0, 0x20(r30)
/* 800195C4 00016524  EC 00 08 28 */	fsubs f0, f0, f1
/* 800195C8 00016528  EC 63 00 24 */	fdivs f3, f3, f0
/* 800195CC 0001652C  EC 22 18 2A */	fadds f1, f2, f3
/* 800195D0 00016530  FC 00 08 1E */	fctiwz f0, f1
/* 800195D4 00016534  D0 3E 00 24 */	stfs f1, 0x24(r30)
/* 800195D8 00016538  D8 01 00 10 */	stfd f0, 0x10(r1)
/* 800195DC 0001653C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800195E0 00016540  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 800195E4 00016544  48 07 27 49 */	bl AISetStreamVolLeft
/* 800195E8 00016548  C0 1E 00 24 */	lfs f0, 0x24(r30)
/* 800195EC 0001654C  FC 00 00 1E */	fctiwz f0, f0
/* 800195F0 00016550  D8 01 00 08 */	stfd f0, 8(r1)
/* 800195F4 00016554  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800195F8 00016558  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 800195FC 0001655C  48 07 27 5D */	bl AISetStreamVolRight
lbl_80019600:
/* 80019600 00016560  80 0D 80 70 */	lwz r0, JAC_FRAMESAMPLES-_SDA_BASE_(r13)
/* 80019604 00016564  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 80019608 00016568  38 83 02 28 */	addi r4, r3, J_STREAM@l
/* 8001960C 0001656C  80 64 00 28 */	lwz r3, 0x28(r4)
/* 80019610 00016570  1C 00 00 78 */	mulli r0, r0, 0x78
/* 80019614 00016574  7C 7F 18 50 */	subf r3, r31, r3
/* 80019618 00016578  7C 03 00 40 */	cmplw r3, r0
/* 8001961C 0001657C  40 80 01 1C */	bge lbl_80019738
/* 80019620 00016580  38 60 00 05 */	li r3, 5
/* 80019624 00016584  38 00 00 78 */	li r0, 0x78
/* 80019628 00016588  90 64 00 00 */	stw r3, 0(r4)
/* 8001962C 0001658C  90 04 00 18 */	stw r0, 0x18(r4)
/* 80019630 00016590  48 00 01 08 */	b lbl_80019738
/* 80019634 00016594  48 07 23 D9 */	bl AIGetStreamSampleCount
/* 80019638 00016598  3C 80 80 0D */	lis r4, J_STREAM@ha
/* 8001963C 0001659C  3B E4 02 28 */	addi r31, r4, J_STREAM@l
/* 80019640 000165A0  80 9F 00 18 */	lwz r4, 0x18(r31)
/* 80019644 000165A4  2C 04 00 00 */	cmpwi r4, 0
/* 80019648 000165A8  41 82 00 78 */	beq lbl_800196C0
/* 8001964C 000165AC  80 1F 00 28 */	lwz r0, 0x28(r31)
/* 80019650 000165B0  7C 03 00 51 */	subf. r0, r3, r0
/* 80019654 000165B4  41 82 00 6C */	beq lbl_800196C0
/* 80019658 000165B8  6C 80 80 00 */	xoris r0, r4, 0x8000
/* 8001965C 000165BC  3C 60 43 30 */	lis r3, 0x4330
/* 80019660 000165C0  90 01 00 1C */	stw r0, 0x1c(r1)
/* 80019664 000165C4  38 04 FF FF */	addi r0, r4, -1
/* 80019668 000165C8  C0 5F 00 24 */	lfs f2, 0x24(r31)
/* 8001966C 000165CC  90 61 00 18 */	stw r3, 0x18(r1)
/* 80019670 000165D0  C8 22 81 E0 */	lfd f1, @97-_SDA2_BASE_(r2)
/* 80019674 000165D4  FC 60 10 50 */	fneg f3, f2
/* 80019678 000165D8  C8 01 00 18 */	lfd f0, 0x18(r1)
/* 8001967C 000165DC  90 1F 00 18 */	stw r0, 0x18(r31)
/* 80019680 000165E0  EC 00 08 28 */	fsubs f0, f0, f1
/* 80019684 000165E4  EC 63 00 24 */	fdivs f3, f3, f0
/* 80019688 000165E8  EC 22 18 2A */	fadds f1, f2, f3
/* 8001968C 000165EC  FC 00 08 1E */	fctiwz f0, f1
/* 80019690 000165F0  D0 3F 00 24 */	stfs f1, 0x24(r31)
/* 80019694 000165F4  D8 01 00 10 */	stfd f0, 0x10(r1)
/* 80019698 000165F8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8001969C 000165FC  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 800196A0 00016600  48 07 26 8D */	bl AISetStreamVolLeft
/* 800196A4 00016604  C0 1F 00 24 */	lfs f0, 0x24(r31)
/* 800196A8 00016608  FC 00 00 1E */	fctiwz f0, f0
/* 800196AC 0001660C  D8 01 00 08 */	stfd f0, 8(r1)
/* 800196B0 00016610  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800196B4 00016614  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 800196B8 00016618  48 07 26 A1 */	bl AISetStreamVolRight
/* 800196BC 0001661C  48 00 00 7C */	b lbl_80019738
lbl_800196C0:
/* 800196C0 00016620  3C 60 80 18 */	lis r3, cmd$117@ha
/* 800196C4 00016624  38 63 64 7C */	addi r3, r3, cmd$117@l
/* 800196C8 00016628  48 06 D8 CD */	bl DVDCancelStream
/* 800196CC 0001662C  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 800196D0 00016630  38 00 00 06 */	li r0, 6
/* 800196D4 00016634  90 03 02 28 */	stw r0, J_STREAM@l(r3)
/* 800196D8 00016638  48 00 00 60 */	b lbl_80019738
/* 800196DC 0001663C  48 06 DA E1 */	bl DVDGetDriveStatus
/* 800196E0 00016640  2C 03 00 00 */	cmpwi r3, 0
/* 800196E4 00016644  40 82 00 54 */	bne lbl_80019738
/* 800196E8 00016648  38 60 00 00 */	li r3, 0
/* 800196EC 0001664C  48 07 23 59 */	bl AISetStreamPlayState
/* 800196F0 00016650  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 800196F4 00016654  38 00 00 07 */	li r0, 7
/* 800196F8 00016658  90 03 02 28 */	stw r0, J_STREAM@l(r3)
/* 800196FC 0001665C  48 00 00 3C */	b lbl_80019738
/* 80019700 00016660  48 06 DA BD */	bl DVDGetDriveStatus
/* 80019704 00016664  2C 03 00 00 */	cmpwi r3, 0
/* 80019708 00016668  40 82 00 30 */	bne lbl_80019738
/* 8001970C 0001666C  3C 60 80 18 */	lis r3, finfo$116@ha
/* 80019710 00016670  38 63 64 40 */	addi r3, r3, finfo$116@l
/* 80019714 00016674  48 06 B4 51 */	bl DVDClose
/* 80019718 00016678  3C 60 80 0D */	lis r3, J_STREAM@ha
/* 8001971C 0001667C  38 A0 FF FF */	li r5, -1
/* 80019720 00016680  38 83 02 28 */	addi r4, r3, J_STREAM@l
/* 80019724 00016684  38 00 00 01 */	li r0, 1
/* 80019728 00016688  90 A4 00 08 */	stw r5, 8(r4)
/* 8001972C 0001668C  38 60 00 00 */	li r3, 0
/* 80019730 00016690  90 04 00 00 */	stw r0, 0(r4)
/* 80019734 00016694  48 07 23 11 */	bl AISetStreamPlayState
lbl_80019738:
/* 80019738 00016698  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8001973C 0001669C  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 80019740 000166A0  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 80019744 000166A4  7C 08 03 A6 */	mtlr r0
/* 80019748 000166A8  38 21 00 30 */	addi r1, r1, 0x30
/* 8001974C 000166AC  4E 80 00 20 */	blr 
/* 80019750 000166B0  00 00 00 00 */	.4byte 0x00000000  /* unknown instruction */
/* 80019754 000166B4  00 00 00 00 */	.4byte 0x00000000  /* unknown instruction */
/* 80019758 000166B8  00 00 00 00 */	.4byte 0x00000000  /* unknown instruction */
/* 8001975C 000166BC  00 00 00 00 */	.4byte 0x00000000  /* unknown instruction */
