.include "macros.inc"

.section .text

.org 0x800A1FF4

.global TRKNubMainLoop
TRKNubMainLoop:
/* 800A1FF4 0009EF54  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800A1FF8 0009EF58  7C 08 02 A6 */	mflr r0
/* 800A1FFC 0009EF5C  90 01 00 24 */	stw r0, 0x24(r1)
/* 800A2000 0009EF60  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800A2004 0009EF64  3B E0 00 00 */	li r31, 0
/* 800A2008 0009EF68  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800A200C 0009EF6C  3B C0 00 00 */	li r30, 0
/* 800A2010 0009EF70  48 00 00 BC */	b lbl_800A20CC
lbl_800A2014:
/* 800A2014 0009EF74  38 61 00 08 */	addi r3, r1, 8
/* 800A2018 0009EF78  48 00 01 F1 */	bl TRKGetNextEvent
/* 800A201C 0009EF7C  2C 03 00 00 */	cmpwi r3, 0
/* 800A2020 0009EF80  41 82 00 6C */	beq lbl_800A208C
/* 800A2024 0009EF84  88 01 00 08 */	lbz r0, 8(r1)
/* 800A2028 0009EF88  3B C0 00 00 */	li r30, 0
/* 800A202C 0009EF8C  2C 00 00 02 */	cmpwi r0, 2
/* 800A2030 0009EF90  41 82 00 28 */	beq lbl_800A2058
/* 800A2034 0009EF94  40 80 00 14 */	bge lbl_800A2048
/* 800A2038 0009EF98  2C 00 00 00 */	cmpwi r0, 0
/* 800A203C 0009EF9C  41 82 00 44 */	beq lbl_800A2080
/* 800A2040 0009EFA0  40 80 00 28 */	bge lbl_800A2068
/* 800A2044 0009EFA4  48 00 00 3C */	b lbl_800A2080
lbl_800A2048:
/* 800A2048 0009EFA8  2C 00 00 05 */	cmpwi r0, 5
/* 800A204C 0009EFAC  41 82 00 30 */	beq lbl_800A207C
/* 800A2050 0009EFB0  40 80 00 30 */	bge lbl_800A2080
/* 800A2054 0009EFB4  48 00 00 1C */	b lbl_800A2070
lbl_800A2058:
/* 800A2058 0009EFB8  80 61 00 10 */	lwz r3, 0x10(r1)
/* 800A205C 0009EFBC  48 00 0E D9 */	bl TRKGetBuffer
/* 800A2060 0009EFC0  48 00 14 95 */	bl TRKDispatchMessage
/* 800A2064 0009EFC4  48 00 00 1C */	b lbl_800A2080
lbl_800A2068:
/* 800A2068 0009EFC8  3B E0 00 01 */	li r31, 1
/* 800A206C 0009EFCC  48 00 00 14 */	b lbl_800A2080
lbl_800A2070:
/* 800A2070 0009EFD0  38 61 00 08 */	addi r3, r1, 8
/* 800A2074 0009EFD4  48 00 53 25 */	bl TRKTargetInterrupt
/* 800A2078 0009EFD8  48 00 00 08 */	b lbl_800A2080
lbl_800A207C:
/* 800A207C 0009EFDC  48 00 4E 4D */	bl TRKTargetSupportRequest
lbl_800A2080:
/* 800A2080 0009EFE0  38 61 00 08 */	addi r3, r1, 8
/* 800A2084 0009EFE4  48 00 00 69 */	bl TRKDestructEvent
/* 800A2088 0009EFE8  48 00 00 44 */	b lbl_800A20CC
lbl_800A208C:
/* 800A208C 0009EFEC  2C 1E 00 00 */	cmpwi r30, 0
/* 800A2090 0009EFF0  41 82 00 1C */	beq lbl_800A20AC
/* 800A2094 0009EFF4  3C 60 80 21 */	lis r3, gTRKInputPendingPtr@ha
/* 800A2098 0009EFF8  38 63 AF A8 */	addi r3, r3, gTRKInputPendingPtr@l
/* 800A209C 0009EFFC  80 63 00 00 */	lwz r3, 0(r3)
/* 800A20A0 0009F000  88 03 00 00 */	lbz r0, 0(r3)
/* 800A20A4 0009F004  28 00 00 00 */	cmplwi r0, 0
/* 800A20A8 0009F008  41 82 00 10 */	beq lbl_800A20B8
lbl_800A20AC:
/* 800A20AC 0009F00C  3B C0 00 01 */	li r30, 1
/* 800A20B0 0009F010  48 00 10 69 */	bl TRKGetInput
/* 800A20B4 0009F014  48 00 00 18 */	b lbl_800A20CC
lbl_800A20B8:
/* 800A20B8 0009F018  48 00 4D C5 */	bl TRKTargetStopped
/* 800A20BC 0009F01C  2C 03 00 00 */	cmpwi r3, 0
/* 800A20C0 0009F020  40 82 00 08 */	bne lbl_800A20C8
/* 800A20C4 0009F024  48 00 6A 35 */	bl TRKTargetContinue
lbl_800A20C8:
/* 800A20C8 0009F028  3B C0 00 00 */	li r30, 0
lbl_800A20CC:
/* 800A20CC 0009F02C  2C 1F 00 00 */	cmpwi r31, 0
/* 800A20D0 0009F030  41 82 FF 44 */	beq lbl_800A2014
/* 800A20D4 0009F034  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800A20D8 0009F038  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800A20DC 0009F03C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800A20E0 0009F040  7C 08 03 A6 */	mtlr r0
/* 800A20E4 0009F044  38 21 00 20 */	addi r1, r1, 0x20
/* 800A20E8 0009F048  4E 80 00 20 */	blr 
