.include "macros.inc"

.section .text

.org 0x80083828

.global PSVECNormalize
PSVECNormalize:
/* 80083828 00080788  C0 02 88 00 */	lfs f0, @116-_SDA2_BASE_(r2)
/* 8008382C 0008078C  C0 22 88 04 */	lfs f1, @117-_SDA2_BASE_(r2)
/* 80083830 00080790  E0 43 00 00 */	psq_l f2, 0(r3), 0, qr0
/* 80083834 00080794  10 A2 00 B2 */	ps_mul f5, f2, f2
/* 80083838 00080798  E0 63 80 08 */	psq_l f3, 8(r3), 1, qr0
/* 8008383C 0008079C  10 83 28 FA */	ps_madd f4, f3, f3, f5
/* 80083840 000807A0  10 84 28 D4 */	ps_sum0 f4, f4, f3, f5
/* 80083844 000807A4  FC A0 20 34 */	frsqrte f5, f4
/* 80083848 000807A8  EC C5 01 72 */	fmuls f6, f5, f5
/* 8008384C 000807AC  EC 05 00 32 */	fmuls f0, f5, f0
/* 80083850 000807B0  EC C6 09 3C */	fnmsubs f6, f6, f4, f1
/* 80083854 000807B4  EC A6 00 32 */	fmuls f5, f6, f0
/* 80083858 000807B8  10 42 01 58 */	ps_muls0 f2, f2, f5
/* 8008385C 000807BC  F0 44 00 00 */	psq_st f2, 0(r4), 0, qr0
/* 80083860 000807C0  10 63 01 58 */	ps_muls0 f3, f3, f5
/* 80083864 000807C4  F0 64 80 08 */	psq_st f3, 8(r4), 1, qr0
/* 80083868 000807C8  4E 80 00 20 */	blr 

.global PSVECCrossProduct
PSVECCrossProduct:
/* 8008386C 000807CC  E0 24 00 00 */	psq_l f1, 0(r4), 0, qr0
/* 80083870 000807D0  C0 43 00 08 */	lfs f2, 8(r3)
/* 80083874 000807D4  E0 03 00 00 */	psq_l f0, 0(r3), 0, qr0
/* 80083878 000807D8  10 C1 0C A0 */	ps_merge10 f6, f1, f1
/* 8008387C 000807DC  C0 64 00 08 */	lfs f3, 8(r4)
/* 80083880 000807E0  10 81 00 B2 */	ps_mul f4, f1, f2
/* 80083884 000807E4  10 E1 00 18 */	ps_muls0 f7, f1, f0
/* 80083888 000807E8  10 A0 20 F8 */	ps_msub f5, f0, f3, f4
/* 8008388C 000807EC  11 00 39 B8 */	ps_msub f8, f0, f6, f7
/* 80083890 000807F0  11 25 2C E0 */	ps_merge11 f9, f5, f5
/* 80083894 000807F4  11 45 44 60 */	ps_merge01 f10, f5, f8
/* 80083898 000807F8  F1 25 80 00 */	psq_st f9, 0(r5), 1, qr0
/* 8008389C 000807FC  11 40 50 50 */	ps_neg f10, f10
/* 800838A0 00080800  F1 45 00 04 */	psq_st f10, 4(r5), 0, qr0
/* 800838A4 00080804  4E 80 00 20 */	blr 
